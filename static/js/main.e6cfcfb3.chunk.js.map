{"version":3,"sources":["pages/Games/common/GameModal/GameModal.module.scss","pages/Games/common/Levels/LevelButtons.module.scss","components/Forms/Input/style/Input.module.scss","pages/MainPage/MainPage.module.scss","pages/Games/PuzzleGame/PuzzleGame.module.scss","components/WordCard/WordCard.module.scss","pages/MainPage/Navigation/Navigation.module.scss","components/Buttons/Button.module.scss","redux/types.js","redux/reducer.user.js","redux/reducer.words.js","redux/games/action-types.js","redux/games/reducer.js","settings/settings.js","redux/reducer.book.js","redux/rootReducer.js","redux/store.js","components/Buttons/Button.js","components/Buttons/GitHubButton.js","assets/logo.jsx","pages/MainPage/Footer.js","helpers/gameUtils.js","components/Buttons/CloseButton.js","pages/MainPage/Navigation/AuthModal.js","components/Loading/LoadingSpinner.js","components/Loading/LoadingOverlay.js","pages/MainPage/Navigation/AuthBlock.js","components/Forms/Input/Input.js","helpers/requsts.server.js","redux/actions.user.js","redux/actions.words.js","redux/actions.auth.js","pages/MainPage/Navigation/AuthForm.js","components/Buttons/BookButton.js","components/Buttons/GameButton.js","settings/data.js","pages/MainPage/Navigation/NavigationBar.js","components/Buttons/LearnMoreButton.js","pages/MainPage/DescriptionBlock.js","pages/MainPage/MainPage.js","redux/actions.book.js","hooks/hooks.words.js","components/Buttons/SoundButton.js","components/Buttons/HardButton.js","helpers/utils.words.js","hooks/hooks.user.js","components/WordCard/ButtonsBlock.js","components/WordCard/WordCard.js","helpers/utils.checkers.js","pages/BookPage/BookContent.js","pages/BookPage/Menu/PagintaionInput.js","pages/BookPage/Menu/Pagination.js","pages/BookPage/Menu/GroupMenu.js","pages/BookPage/Menu/GameMenu.js","pages/BookPage/Menu/ModeToggle.js","components/Buttons/HomeLink.js","components/Buttons/SettingsButton.js","pages/BookPage/Menu/TotalValuesDisplay.js","components/Buttons/PopUpMenuButton.js","pages/BookPage/Menu/BookMenu.js","pages/BookPage/BookSettings.js","pages/BookPage/BookDisclaimerEmpty.js","pages/BookPage/VocabularyContent.js","pages/BookPage/BookPage.js","components/Buttons/CloseLink.jsx","components/AboutCard/AboutCard.js","pages/GamesPage/GamesPage.js","pages/Games/common/SoundButton.jsx","assets/audio/correct.mp3","assets/audio/error.mp3","pages/Games/common/FullScreenButton.jsx","pages/Games/common/Button.jsx","assets/images/branch.png","assets/images/photo_2021-04-09_11-20-47.jpg","pages/Games/Sprint/Timer.jsx","pages/Games/Sprint/GamePage.jsx","assets/images/parrot1.png","assets/images/parrot2.png","assets/images/parrot3.png","assets/images/parrot4.png","pages/Games/common/Lives.jsx","pages/Games/AudioCall/GamePageAudioCall.jsx","assets/images/snake.svg","assets/images/2.jpg","pages/Games/Savannah/GamePage.jsx","redux/games/actions.js","redux/games/thunk.statistics.js","redux/games/selectors.js","pages/StatisticsPage/StatisticsGameCard.jsx","pages/StatisticsPage/BarChart.jsx","pages/StatisticsPage/StatisticsPage.js","pages/Games/PuzzleGame/components/PuzzleCell.js","pages/Games/PuzzleGame/components/Symbol.js","pages/Games/PuzzleGame/components/PuzzleCard.js","hooks/hooks.game.js","pages/Games/PuzzleGame/PuzzleField.js","pages/Games/PuzzleGame/settings.js","pages/Games/common/Timer.js","pages/Games/PuzzleGame/components/Lives.js","pages/Games/PuzzleGame/components/WordsList.js","pages/Games/PuzzleGame/PuzzleGame.js","pages/UserPage/components/UserImageEditor.js","pages/UserPage/components/UserSettingsForm.js","pages/UserPage/UserPage.js","hooks/hooks.statistic.js","components/Buttons/ResetButton.js","pages/Games/common/BackToGameLink.js","pages/Games/common/GameModal/GameModal.js","pages/Games/common/StatisticModal/StatisticModal.js","pages/Games/common/Levels/LevelButtons.js","pages/Games/GameShell.js","components/Effects/SvgWave.js","settings/waves.js","pages/AboutPage/AboutPage.js","App.js","index.js","pages/UserPage/UserPage.module.scss","pages/AboutPage/AboutPage.module.scss","pages/StatisticsPage/StatisticPage.module.scss","pages/Games/Games.module.scss","pages/Games/AudioCall/AudioCallGame.module.scss","styles/LevelStyles.module.scss","pages/Games/common/StatisticModal/StatisticModal.module.scss","components/AboutCard/AboutCard.module.scss","pages/BookPage/BookPage.module.scss","components/Loading/Loading.module.scss","pages/GamesPage/GamesPage.module.scss"],"names":["module","exports","LOADING","SIGN_IN","LOG_OUT","ADD_WORDS_CHUNK","ADD_WORDS_GROUP","SET_USER_WORDS","ADD_WORD_TO_USER","SET_USER_SETTINGS","SET_BOOK_AVAILABLE_PAGES","REMOVE_PAGE_FROM_LIST","SET_CURRENT_WORDS","SET_CURRENT_PAGE","SET_CURRENT_GROUP","SET_BOOK_MODE","SET_BOOK_TRANSLATE_VISIBLE","SET_BOOK_BUTTONS_VISIBLE","SET_VOCABULARY_MODE","SET_VOCABULARY_CURRENT_PAGE","SET_VOCABULARY_WORDS","initialState","id","email","token","tokenExpire","isLogged","onLoading","words","getInitialUser","savedData","localStorage","getItem","parsedData","JSON","parse","SET_GAME_STATISTICS","RESET_GAME_STATISTICS","GET_GAME_STATISTICS","statusGame","level","gameStatistics","learnedWords","optional","isUpdating","isFetching","gameReducer","state","action","type","payload","VOCABULARY_MODE_DIFFICULT","VOCABULARY_MODE_NORMAL","VOCABULARY_MODE_DELETED","MODE_VOCABULARY","MODE_BOOK","WORD_HARD","MODE_DETECT_PATTERN","RegExp","SETTINGS","initialBookState","mode","isButtonsVisible","isTranslateVisible","savedUserSettings","currentGroup","currentPageIndex","pagesList","initPages","i","Object","keys","Array","fill","map","index","Number","getInitPagesList","currentWords","vocabularyMode","vocabularyWords","vocabularyCurrentPage","rootPersistConfig","key","storage","localforage","whitelist","blacklist","userPersistConfig","bookPersistConfig","reducers","combineReducers","user","persistReducer","userWords","forEach","word","group","page","isArray","push","wordIndex","findIndex","settings","newVocabulary","data","gameWords","book","list","pages","removePage","pageIndex","pageToRemoveIndex","newPagesList","pageNumber","splice","isInteger","singlePage","visibility","rootReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","enhancers","applyMiddleware","thunk","store","createStore","persistor","persistStore","Button","label","className","props","cx","classesCss","GitHubButton","nickName","classes","href","HardButton","icon","faGithub","rssLogo","xmlns","viewBox","data-name","d","Footer","RSSData","RSSLink","FooterDate","Authors","GHButton","shuffle","array","_array","slice","length","randomIndex","Math","floor","random","temp","getRandomNumber","min","max","ceil","getUserData","setFirstLetterToCapital","toUpperCase","CloseButton","faTimes","AuthModal","children","style","onClose","onClick","LoadingSpinner","faSpinner","LoadingOverlay","AuthBlock","useSelector","useState","modalIsOpen","setModalIsOpen","Avatar","to","alt","src","image","backgroundImage","process","BubbleButton","LoginButton","AuthButton","Active","Input","blockStyle","dataAttr","name","dataProps","attrName","hasOwnProperty","InputBlock","join","htmlFor","SERVER","getRequestData","method","body","request","withCredentials","headers","stringify","authRequest","path","a","fetch","userDataRequest","tokenRequest","userSettingsRequest","userSettingsRequestWithImage","userWordsRequest","wordId","wordToRequest","wordsRequest","addWordToUser","serUserWords","wordSet","setUserSettings","localData","setItem","e","getUserWords","dispatch","getState","checkToken","rawRes","ok","json","console","log","addUserWord","optionalPattern","successCounter","failCounter","deleted","userWord","res","updateExistingUserWord","addWordsChunk","wordsChunk","addWordsGroup","wordsGroup","syncUserWords","groupIndex","getWords","promiseQueue","pageNum","Promise","all","rawResPage","resPage","setLoading","status","setUser","userData","getNextExpireTime","moment","add","toISOString","getUserSettings","callsCount","userExistingSettings","c","signIn","userAuthData","userId","userRawData","userSettings","fullUserData","logOut","refreshToken","timeToStartRefresh","subtract","isBefore","isAfter","updateUserData","AuthForm","password","form","setForm","error","setError","errorMessage","setErrorMessage","buttonPressed","setButtonPressed","useDispatch","changeHandler","event","target","value","useEffect","login","test","autoComplete","AuthInput","onChange","minLength","AuthButtonSet","disabled","SignInButton","SignUpButton","BookButton","GameButton","gameCallValues","game","link","pathname","navigationImage","GAMES","puzzle","greetText","description","audiocall","savannah","sprint","wordsMinCount","GAMES_ARRAY","values","TEAM","about","NavigationBar","Navigation","LearnMoreButton","TransparentButton","DescriptionBlock","currentSlide","setCurrentSlide","SlideBlock","Slide","LearnMoreLink","hash","NavigationBlock","Pagination","el","PaginationButton","ButtonBlock","NavigationButton","faAngleLeft","slideCount","faAngleRight","girlStyle","MainPage","Bg","NavigationZIndex","Girl","Wave","removePagesFromPageList","setCurrentGroup","setCurrentWords","initialRequest","useWords","currentRequest","setCurrentRequest","setOnLoading","getWordsChunk","useCallback","initialGroupRequest","useWordsGroup","onGroupLoading","setGroupLoading","currentWordsGroup","setCurrentWordsGroup","getWordsGroup","requestPages","SoundButton","file","pronounce","useMemo","Audio","play","faBolt","createRandomChunkFromGroup","chunk","groupLength","randChunk","randomWord","getUserWordsChunk","userChunk","difficulty","filteredWords","filter","Boolean","find","getUserWordsGroup","userGroup","crossedGroup","useUserWordUpdate","updatedWord","setUpdatedWord","onError","setOnError","update","succeed","failed","currentWord","wordForUpdate","then","catch","ButtonsBlock","cardInfo","Icon","DeleteButton","StatsCounters","SuccessCounter","TotalCounter","fac","FastAverageColor","WordCard","notification","audio","audioMeaning","audioExample","textMeaning","textExample","transcription","wordTranslate","textMeaningTranslate","textExampleTranslate","averageColorData","setAverageColorData","setFailedCounter","setSuccessCounter","sectionVocabulary","useParams","audioPlayer","playAudio","url","phase","nextPhase","nextAudio","load","undefined","addEventListener","playNextAudio","removeEventListener","volume","getColorAsync","color","rgb","isLight","isWordHard","isHardMode","isWordDeleted","isShowHardStyle","background","Card","Hard","Deleted","HeaderBlock","Overlay","WordBlock","PrimaryBlock","SecondaryBlock","CardContent","dangerouslySetInnerHTML","__html","Example","checkGroup","checkPage","BookContent","setTotalValues","setTotalPagesCount","isPagesFirstDeleteComplete","setPageFirstDeleteComplete","currentUserWords","setCurrentUserWords","subscription","setSubscription","filters","getUserWordsChunkHelper","resWords","useUserWords","wordsToRender","history","useHistory","urlGroup","urlPage","findUserWord","totals","success","fail","learned","pagesToRemove","every","some","currentExistingPageIndex","existingPage","setCurrentPage","newPage","reduce","prev","nextPage","abs","DifficultWord","PaginationInput","totalPagesCount","editMode","setEditMode","setValue","PageCounter","SelectedInput","autoFocus","onBlur","paginationButtons","leftEnd","faAngleDoubleLeft","left","right","rightEnd","faAngleDoubleRight","currentPageList","pathBase","getNextPage","direction","getNextVocabularyPage","paginationGoTo","GroupMenu","isOpen","setIsOpen","GroupMenuToggle","levelStyles","PopUpMenu","BookLink","activeClassName","isActive","match","location","GameMenu","wordsToTransmit","NavigationLink","GameMenuToggler","fullWordsSet","flat","GameLink","GameLabel","GameLinkWrap","ModeToggle","HomeLink","faHome","SettingsButton","faCog","TotalValuesDisplay","totalValues","PopUpMenuButton","active","faChevronCircleUp","BookMenu","settingsOn","isSmallMenuOpened","setSmallMenuOpened","isGameMenuVisible","SmallWidthMenu","ShowWithSmallWidth","HideWithSmallWidth","BookSettings","settingsOff","SettingsBlock","SettingsContent","stopPropagation","SettingsCloseButton","SettingButtonBlock","ToggleButton","SettingButton","selected","Selected","Disabled","SettingButtonText","BookDisclaimerEmpty","DisclaimerBlock","Image","Text","VOCABULARY_SECTIONS","maxWordsInPage","VocabularyContent","currentUserWordsGroup","setCurrentUserWordsGroup","getUserWordsGroupHelper","resGroup","useUserWordsGroup","setWordsToRender","useLocation","urlVocabularyMode","userFlatWords","isDifficultyHard","pagesNumber","slicedUserWords","setVocabularyCurrentPage","VocabularyHeader","section","VocabularySection","BookPage","isSettingsVisible","setSettingsVisible","urlMode","CloseLink","CloseLinkButton","AboutCard","head","text","cardImageRound","cardImageBottomRound","CardImageBottomRound","CardImageRound","CardImage","CardText","GamesPage","GameCard","useStyles","makeStyles","button","border","outline","cursor","listStyle","transition","transform","fontSize","isEnabled","fullScreenBtn","FullScreenButton","fullScreenEnabled","setFullScreenEnabled","handleFullScreen","document","exitFullscreen","documentElement","requestFullscreen","display","alignItems","justifyContent","width","height","fontWeight","backgroundColor","borderRadius","marginTop","innerClasses","classNames","Timer","onCountdownFinish","initialTime","timerID","setTimeout","clearTimeout","MULTIPLIER","1","2","3","4","Marks","count","marks","Grid","container","justify","mark","item","trueMark","falseMark","Parrots","parrots","parrotsSrc","parrotsContainer","isVisible","hidden","parrot","branch","playSound","isCorrect","soundOn","correctSound","querySelector","errorSound","theme","createStyles","position","backgroundSize","backgroundRepeat","gameIcons","top","dataContainer","breakpoints","down","maxWidth","timerContainer","score","gameContainer","wordsContainer","zIndex","enWord","lineHeight","ruWord","animation","buttonsContainer","buttonFalse","flexDirection","buttonTrue","buttonIcon","audioButton","Sprint","onWordSelect","onGameEnd","setScore","rate","setRate","marksCombo","setMarksCombo","setSoundOn","wordCounter","setWordCounter","currentTranslation","setCurrentTranslation","currentChunk","n","audioPath","setWordTranslation","correctWordTranslation","arrOfTranslations","translation","randomTranslation","changeScore","correctAnswer","hasCombo","calculatedScore","handleChangeSound","changeParrots","changeMark","handleClick","handleKeyPress","preventDefault","Lives","livesCount","gameOver","AudioCall","setAnswer","arrOfWords","setArrOfWords","btnClicked","setBtnClicked","setLivesCount","setWord","wordAudio","setWordAudio","wordTranslation","currentSeries","setCurrentSeries","newWordTranslation","previousWordAudioURL","setWordsTranslation","f1","timer","checkAnswer","wordActive","answerActive","correct","handleWordClick","itemWord","containerGames","listWords","wordButton","bubble","wordButtonRight","includes","snake","snakeSize","fallingWord","textAlign","wrapperFalling","noAnimation","content","snakeCorrectAnswer","opacity","Savannah","answer","setSnakeSize","setGameStatistics","getGameStatistics","resetGameStatistics","server","getStatisticsThunk","statisticsSelector","createSelector","title","line","StatisticsGameCard","rightAnswersPercent","bestSeries","gameTitle","StatisticTable","options","responsive","maintainAspectRatio","BarChart","dataBar","labels","t","toLocaleDateString","day","month","year","datasets","borderColor","borderWidth","Chart","parseStatistics","allStatistics","isTodayDate","date","today","Date","setHours","toString","entries","singleDay","gameTotalStatistics","gameResult","entry","createdOn","rightAnswers","wrongAnswers","round","getTotalStatistics","byGameStatistics","totalStatistics","totalLearnedWords","getByGameStatistics","statistics","gameStatisticsEntries","getLongTermStatObj","getTime","longTermStat","longTermStatObj","y","longTermDeltaStat","dayStatistics","marginBottom","graphics","root","StatisticsPage","TOTAL","todayStatistics","rightAnswersPercentToday","defaults","defaultGamesData","barData","barDataDelta","handleChange","StatisticPage","Title","DayStatistic","GamesStatistic","ToggleBlock","RadioGroup","FormControlLabel","control","Radio","checked","Statistic","StatisticStrings","Value","TotalStatistic","StatisticBlock","Graphics","PuzzleCell","visible","hovered","Hovered","PuzzlePiece","Symbol","symbol","PuzzleCard","onClickWordSelect","onDragWordSelect","onDrag","onDragFlag","setOnDragFlag","motion","div","drag","dragConstraints","bottom","dragElastic","onDragStart","onDragEnd","useTimer","generateFn","checkInterval","condition","dependencies","generatorTimer","setInterval","clearInterval","defaultFnList","onGenerate","onWillGenerate","onTic","onPause","onPlay","onReset","onToggle","onSoftReset","AUTOCOMPLETE_WORD_SELECT_DURATION","AUTOCOMPLETE_SUCCESS_DURATION","PuzzleField","onSuccess","onWrongSelect","currentIntersectWord","setCurrentIntersectWord","setCurrentWord","cards","cells","setWords","cellsRef","useRef","onSuccessSelect","correctWordIndex","nextInc","onDragCheckIntersection","cardRect","getBoundingClientRect","crossedWord","cell","staticObj","mobileObj","objRect","mobileHorizontalCenter","relStatic","checkCollision","current","timeout","textWOTags","replace","regExp","matchAll","result","elem","PuzzlePieceWrap","ref","cycle","tic","reset","pause","softReset","fnList","generationTime","ticTime","fnListCopy","fn","timeToNextGen","setTimeToNextGen","walkCondition","setWalkCondition","willFurtherGenerate","toggle","getTimeToNextGen","useTimerGenerator","totalLives","LivesWrapper","Life","Burnt","WordList","currentWordIndex","Succeed","Failed","Current","TOTAL_LIVES","SECONDS_FOR_COMPLETE","TIC","PuzzleGame","lives","setLives","shouldReset","shouldPause","timerState","setTimerState","setAutoComplete","resetTimer","completeAssemblyHandler","wrongSelectHandler","GameLayout","CurrentWord","Translation","HelperBlock","Countdown","UserImageEditor","onUpdate","onRemove","onHoverState","setOnHover","ImageEditor","onMouseEnter","onMouseLeave","Visible","RemoveButton","UserSettingsForm","files","currentImage","setCurrentImage","onSendLoading","setOnSendLoading","FormData","settingsForServer","append","imageData","currentFormData","UserSettingsBlock","dataUrl","maxNumber","dataURLKey","onImageUpload","onImageUpdate","onImageRemove","isDragging","dragProps","UploadImageWrap","ImageLoadButton","Empty","placeholder","SendButton","UserPage","UserSettingsBlockContainer","ExitButton","useStatistic","currentUserStatistic","statistic","statisticForUpdate","savedGameStatistic","populateStatistics","now","addStatisticsThunk","ResetButton","faUndo","BackToGameLink","faArrowAltCircleLeft","GameModal","gameData","ModalText","StatisticModal","TableWrap","userNewResults","Body","Word","AudioButton","LevelButtons","levelNumbers","onSelect","LevelButtonsWrap","initialStatistic","DEFAULT_WORD_CHUNK_LENGTH","GameShell","wordsBundleLength","updateUserWord","updateStatistic","setCurrentChunk","gameEndLastWord","setGameEndLastWord","isGameCanStart","setIsGameCanStart","gameResetKey","setGameResetKey","statisticChunk","setStatisticChunk","setStatistic","statisticWasUpdate","setStatisticWasUpdate","urlWords","levelSelectHandler","gameEndHandler","setGameStartAgain","updateStatisticChunk","dataForUpdate","statisticWordIndex","statWord","currentStatistic","newStatisticChunk","wordSelectHandler","params","paramsForUpdate","complementChunkToMinimum","initialChunk","sourceChunk","missingWordsCount","missingWordsSet","reducer","urlWord","complementChunk","randomChunk","gameContent","onAnyLoading","gameProps","React","Children","child","getGameWithData","buttonClasses","StartButton","levelClasses","GameEndHelper","BackLink","SvgWave","colors","offset","stopColor","WAVES","wavesColors","AboutPage","Section","Special","Content","RowContent","CardsContainer","Asset","Games","Team","App","getGamePath","basePath","syncUser","exact","ReactDOM","render","basename","loading","getElementById"],"mappings":"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","file":"static/js/main.e6cfcfb3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"GameModal\":\"GameModal_GameModal__3ni4J\",\"ModalText\":\"GameModal_ModalText__2SEmH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LevelButtonsWrap\":\"LevelButtons_LevelButtonsWrap__arQdc\",\"Button\":\"LevelButtons_Button__QPjWM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InputBlock\":\"Input_InputBlock__2i3jT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MainPage\":\"MainPage_MainPage__1ipKm\",\"NavigationZIndex\":\"MainPage_NavigationZIndex__1Czdc\",\"Bg\":\"MainPage_Bg__1oa6n\",\"Girl\":\"MainPage_Girl__rii6_\",\"Wave\":\"MainPage_Wave__ht4_-\",\"DescriptionBlock\":\"MainPage_DescriptionBlock__3OqXf\",\"SlideBlock\":\"MainPage_SlideBlock__1atoW\",\"Slide\":\"MainPage_Slide__1SyaB\",\"Active\":\"MainPage_Active__1aezH\",\"NavigationBlock\":\"MainPage_NavigationBlock__2iGZj\",\"Pagination\":\"MainPage_Pagination__17VPr\",\"PaginationButton\":\"MainPage_PaginationButton__3u0xq\",\"ButtonBlock\":\"MainPage_ButtonBlock__1cAcC\",\"NavigationButton\":\"MainPage_NavigationButton__1X8_X\",\"Footer\":\"MainPage_Footer__2jKLk\",\"Authors\":\"MainPage_Authors__s2Ggu\",\"GHButton\":\"MainPage_GHButton__W8ySj\",\"RSSData\":\"MainPage_RSSData__1aQnY\",\"FooterDate\":\"MainPage_FooterDate__EF2AG\",\"RSSLink\":\"MainPage_RSSLink__2qdpn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PuzzleGame\":\"PuzzleGame_PuzzleGame__3LxkE\",\"GameLayout\":\"PuzzleGame_GameLayout__2AmbF\",\"HelperBlock\":\"PuzzleGame_HelperBlock__BnEmX\",\"Countdown\":\"PuzzleGame_Countdown__2lNKs\",\"LivesWrapper\":\"PuzzleGame_LivesWrapper__3qHJ5\",\"Life\":\"PuzzleGame_Life__2CHUi\",\"Burnt\":\"PuzzleGame_Burnt__1xuU-\",\"WordList\":\"PuzzleGame_WordList__1-Iqk\",\"Succeed\":\"PuzzleGame_Succeed__3DrEl\",\"Failed\":\"PuzzleGame_Failed__27X6S\",\"Current\":\"PuzzleGame_Current__1l4Y6\",\"WordBlock\":\"PuzzleGame_WordBlock__1vYke\",\"CurrentWord\":\"PuzzleGame_CurrentWord__3GnPC\",\"Translation\":\"PuzzleGame_Translation__scmYk\",\"PuzzleField\":\"PuzzleGame_PuzzleField__1FVcK\",\"PuzzlePieceWrap\":\"PuzzleGame_PuzzlePieceWrap__2sUXM\",\"PuzzlePiece\":\"PuzzleGame_PuzzlePiece__27KRT\",\"PuzzleCell\":\"PuzzleGame_PuzzleCell__3dd5x\",\"Selected\":\"PuzzleGame_Selected__ONDFX\",\"Hovered\":\"PuzzleGame_Hovered__3uZO0\",\"PuzzleCard\":\"PuzzleGame_PuzzleCard__2NJJE\",\"Symbol\":\"PuzzleGame_Symbol__2jspC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Card\":\"WordCard_Card__3SExf\",\"Hard\":\"WordCard_Hard__1rGqD\",\"Overlay\":\"WordCard_Overlay__2zFqD\",\"Deleted\":\"WordCard_Deleted__2FXXb\",\"HeaderBlock\":\"WordCard_HeaderBlock__4tQhN\",\"WordBlock\":\"WordCard_WordBlock___FflY\",\"SecondaryBlock\":\"WordCard_SecondaryBlock__1PD68\",\"PrimaryBlock\":\"WordCard_PrimaryBlock__3ifWw\",\"SoundButton\":\"WordCard_SoundButton__3-jne\",\"ButtonBlock\":\"WordCard_ButtonBlock__TvYq4\",\"StatsCounters\":\"WordCard_StatsCounters__1iYur\",\"SuccessCounter\":\"WordCard_SuccessCounter__2Mnmd\",\"TotalCounter\":\"WordCard_TotalCounter__12Bge\",\"Button\":\"WordCard_Button__60FeU\",\"HardButton\":\"WordCard_HardButton__t6JDi\",\"Active\":\"WordCard_Active__2JKPF\",\"DeleteButton\":\"WordCard_DeleteButton__2U5RC\",\"CardContent\":\"WordCard_CardContent__269Uj\",\"Example\":\"WordCard_Example__2TzwR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__Tam7H\",\"StatisticButton\":\"Navigation_StatisticButton__TKlFQ\",\"BookButton\":\"Navigation_BookButton__3ToX7\",\"GameButton\":\"Navigation_GameButton__1QFbe\",\"Savannah\":\"Navigation_Savannah__2mbe2\",\"Audiocall\":\"Navigation_Audiocall__1Fslg\",\"Sprint\":\"Navigation_Sprint__2W9I8\",\"Puzzle\":\"Navigation_Puzzle__3hWqU\",\"AuthBlock\":\"Navigation_AuthBlock__3FjIE\",\"LoginButton\":\"Navigation_LoginButton__2k5X_\",\"Active\":\"Navigation_Active__38TFy\",\"AuthModal\":\"Navigation_AuthModal__2ATCr\",\"LoadingOverlay\":\"Navigation_LoadingOverlay__3dNTE\",\"AuthForm\":\"Navigation_AuthForm__2RggK\",\"AuthInput\":\"Navigation_AuthInput__2K6j7\",\"AuthButtonSet\":\"Navigation_AuthButtonSet__3rY5_\",\"SignInButton\":\"Navigation_SignInButton__1q03I\",\"SignUpButton\":\"Navigation_SignUpButton__33Txy\",\"CloseButton\":\"Navigation_CloseButton__Y3qQF\",\"Avatar\":\"Navigation_Avatar__PYYX8\",\"BubbleButton\":\"Navigation_BubbleButton___f3WV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__s4XVs\",\"TransparentButton\":\"Button_TransparentButton__2-RfF\",\"ResetButton\":\"Button_ResetButton__ayc85\",\"CloseLinkButton\":\"Button_CloseLinkButton__14nOj\",\"Icon\":\"Button_Icon__2nyeF\",\"SoundButton\":\"Button_SoundButton__3T3kK\",\"HardButton\":\"Button_HardButton__3BvsE\",\"CloseButton\":\"Button_CloseButton__1y0i_\",\"GameButton\":\"Button_GameButton__1Abnb\",\"PopUpMenuButton\":\"Button_PopUpMenuButton__1h6BX\",\"Active\":\"Button_Active__2rtAr\"};","export const LOADING = \"auth/loading\"\r\nexport const SIGN_IN = \"auth/signIn\"\r\nexport const LOG_OUT = \"auth/signOut\"\r\nexport const ADD_WORDS_CHUNK = \"words/addWordsChunk\"\r\nexport const ADD_WORDS_GROUP = \"words/addWordsGroup\"\r\nexport const SET_USER_WORDS = \"user/setWords\"\r\nexport const ADD_WORD_TO_USER = \"user/addWord\"\r\nexport const SET_USER_SETTINGS = \"user/setSettings\"\r\nexport const SET_BOOK_AVAILABLE_PAGES = \"book/setAvailablePages\"\r\nexport const REMOVE_PAGE_FROM_LIST = \"book/removePageFromList\"\r\nexport const SET_CURRENT_WORDS = \"book/setCurrentWords\"\r\nexport const SET_CURRENT_PAGE = \"book/setCurrentPage\"\r\nexport const SET_CURRENT_GROUP = \"book/setCurrentGroup\"\r\nexport const SET_BOOK_MODE = \"book/setBookMode\"\r\nexport const SET_BOOK_TRANSLATE_VISIBLE = \"book/setBookTranslateVisible\"\r\nexport const SET_BOOK_BUTTONS_VISIBLE = \"book/setBookButtonsVisible\"\r\nexport const SET_VOCABULARY_MODE = \"book/vocabulary/setMode\"\r\nexport const SET_VOCABULARY_CURRENT_PAGE = \"book/vocabulary/setCurrentPage\"\r\nexport const SET_VOCABULARY_WORDS = \"book/vocabulary/setWords\"","import { LOADING, SIGN_IN, LOG_OUT, ADD_WORD_TO_USER, SET_USER_WORDS, SET_USER_SETTINGS } from \"./types\"\r\n\r\nconst initialState = {\r\n\tid: null,\r\n\temail: null,\r\n\ttoken: null,\r\n\ttokenExpire: null,\r\n\tisLogged : false,\r\n\tonLoading: false,\r\n\twords: {}\r\n}\r\n\r\nfunction getInitialUser(){\r\n\tconst savedData = localStorage.getItem(\"userData\")\r\n\tif(savedData){\r\n\t\tconst parsedData = JSON.parse(savedData)\r\n\t\treturn {...initialState, ...parsedData, isLogged: !!parsedData?.token}\r\n\t}\r\n\treturn initialState\r\n}\r\n\r\nexport default function userReducer(state = getInitialUser(), action){\r\n\tswitch (action.type){\r\n\t\tcase SIGN_IN: {\r\n\t\t\treturn {...state, ...action.payload, isLogged: !!action.payload.token}\r\n\t\t}\r\n\r\n\t\tcase LOG_OUT: {\r\n\t\t\treturn {...state, ...initialState}\r\n\t\t}\r\n\r\n\t\tcase LOADING: {\r\n\t\t\treturn {...state, onLoading: action.payload ?? false}\r\n\t\t}\r\n\r\n\t\tcase SET_USER_WORDS: {\r\n\t\t\tconst userWords = {}\r\n\t\t\taction.payload.forEach((word) => {\r\n\t\t\t\tconst {group, page} = word.optional\r\n\t\t\t\tif(!userWords[group]) userWords[group] = {}\r\n\t\t\t\tif(!Array.isArray(userWords[group][page])) userWords[group][page] = []\r\n\t\t\t\tuserWords[group][page].push(word)\r\n\t\t\t})\r\n\t\t\treturn {...state, words: userWords}\r\n\t\t}\r\n\r\n\t\tcase ADD_WORD_TO_USER: {\r\n\t\t\tconst userWords = {...state.words}\r\n\t\t\tconst {group, page} = action.payload.optional\r\n\t\t\tif (!userWords[group]) userWords[group] = {}\r\n\t\t\tif(!Array.isArray(userWords[group][page])){\r\n\t\t\t\tuserWords[group][page] = [action.payload]\r\n\t\t\t} else {\r\n\t\t\t\tconst wordIndex = userWords[group][page].findIndex(word => word.id === action.payload.id)\r\n\t\t\t\tif(wordIndex >= 0){\r\n\t\t\t\t\tuserWords[group][page][wordIndex] = {\r\n\t\t\t\t\t\t...userWords[group][page][wordIndex],\r\n\t\t\t\t\t\t...action.payload,\r\n\t\t\t\t\t\toptional:{\r\n\t\t\t\t\t\t\t...userWords[group][page][wordIndex].optional,\r\n\t\t\t\t\t\t\t...action.payload.optional\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuserWords[group][page].push(action.payload)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn {...state, words: userWords}\r\n\t\t}\r\n\r\n    case SET_USER_SETTINGS: {\r\n      return {\r\n        ...state,\r\n        settings: {\r\n          ...state.settings,\r\n          ...action.payload,\r\n          optional:{\r\n            ...state.settings.optional,\r\n            ...action.payload.optional\r\n          }\r\n        },\r\n      }\r\n    }\r\n\t\tdefault: return state\r\n\t}\r\n}","import { ADD_WORDS_CHUNK, ADD_WORDS_GROUP } from \"./types\"\r\n\r\nconst initialState = {}\r\n\r\nexport default function wordsReducer(state = initialState, {type, payload}){\r\n\tif(type === ADD_WORDS_CHUNK){\r\n\t\tconst newVocabulary = {...state}\r\n\t\tif(!newVocabulary[payload.group]) newVocabulary[payload.group] = {}\r\n\t\tnewVocabulary[payload.group][payload.page] = payload.data\r\n\t\treturn newVocabulary\r\n\t} else if(type === ADD_WORDS_GROUP){\r\n\t\tif(!state[payload.group]) return {...state, [payload.group]: payload.data}\r\n\t\telse return {\r\n\t\t\t...state,\r\n\t\t\t[payload.group]: {\r\n\t\t\t\t...state[payload.group],\r\n\t\t\t\t...payload.data\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn state\r\n}","export const SET_GAME_STATISTICS = {\r\n  START: 'SET_GAME_STATISTICS.START',\r\n  FINISHED: 'SET_GAME_STATISTICS.FINISHED',\r\n  FAILED: 'SET_GAME_STATISTICS.FAILED'\r\n};\r\n\r\nexport const RESET_GAME_STATISTICS = \"RESET_GAME_STATISTICS\";\r\n\r\nexport const GET_GAME_STATISTICS = {\r\n  START: 'GET_GAME_STATISTICS.START',\r\n  FINISHED: 'GET_GAME_STATISTICS.FINISHED',\r\n  FAILED: 'GET_GAME_STATISTICS.FAILED'\r\n};\r\n\r\n","import { SET_GAME_STATISTICS, GET_GAME_STATISTICS, RESET_GAME_STATISTICS } from \"./action-types\";\r\n\r\nconst initialState = {\r\n  statusGame: '',\r\n  level: 1,\r\n  gameStatistics: {\r\n    learnedWords: 0,\r\n    optional: {},\r\n  },\r\n  isUpdating: false,\r\n  isFetching: false,\r\n};\r\n\r\nconst gameReducer = (state = initialState, action) => {\r\n  const {\r\n    type,\r\n    ...payload\r\n  } = action;\r\n\r\n  switch (type) {\r\n    case GET_GAME_STATISTICS.START:\r\n      return {\r\n        ...state,\r\n        isFetching: true\r\n      };\r\n\r\n    case GET_GAME_STATISTICS.FINISHED:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n        isFetching: false\r\n      };\r\n\r\n    case SET_GAME_STATISTICS.START:\r\n      return {\r\n        ...state,\r\n        isUpdating: true\r\n      };\r\n\r\n    case SET_GAME_STATISTICS.FINISHED:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n        isUpdating: false\r\n      };\r\n\r\n    case RESET_GAME_STATISTICS:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default gameReducer;","export const VOCABULARY_MODE_DIFFICULT = \"difficult\"\r\nexport const VOCABULARY_MODE_NORMAL = \"learn\"\r\nexport const VOCABULARY_MODE_DELETED = \"delete\"\r\nexport const MODE_VOCABULARY = \"vocabulary\"\r\nexport const MODE_BOOK = \"book\"\r\nexport const WORD_HARD = \"hard\"\r\nexport const WORD_NORMAL = \"normal\"\r\nexport const MODE_DETECT_PATTERN = new RegExp(`(${MODE_BOOK}|${MODE_VOCABULARY})`)\r\n\r\nexport const TOKEN_EXPIRE_TIME = 4 //hours\r\nexport const TOKEN_START_REFRESH = 2 //hours\r\n\r\nexport const SETTINGS = {\r\n  SERVER: \"https://rss-words-3.herokuapp.com\",\r\n  AWS_STORE_URL: \"https://travel-app-24.s3.eu-north-1.amazonaws.com\",\r\n  DEFAULT_IMAGE: \"KNPXgyDVUUA4SCWSCCFjJ0c001740dbe0b705441ebf5f9f7c9af0.jpg\",\r\n  GROUPS_COUNT: 6,\r\n  PAGES_COUNT: 30,\r\n  DEFAULT_WORD_CHUNK_LENGTH: 20,\r\n}","import {\r\n  LOG_OUT,\r\n  REMOVE_PAGE_FROM_LIST,\r\n  SET_BOOK_AVAILABLE_PAGES,\r\n  SET_BOOK_BUTTONS_VISIBLE,\r\n  SET_BOOK_MODE,\r\n  SET_BOOK_TRANSLATE_VISIBLE,\r\n  SET_CURRENT_GROUP,\r\n  SET_CURRENT_PAGE,\r\n  SET_CURRENT_WORDS,\r\n  SET_VOCABULARY_CURRENT_PAGE,\r\n  SET_VOCABULARY_MODE, SET_VOCABULARY_WORDS,\r\n  SIGN_IN,\r\n} from \"./types\";\r\nimport { MODE_BOOK, SETTINGS, VOCABULARY_MODE_NORMAL } from \"../settings/settings\";\r\n\r\nfunction getInitPagesList(){\r\n  const initPages = {}\r\n  for (let i = 0; i < SETTINGS.GROUPS_COUNT; i++) {\r\n    initPages[i] = [...Object.keys(Array(SETTINGS.PAGES_COUNT).fill(0)).map(index => Number(index))]\r\n  }\r\n  return initPages\r\n}\r\n\r\nconst initialBookState = {\r\n  mode: MODE_BOOK,\r\n  isButtonsVisible: true,\r\n  isTranslateVisible: true,\r\n  savedUserSettings: {\r\n    isButtonsVisible: true,\r\n    isTranslateVisible: true,\r\n  },\r\n  currentGroup: 0,\r\n\r\n  //BOOK_MODE\r\n  currentPageIndex: 0,\r\n  pagesList: getInitPagesList(),\r\n  currentWords: [],\r\n\r\n  //VOCABULARY_MODE\r\n  vocabularyMode: VOCABULARY_MODE_NORMAL,\r\n  vocabularyWords: [],\r\n  vocabularyCurrentPage: 0,\r\n}\r\n\r\nexport default function bookReducer(state = initialBookState, {type, payload}){\r\n  switch (type) {\r\n    case SET_BOOK_AVAILABLE_PAGES: {\r\n      const {group, list} = payload\r\n      return {\r\n        ...state,\r\n        pages: {\r\n          ...state.pagesList,\r\n          [group]: list,\r\n        },\r\n      }\r\n    }\r\n    case REMOVE_PAGE_FROM_LIST: {\r\n      const {group, page} = payload\r\n      const newPagesList = [...state.pagesList[group]]\r\n\r\n      function removePage(pageIndex){\r\n        const pageToRemoveIndex = newPagesList.findIndex(pageNumber => pageNumber === Number(pageIndex))\r\n        if (pageToRemoveIndex + 1) {\r\n          newPagesList.splice(pageToRemoveIndex, 1)\r\n        }\r\n      }\r\n\r\n      if (Number.isInteger(page)) {\r\n        removePage(page)\r\n      } else if (Array.isArray(page)) {\r\n        page.forEach(singlePage => {\r\n          removePage(singlePage)\r\n        })\r\n      }\r\n      return {\r\n        ...state,\r\n        pagesList: {\r\n          ...state.pagesList,\r\n          [group]: newPagesList,\r\n        },\r\n      }\r\n    }\r\n\r\n    case SET_CURRENT_PAGE: {\r\n      const {page} = payload\r\n      if (page === state.currentPageIndex) return state\r\n      return {\r\n        ...state,\r\n        currentPageIndex: page,\r\n      }\r\n    }\r\n\r\n    case SET_CURRENT_GROUP: {\r\n      const {group} = payload\r\n      if (group === state.currentGroup) return state\r\n      return {\r\n        ...state,\r\n        currentGroup: group,\r\n      }\r\n    }\r\n\r\n    case SET_BOOK_MODE: {\r\n      const {mode} = payload\r\n      if (mode === state.mode) return state\r\n      return {...state, mode}\r\n    }\r\n\r\n    case SET_BOOK_TRANSLATE_VISIBLE: {\r\n      const {visibility} = payload\r\n      return {...state, isTranslateVisible: visibility}\r\n    }\r\n\r\n    case SET_BOOK_BUTTONS_VISIBLE: {\r\n      const {visibility} = payload\r\n      return {...state, isButtonsVisible: visibility}\r\n    }\r\n\r\n    case SET_CURRENT_WORDS: {\r\n      const {words} = payload\r\n      return {...state, currentWords: words}\r\n    }\r\n\r\n    case SET_VOCABULARY_MODE: {\r\n      const {mode} = payload\r\n      if (mode === state.vocabularyMode) return state\r\n      return {...state, vocabularyMode: mode}\r\n    }\r\n\r\n    case SET_VOCABULARY_CURRENT_PAGE: {\r\n      const {page} = payload\r\n      if (page === state.vocabularyCurrentPage) return state\r\n      return {...state, vocabularyCurrentPage: page}\r\n    }\r\n\r\n    case SET_VOCABULARY_WORDS:{\r\n      const {words} = payload\r\n      return {...state, vocabularyWords: words}\r\n    }\r\n\r\n\r\n    case LOG_OUT: {\r\n      const {isButtonsVisible, isTranslateVisible} = initialBookState\r\n      return {\r\n        ...state,\r\n        isButtonsVisible,\r\n        isTranslateVisible,\r\n        savedUserSettings: {\r\n          isButtonsVisible: state.isButtonsVisible,\r\n          isTranslateVisible: state.isTranslateVisible,\r\n        },\r\n      }\r\n    }\r\n\r\n\r\n    case SIGN_IN: {\r\n      const {isButtonsVisible, isTranslateVisible} = state.savedUserSettings\r\n      return {\r\n        ...state,\r\n        isButtonsVisible,\r\n        isTranslateVisible,\r\n      }\r\n    }\r\n\r\n    default: {\r\n      return state\r\n    }\r\n  }\r\n}","import { combineReducers } from \"redux\"\r\nimport userReducer from \"./reducer.user\"\r\nimport wordsReducer from \"./reducer.words\"\r\nimport gameReducer from \"./games/reducer\"\r\nimport bookReducer from \"./reducer.book\";\r\nimport {persistReducer} from \"redux-persist\";\r\nimport storage from 'redux-persist/lib/storage'\r\nimport localforage from \"localforage\";\r\n\r\nconst rootPersistConfig = {\r\n  key: \"root\",\r\n  storage: localforage,\r\n  whitelist: [\"words\"],\r\n  blacklist: [\"user\"]\r\n}\r\n\r\nconst userPersistConfig = {\r\n  key: \"user\",\r\n  storage: localforage,\r\n  whitelist: [\"words\"]\r\n}\r\n\r\nconst bookPersistConfig = {\r\n  key: \"userBookConfig\",\r\n  storage,\r\n  whitelist: [\"savedUserSettings\", \"isButtonsVisible\", \"isTranslateVisible\"]\r\n}\r\n\r\nconst reducers = combineReducers({\r\n\tuser: persistReducer(userPersistConfig, userReducer),\r\n\twords: wordsReducer,\r\n\tgameWords: gameReducer,\r\n  book: persistReducer(bookPersistConfig, bookReducer)\r\n})\r\n\r\nexport const rootReducer = persistReducer(rootPersistConfig, reducers)\r\n\r\n","import { applyMiddleware, compose, createStore } from \"redux\";\r\nimport { persistStore } from \"redux-persist\";\r\nimport thunk from \"redux-thunk\";\r\nimport { rootReducer } from \"./rootReducer\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst enhancers = [applyMiddleware(thunk)];\r\n\r\nexport const store = createStore(rootReducer, composeEnhancers(...enhancers));\r\nexport const persistor = persistStore(store)","import React from \"react\"\r\nimport classesCss from \"./Button.module.scss\"\r\nimport cx from \"classnames\"\r\n\r\nexport default function Button({label, className, ...props}){\r\n\treturn(\r\n\t\t<button\r\n      {...props}\r\n\t\t\tclassName={cx(classesCss.Button, className)}\r\n\t\t>\r\n\t\t\t{label}\r\n\t\t</button>\r\n\t)\r\n}","import React from \"react\"\r\nimport Button from \"./Button\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { faGithub } from \"@fortawesome/free-brands-svg-icons\"\r\nimport cx from \"classnames\";\r\nimport classesCss from \"./Button.module.scss\";\r\n\r\nexport default function GitHubButton({className, nickName, label, classes, ...props}){\r\n  return (\r\n    <a href={`https://github.com/${nickName}`}>\r\n      <Button\r\n        className={cx(className, classesCss.HardButton)}\r\n        label={\r\n          <>\r\n            <FontAwesomeIcon className={classes?.icon} icon={faGithub}/>\r\n            <span className={classes?.label}> {label}</span>\r\n          </>}\r\n        {...props}\r\n      />\r\n    </a>\r\n\r\n  )\r\n}","export const rssLogo = (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 552.85 198.67\">\r\n    <title>rs_school</title>\r\n    <g id=\"Layer_2\" data-name=\"Layer 2\">\r\n      <g id=\"Layer_1-2\" data-name=\"Layer 1\">\r\n        <path d=\"M275.36,61.37l26.29-1.65q.86,6.41,3.48,9.76,4.28,5.43,12.2,5.43,5.91,0,9.12-2.77a8.34,8.34,0,0,0,3.2-6.44,8.18,8.18,0,0,0-3-6.22q-3-2.74-14.15-5.19-18.18-4.08-25.93-10.86a21.84,21.84,0,0,1-7.81-17.26,23.44,23.44,0,0,1,4-13,26.47,26.47,0,0,1,12-9.64q8-3.51,22-3.51,17.14,0,26.14,6.38t10.71,20.28l-26.05,1.52q-1-6-4.36-8.78T314,16.65c-3.21,0-5.63.69-7.25,2.05a6.25,6.25,0,0,0-2.44,5,5,5,0,0,0,2,3.84q1.95,1.77,9.27,3.3,18.12,3.9,26,7.9t11.4,9.91a25.12,25.12,0,0,1,3.57,13.24,28.37,28.37,0,0,1-4.75,15.86,29.83,29.83,0,0,1-13.3,11q-8.55,3.75-21.54,3.75-22.81,0-31.6-8.78T275.36,61.37Z\"/>\r\n        <path d=\"M6.27,91V1.53H52.33q12.81,0,19.58,2.19a20.93,20.93,0,0,1,10.92,8.14A24.75,24.75,0,0,1,87,26.35,24.8,24.8,0,0,1,83.8,39.19,24.91,24.91,0,0,1,75.07,48a33.63,33.63,0,0,1-9.7,3.54,27.79,27.79,0,0,1,7.19,3.29A27.79,27.79,0,0,1,77,59.49,35.16,35.16,0,0,1,80.85,65L94.23,91H63L48.24,63.63q-2.81-5.31-5-6.9a11.63,11.63,0,0,0-6.78-2.07H34V91ZM34,37.76H45.68A41,41,0,0,0,53,36.54a7.3,7.3,0,0,0,4.48-2.81,8.24,8.24,0,0,0,1.74-5.18,8.23,8.23,0,0,0-2.75-6.65q-2.74-2.32-10.31-2.32H34Z\"/><path d=\"M0,167.56l26.29-1.64q.86,6.41,3.48,9.76Q34,181.11,42,181.11q5.91,0,9.12-2.78a8.34,8.34,0,0,0,3.2-6.44,8.2,8.2,0,0,0-3-6.22q-3-2.74-14.15-5.18-18.18-4.1-25.93-10.86a21.87,21.87,0,0,1-7.81-17.27,23.49,23.49,0,0,1,4-13,26.47,26.47,0,0,1,12-9.64q8-3.51,22-3.51,17.14,0,26.14,6.38t10.71,20.28l-26,1.53q-1-6-4.36-8.79t-9.19-2.74q-4.81,0-7.25,2a6.25,6.25,0,0,0-2.44,5,5,5,0,0,0,2,3.85q1.95,1.77,9.27,3.29,18.12,3.9,26,7.9t11.4,9.91a25.15,25.15,0,0,1,3.57,13.24,28.35,28.35,0,0,1-4.75,15.86,29.83,29.83,0,0,1-13.3,11q-8.55,3.75-21.54,3.75-22.81,0-31.6-8.78T0,167.56Z\"/>\r\n        <path d=\"M163,160.55l24.22,7.32a44.72,44.72,0,0,1-7.69,17,33.46,33.46,0,0,1-13,10.31q-7.78,3.47-19.8,3.47-14.58,0-23.82-4.23t-16-14.91q-6.72-10.67-6.71-27.31,0-22.18,11.8-34.11t33.4-11.92q16.91,0,26.57,6.84t14.36,21l-24.4,5.43a21,21,0,0,0-2.68-6,16,16,0,0,0-5.67-4.88,16.31,16.31,0,0,0-7.51-1.71q-9.39,0-14.39,7.56-3.8,5.61-3.79,17.61,0,14.86,4.52,20.38t12.69,5.51q7.92,0,12-4.45T163,160.55Z\"/>\r\n        <path d=\"M208.51,107.72h27.63V139h30.2V107.72h27.75v89.43H266.34V161h-30.2v36.18H208.51Z\"/>\r\n        <path d=\"M311.29,152.49q0-21.88,12.2-34.1t34-12.2q22.32,0,34.4,12T404,151.76q0,15.69-5.28,25.72a37.54,37.54,0,0,1-15.25,15.61q-10,5.58-24.86,5.58-15.12,0-25-4.82a37.59,37.59,0,0,1-16.07-15.25Q311.28,168.18,311.29,152.49Zm27.63.13q0,13.55,5,19.46t13.7,5.91q8.91,0,13.79-5.79t4.88-20.8q0-12.63-5.1-18.46t-13.82-5.82A16.78,16.78,0,0,0,344,133Q338.93,139,338.92,152.62Z\"/>\r\n        <path d=\"M392.28,152.49q0-21.88,12.2-34.1t34-12.2q22.34,0,34.41,12t12.07,33.58q0,15.69-5.27,25.72a37.6,37.6,0,0,1-15.25,15.61q-10,5.58-24.86,5.58-15.13,0-25-4.82a37.67,37.67,0,0,1-16.08-15.25Q392.28,168.18,392.28,152.49Zm27.64.13q0,13.55,5,19.46T438.64,178q8.91,0,13.79-5.79t4.88-20.8q0-12.63-5.09-18.46t-13.82-5.82A16.77,16.77,0,0,0,425,133Q419.91,139,419.92,152.62Z\"/>\r\n        <path d=\"M482.08,107.72h27.64v67.41h43.13v22H482.08Z\"/>\r\n      </g>\r\n    </g>\r\n  </svg>\r\n)","import React from \"react\"\r\nimport classesCss from \"./MainPage.module.scss\"\r\nimport GitHubButton from \"../../components/Buttons/GitHubButton\";\r\nimport {rssLogo} from \"../../assets/logo\";\r\n\r\n\r\nexport default function Footer(){\r\n  return(\r\n    <div className={classesCss.Footer}>\r\n      <div className={classesCss.RSSData}>\r\n\r\n        <a href={\"https://rs.school\"} className={classesCss.RSSLink}>{rssLogo}</a>\r\n        <div className={classesCss.FooterDate}><span>2021 г.</span></div>\r\n      </div>\r\n      <div className={classesCss.Authors}>\r\n        <GitHubButton nickName={\"heyheyjude\"} label={\"Антон\"} className={classesCss.GHButton}/>\r\n        <GitHubButton nickName={\"ivan-scherbuk\"} label={\"Иван\"} className={classesCss.GHButton}/>\r\n        <GitHubButton nickName={\"pannage\"} label={\"Татьяна\"} className={classesCss.GHButton}/>\r\n        <GitHubButton nickName={\"AnnaDavydenko\"} label={\"Анна\"} className={classesCss.GHButton}/>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n\r\n}","export const shuffle = (array) => {\r\n  const _array = array.slice(0)\r\n  for (let i = 0; i < array.length - 1; i++) {\r\n    let randomIndex = Math.floor(Math.random() * (i + 1))\r\n\r\n    // Swapping values\r\n    let temp = _array[i]\r\n    _array[i] = _array[randomIndex]\r\n    _array[randomIndex] = temp\r\n  }\r\n\r\n  return _array\r\n}\r\n\r\n\r\nexport const getRandomNumber = (min, max) => (\r\n  Math.floor(\r\n    Math.random() * (\r\n      Math.floor(max) - Math.ceil(min) + 1\r\n    ),\r\n  ) + min\r\n)\r\n\r\nfunction toRel(objRect){\r\n\r\n  return {\r\n    right: objRect.right,\r\n    left: objRect.right - objRect.width,\r\n    top: objRect.top,\r\n    bottom: objRect.top - objRect.height,\r\n  }\r\n}\r\n\r\n\r\nexport function checkCollision(staticObj, mobileObj){\r\n  const mobileHorizontalCenter = mobileObj.right - mobileObj.width / 2\r\n  const relStatic = toRel(staticObj)\r\n\r\n  return mobileHorizontalCenter < relStatic.right\r\n    && mobileHorizontalCenter > relStatic.left\r\n    && mobileObj.top > relStatic.bottom\r\n    && mobileObj.top - mobileObj.height < relStatic.top\r\n}\r\n\r\nexport const populateStatistics = (key, {id, ...totalStatistics}, gameStatistics) => {\r\n  const savedGameStatistic = totalStatistics.optional[key] ? JSON.parse(totalStatistics.optional[key]) : []\r\n  savedGameStatistic.push(gameStatistics);\r\n  return {...totalStatistics, optional: {...totalStatistics.optional, [key]: JSON.stringify(savedGameStatistic)}};\r\n};\r\n\r\nexport const getUserData = () => {\r\n  return JSON.parse(localStorage.getItem(\"userData\")) || {};\r\n};\r\n\r\nexport function setFirstLetterToCapital(word){\r\n  return word[0].toUpperCase() + word.slice(1)\r\n}","import React from \"react\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\"\r\nimport classesCss from \"./Button.module.scss\"\r\nimport Button from \"./Button\";\r\nimport cx from \"classnames\"\r\n\r\nexport default function CloseButton({label, className, ...props}){\r\n  return(\r\n    <Button\r\n      className={cx(className, classesCss.CloseButton)}\r\n      label={<FontAwesomeIcon icon={faTimes}/>}\r\n      {...props}\r\n    />\r\n  )\r\n}","import React from 'react'\r\nimport CloseButton from \"../../../components/Buttons/CloseButton\";\r\nimport classesCss from \"./Navigation.module.scss\"\r\n\r\nexport default function AuthModal({children, className, style, onClose}){\r\n\treturn(\r\n\t\t<div\r\n\t\t\tstyle={style}\r\n\t\t\tclassName={className}\r\n\t\t>\r\n      <h3>Привет!</h3>\r\n\t\t\t{children}\r\n\t\t\t<CloseButton\r\n\t\t\t\tonClick={onClose}\r\n        className={classesCss.CloseButton}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}","import React from \"react\"\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\r\nimport classesCss from \"./Loading.module.scss\"\r\n\r\nexport default function LoadingSpinner(){\r\n  return(\r\n    <FontAwesomeIcon\r\n      className={classesCss.LoadingSpinner}\r\n      icon={faSpinner}\r\n    />\r\n  )\r\n}","import React from \"react\"\r\nimport cx from \"classnames\"\r\nimport LoadingSpinner from \"./LoadingSpinner\";\r\nimport classesCss from \"./Loading.module.scss\"\r\n\r\nexport default function LoadingOverlay({className}){\r\n  return(\r\n    <div className={cx(className, classesCss.LoadingOverlay)}>\r\n      <LoadingSpinner />\r\n    </div>\r\n  )\r\n}","import React, { useState } from \"react\"\r\nimport cx from \"classnames\"\r\nimport Button from \"../../../components/Buttons/Button\"\r\nimport AuthModal from \"./AuthModal\"\r\nimport classesCss from \"./Navigation.module.scss\"\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { NavLink } from \"react-router-dom\"\r\nimport { SETTINGS } from \"../../../settings/settings\";\r\nimport LoadingOverlay from \"../../../components/Loading/LoadingOverlay\";\r\n\r\n\r\nexport default function AuthBlock({children}){\r\n\r\n  const {isLogged, email, settings, onLoading} = useSelector(state => state.user)\r\n  const [modalIsOpen, setModalIsOpen] = useState(false)\r\n\r\n  return (\r\n    <div className={classesCss.AuthBlock}>\r\n      {\r\n        !isLogged\r\n          ? <Button\r\n            label={\r\n              <div\r\n                style={{backgroundImage: `url(${process.env.PUBLIC_URL}/static/hi.png)`}}>\r\n                <span>{\"Войти\"}</span>\r\n              </div>\r\n            }\r\n            className={cx(\r\n              classesCss.BubbleButton, classesCss.LoginButton, classesCss.AuthButton,\r\n              {[classesCss.Active]: modalIsOpen && !isLogged},\r\n            )}\r\n            onClick={() => setModalIsOpen(!modalIsOpen)}\r\n          />\r\n          :\r\n          <NavLink\r\n            className={classesCss.Avatar}\r\n            to=\"/user\">\r\n            <Avatar\r\n              alt={email.toUpperCase()}\r\n              src={settings?.optional?.image ?\r\n                `${SETTINGS.AWS_STORE_URL}/${settings.optional.image}`\r\n                : `${SETTINGS.AWS_STORE_URL}/${SETTINGS.DEFAULT_IMAGE}`}\r\n            />\r\n          </NavLink>\r\n      }\r\n      <AuthModal\r\n        onClose={() => setModalIsOpen(false)}\r\n        className={cx(\r\n          classesCss.AuthModal,\r\n          {[classesCss.Active]: modalIsOpen && !isLogged},\r\n        )}\r\n      >\r\n        {onLoading ? <LoadingOverlay className={classesCss.LoadingOverlay}/> : null}\r\n        {children}\r\n      </AuthModal>\r\n    </div>\r\n  )\r\n}","import React from \"react\"\r\nimport classesCss from \"./style/Input.module.scss\"\r\n\r\nexport default function Input({blockStyle, className, dataAttr, id, label, name, ...props}) {\r\n\r\n\tconst dataProps = {}\r\n\tfor (let attrName in dataAttr) {\r\n\t\tif (dataAttr.hasOwnProperty(attrName))\r\n\t\t\tdataProps[ `data-${attrName}` ] = dataAttr[ attrName ]\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={blockStyle}\r\n\t\t\tclassName={[classesCss.InputBlock, className].join(\" \")}>\r\n\t\t\t<label htmlFor={id || `inputId${name}`}>{label}</label>\r\n\t\t\t<input\r\n\t\t\t\tid={id || `inputId${name}`}\r\n        name={name}\r\n\r\n        {...props}\r\n\t\t\t\t{...dataProps}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}","import {SETTINGS} from \"../settings/settings\";\r\n\r\nconst SERVER = SETTINGS.SERVER\r\n\r\nconst getRequestData = (token, method = \"GET\", body = {}) => {\r\n  const request = {\r\n    method: method || \"GET\",\r\n    withCredentials: true,\r\n    headers: {\r\n      \"Authorization\": `Bearer ${token}`,\r\n      \"Accept\": \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  }\r\n  if (method !== \"GET\") request.body = JSON.stringify(body)\r\n  return request\r\n}\r\n\r\nexport async function authRequest(path, user){\r\n  return await fetch(SERVER + path,{\r\n    method: \"POST\",\r\n    withCredentials: true,\r\n    headers: {\r\n      \"Accept\": \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n}\r\n\r\nexport async function userDataRequest({token, id}){\r\n  return await fetch(`${SERVER}/users/${id}`, getRequestData(token))\r\n}\r\n\r\nexport async function tokenRequest({token, id}){\r\n  return await fetch(`${SERVER}/users/${id}/tokens`, getRequestData(token))\r\n}\r\n\r\nexport async function userSettingsRequest({token, id, settings = {}, method = \"GET\"}){\r\n  return await fetch(`${SERVER}/users/${id}/settings`, getRequestData(token, method, settings))\r\n}\r\n\r\nexport async function userSettingsRequestWithImage({token, id, data}){\r\n  return await fetch(`${SERVER}/users/${id}/settings/update`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Authorization\": `Bearer ${token}`,\r\n      \"Accept\": \"application/json\",\r\n    },\r\n    body: data\r\n  })\r\n}\r\n\r\nexport async function userWordsRequest({token, id, method, wordId, word = {}}){\r\n  const request = `${SERVER}/users/${id}/words${wordId? \"/\" + wordId : \"\"}`\r\n  const wordToRequest = {...word}\r\n  if(method === \"PUT\"){\r\n    delete wordToRequest.wordId\r\n    delete wordToRequest.id\r\n  }\r\n  return await fetch(request, getRequestData(token, method, wordToRequest))\r\n}\r\n\r\n\r\nexport async function wordsRequest(group, page){\r\n  return await fetch(`${SERVER}/words?page=${page}&group=${group}`)\r\n}\r\n\r\n","import { userSettingsRequest, userWordsRequest } from \"../helpers/requsts.server\"\r\nimport { checkToken } from \"./actions.auth\"\r\nimport { ADD_WORD_TO_USER, SET_USER_SETTINGS, SET_USER_WORDS } from \"./types\"\r\n\r\nconst addWordToUser = word => ({type: ADD_WORD_TO_USER, payload: word})\r\nconst serUserWords = wordSet => ({type: SET_USER_WORDS, payload: wordSet})\r\n\r\n\r\nexport function setUserSettings(settings){\r\n  try {\r\n    const localData = JSON.parse(localStorage.getItem(\"userData\"))\r\n    localStorage.setItem(\"userData\", JSON.stringify({\r\n      ...localData,\r\n      settings: {\r\n        ...localData.settings,\r\n        ...settings,\r\n        optional: {\r\n          ...localData.settings.optional,\r\n          ...settings.optional,\r\n        },\r\n      },\r\n    }))\r\n  } catch (e) {\r\n  }\r\n  return {type: SET_USER_SETTINGS, payload: settings}\r\n}\r\n\r\nexport function getUserWords(){\r\n  return async (dispatch, getState) => {\r\n    const token = await dispatch(checkToken())\r\n    if (token) {\r\n      const {id} = getState().user\r\n      const rawRes = await userWordsRequest({token, id, method: \"GET\"})\r\n      if (rawRes.ok) {\r\n        const wordSet = await rawRes.json()\r\n        dispatch(serUserWords(wordSet))\r\n        return wordSet\r\n      }\r\n    } else {\r\n      console.log(\"token expired\")\r\n    }\r\n  }\r\n}\r\n\r\nexport function addUserWord(word, data = {}){\r\n\r\n  const optionalPattern = {\r\n    group: word.group,\r\n    page: word.page,\r\n    successCounter: 0,\r\n    failCounter: 0,\r\n    deleted: false,\r\n  }\r\n\r\n  return async (dispatch, getState) => {\r\n    const token = await dispatch(checkToken())\r\n    if (token) {\r\n      const {id} = getState().user\r\n      const userWord = {\r\n        ...data,\r\n        optional: {\r\n          ...optionalPattern,\r\n          ...data.optional,\r\n        },\r\n      }\r\n      const rawRes = await userWordsRequest({\r\n        token,\r\n        id,\r\n        method: \"POST\",\r\n        wordId: word.id,\r\n        word: userWord,\r\n      })\r\n      if (rawRes.ok) {\r\n        const res = await rawRes.json()\r\n        dispatch(addWordToUser(res))\r\n        return res\r\n      }\r\n    } else {\r\n      console.log(\"token expired\")\r\n    }\r\n  }\r\n}\r\n\r\nexport function updateExistingUserWord(word){\r\n  return async (dispatch, getState) => {\r\n    const token = await dispatch(checkToken())\r\n    if (token) {\r\n      const {id} = getState().user\r\n      const rawRes = await userWordsRequest({\r\n        token,\r\n        id,\r\n        wordId: word.wordId,\r\n        word: word,\r\n        method: \"PUT\",\r\n      })\r\n      if (rawRes.ok) {\r\n        const res = await rawRes.json()\r\n        dispatch(addWordToUser(res))\r\n        return res\r\n      }\r\n    } else {\r\n      console.log(\"token expired\")\r\n    }\r\n  }\r\n}\r\n\r\nexport function updateUserSettings(settings){\r\n  return async (dispatch, getState) => {\r\n    const token = await dispatch(checkToken())\r\n    if (token) {\r\n      const {id, settings: currentSettings} = getState().user\r\n      const updatedSettings = {\r\n        ...currentSettings,\r\n        ...settings,\r\n        optional: {\r\n          ...currentSettings.optional,\r\n          ...settings.optional,\r\n        },\r\n      }\r\n      const rawRes = await userSettingsRequest({token, id, method: \"POST\", updatedSettings})\r\n      if (rawRes.ok) {\r\n        const res = await rawRes.json()\r\n        dispatch(setUserSettings(res))\r\n      }\r\n    } else {\r\n      console.log(\"token expired\")\r\n    }\r\n  }\r\n}\r\n","import { wordsRequest } from \"../helpers/requsts.server\"\r\nimport { ADD_WORDS_CHUNK, ADD_WORDS_GROUP } from \"./types\"\r\n\r\nconst addWordsChunk = wordsChunk => ({type: ADD_WORDS_CHUNK, payload: wordsChunk})\r\nconst addWordsGroup = wordsGroup => ({type: ADD_WORDS_GROUP, payload: wordsGroup})\r\n\r\nexport function syncUserWords(){\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst {user, words} = getState()\r\n\t\tfor (let groupIndex in user.words) {\r\n\t\t\tif (user.words.hasOwnProperty(groupIndex)) {\r\n\t\t\t\tconst pages = []\r\n\t\t\t\tfor (let pageIndex in user.words[groupIndex]) {\r\n\t\t\t\t\tif (user.words[groupIndex].hasOwnProperty(pageIndex)\r\n\t\t\t\t\t\t&& (!words[groupIndex] || !words[groupIndex][pageIndex]?.length)) pages.push(pageIndex)\r\n\t\t\t\t}\r\n\t\t\t\tdispatch(getWords(groupIndex, pages))\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getWords(group = 0, page = 0){\r\n\treturn async dispatch => {\r\n\t\tif (Array.isArray(page)) {\r\n\t\t\tconst promiseQueue = []\r\n\t\t\tpage.forEach((pageNum) => {\r\n\t\t\t\tpromiseQueue.push(wordsRequest(group, pageNum))\r\n\t\t\t})\r\n\r\n\t\t\tconst rawRes = await Promise.all(promiseQueue)\r\n\t\t\tconst res = await Promise.all(rawRes.map((rawResPage) => {\r\n\t\t\t\treturn rawResPage.json()\r\n\t\t\t}))\r\n\t\t\tconst data = {}\r\n\t\t\tres.forEach((resPage) => {\r\n\t\t\t\tdata[resPage[0].page] = resPage\r\n\t\t\t})\r\n\t\t\tdispatch(addWordsGroup({data, group}))\r\n      return data\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\tconst rawRes = await wordsRequest(group, page)\r\n\t\t\t\tconst data = await rawRes.json()\r\n\t\t\t\tdispatch(addWordsChunk({data, group, page}))\r\n\t\t\t\treturn data\r\n\t\t\t} catch (e) {\r\n\t\t\t\treturn (e)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","import moment from \"moment\"\r\nimport { getUserWords } from \"./actions.user\"\r\nimport { syncUserWords } from \"./actions.words\"\r\nimport { authRequest, tokenRequest, userDataRequest, userSettingsRequest } from \"../helpers/requsts.server\"\r\nimport { LOADING, LOG_OUT, SIGN_IN } from \"./types\"\r\nimport { TOKEN_EXPIRE_TIME, TOKEN_START_REFRESH } from \"../settings/settings\"\r\n\r\nconst setLoading = status => ({type: LOADING, payload: status ?? true})\r\nconst setUser = userData => ({type: SIGN_IN, payload: userData})\r\nconst unsetUser = () => ({type: LOG_OUT})\r\n\r\n\r\nconst getNextExpireTime = () => moment().add(TOKEN_EXPIRE_TIME, \"hours\").toISOString()\r\n\r\n\r\nexport function createUser(user){\r\n  return async dispatch => {\r\n    dispatch(setLoading())\r\n    const rawRes = await authRequest(\"/users\", user)\r\n    if (rawRes.ok) {\r\n      dispatch(signIn(user, true))\r\n    } else {\r\n      dispatch(setLoading(false))\r\n    }\r\n  }\r\n}\r\n\r\nasync function getUserSettings(data, callsCount = 0){\r\n  try{\r\n    const userExistingSettings = await userSettingsRequest(data)\r\n    if(userExistingSettings.ok) {\r\n      const c = await userExistingSettings.json()\r\n      console.log(c)\r\n      return c\r\n    }\r\n    const userNewSettings = await userSettingsRequest({...data, method:\"PUT\", settings:{optional:{}}})\r\n    if(userNewSettings.ok && callsCount < 3) return await getUserSettings(data, callsCount++)\r\n    else return {}\r\n  } catch(e){\r\n    if(callsCount) console.log(e)\r\n  }\r\n\r\n}\r\n//onLoading - when call from another action and don't need to set onLoading one more time\r\nexport function signIn(user, onLoading = false){\r\n  return async (dispatch) => {\r\n    if (!onLoading) dispatch(setLoading())\r\n    const rawRes = await authRequest(\"/signin\", user)\r\n    if (rawRes.ok) {\r\n      try {\r\n        const userAuthData = await rawRes.json()\r\n        const userRawData = await userDataRequest({token: userAuthData.token, id: userAuthData.userId})\r\n        const userData = await userRawData.json()\r\n        const userSettings = await getUserSettings({token: userAuthData.token, id: userAuthData.userId})\r\n        userAuthData.tokenExpire = getNextExpireTime()\r\n        const fullUserData = {...userAuthData, ...userData, settings: userSettings, words: {}}\r\n        dispatch(setUser(fullUserData))\r\n        await dispatch(getUserWords())\r\n        await dispatch(syncUserWords())\r\n        localStorage.setItem(\"userData\", JSON.stringify(fullUserData))\r\n      } catch (e) {\r\n        console.log(\"Error during authentication\", e)\r\n      }\r\n    }\r\n    dispatch(setLoading(false))\r\n  }\r\n}\r\n\r\nexport function logOut(){\r\n  return dispatch => {\r\n    try {\r\n      localStorage.setItem(\"userData\", \"{}\")\r\n    } catch (e) {\r\n    }\r\n    dispatch(unsetUser())\r\n  }\r\n}\r\n\r\nexport function checkToken(){\r\n  return async (dispatch, getState) => {\r\n    const {token, id, tokenExpire, refreshToken} = getState().user\r\n    const timeToStartRefresh = moment(tokenExpire).subtract(TOKEN_START_REFRESH, \"hours\")\r\n    if (moment().isBefore(tokenExpire)) {\r\n      if (moment().isAfter(timeToStartRefresh)) {\r\n        const rawRes = await tokenRequest({token: refreshToken, id})\r\n        const res = await rawRes.json()\r\n        const updateUserData = {\r\n          ...res,\r\n          tokenExpire: getNextExpireTime(),\r\n        }\r\n        localStorage.setItem(\"userData\", JSON.stringify({\r\n          ...JSON.parse(localStorage.getItem(\"userData\")),\r\n          ...updateUserData,\r\n        }))\r\n        dispatch(setUser(updateUserData))\r\n        return updateUserData.token\r\n      }\r\n      return token\r\n    }\r\n    return false\r\n  }\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport Button from \"../../../components/Buttons/Button\";\r\nimport Input from \"../../../components/Forms/Input/Input\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createUser, signIn } from \"../../../redux/actions.auth\";\r\nimport classesCss from \"./Navigation.module.scss\";\r\n\r\nconst AuthForm = () => {\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [error, setError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(false);\r\n  const [buttonPressed, setButtonPressed] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const { onLoading } = useSelector((state) => state.user);\r\n\r\n  const changeHandler = (event) => {\r\n    setForm({ ...form, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (buttonPressed && !onLoading) {\r\n      setError(true);\r\n      setErrorMessage(\"Неверный Email или пароль!\");\r\n    }\r\n  }, [onLoading]);\r\n\r\n  const login = (mode) => {\r\n    const validEmail = /^([a-z0-9_-]+\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\.[a-z0-9_-]+)*\\.[a-z]{2,6}$/;\r\n    if (!validEmail.test(form.email)) {\r\n      setError(true);\r\n      setErrorMessage(\"Невалидный Email\");\r\n    } else if (form.password.length < 8) {\r\n      setError(true);\r\n      setErrorMessage(\"Минимальная длина пароля - 8 символов\");\r\n    } else {\r\n      if (mode === \"login\") {\r\n        dispatch(signIn(form));\r\n      } else {\r\n        dispatch(createUser(form));\r\n      }\r\n      setButtonPressed(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classesCss.AuthForm}>\r\n      <Input\r\n        autoComplete={\"off\"}\r\n        className={classesCss.AuthInput}\r\n        type={\"text\"}\r\n        name={\"email\"}\r\n        label={`Email: `}\r\n        onChange={changeHandler}\r\n      />\r\n      <Input\r\n        autoComplete={\"off\"}\r\n        className={classesCss.AuthInput}\r\n        type={\"password\"}\r\n        name={\"password\"}\r\n        label={\"Пароль \"}\r\n        onChange={changeHandler}\r\n        minLength={8}\r\n      />\r\n      {error && <div>{errorMessage}</div>}\r\n      <div className={classesCss.AuthButtonSet}>\r\n        <Button\r\n          onClick={() => login(\"login\")}\r\n          disabled={onLoading}\r\n          label={\"Войти\"}\r\n          className={[classesCss.SignInButton].join(\" \")}\r\n        />\r\n\r\n        <Button\r\n          onClick={() => login(\"register\")}\r\n          disabled={onLoading}\r\n          label={\"Регистрация\"}\r\n          className={[classesCss.SignUpButton].join(\" \")}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthForm;\r\n","import React from \"react\";\r\nimport Button from \"./Button\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classesCss from \"../../pages/MainPage/Navigation/Navigation.module.scss\";\r\nimport cx from \"classnames\";\r\nimport { MODE_BOOK } from \"../../settings/settings\";\r\n\r\nexport default function BookButton({ className, label }) {\r\n  return (\r\n    <NavLink to={`/${MODE_BOOK}/1/1`}>\r\n      <Button\r\n        label={\r\n          <div style={{backgroundImage: `url(${process.env.PUBLIC_URL}/static/books.png)`}}>\r\n            <span>{label || \"Учебник\"}</span>\r\n          </div>\r\n          }\r\n\r\n        className={cx(classesCss.BubbleButton, className)}\r\n      />\r\n    </NavLink>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport Button from \"./Button\";\r\nimport { Link } from \"react-router-dom\";\r\nimport classesCss from \"./Button.module.scss\"\r\nimport cx from \"classnames\"\r\n\r\nexport default function GameButton({gameCallValues, game, className, classes = {}}){\r\n\r\n  return (\r\n    <Link\r\n      className={classes?.link}\r\n      to={{pathname: `/games/${game.key}`, state: gameCallValues}}>\r\n      <Button\r\n        className={cx(classesCss.GameButton, className)}\r\n        label={\r\n          <div\r\n            style={{backgroundImage: `url(${process.env.PUBLIC_URL}/static/${game.navigationImage})`}}>\r\n          <span className={classes?.label}>\r\n            {game.name}\r\n          </span>\r\n          </div>\r\n        }\r\n      />\r\n    </Link>\r\n  )\r\n}\r\n","export const GAMES = {\r\n  puzzle: {\r\n    navigationImage: \"puzzle.png\",\r\n    key: \"puzzle\",\r\n    name: \"Пазл\",\r\n    greetText: \"В этой игре необходимо составить предложение из слов, на каждое предложение у вас будет 2 попытки,\"+\r\n      \" и 30 секунд.\",\r\n    description:\"Игра пазл поможет научиться использовать слово в контексте предложения\"\r\n  },\r\n  audiocall: {\r\n    navigationImage: \"audio2.png\",\r\n    key: \"audiocall\",\r\n    name: \"Аудиовызов\",\r\n    greetText: \"Тренировка Аудиовызов развивает словарный запас. Вы должны выбрать перевод услышанного слова.\",\r\n    description: \"Аудиовызов поможет тебе разить навыки аудирования и перевода, выбирай одно из 4 слов которые услышишь\"\r\n  },\r\n  savannah:{\r\n    navigationImage: \"savannah.png\",\r\n    key: \"savannah\",\r\n    name: \"Саванна\",\r\n    greetText: \"Тренировка Саванна развивает словарный запас. Выбирай правильный перевод слова из предложенных.\",\r\n    description: \"Игра Саванна поможет тебе запомнить слова, выбери правильный перевод слова, у тебя всего 6 секунд!\"\r\n  },\r\n  sprint: {\r\n    navigationImage: \"sprint.png\",\r\n    key: \"sprint\",\r\n    name: \"Спринт\",\r\n    wordsMinCount: 60,\r\n    greetText: \"Тренирует навык быстрого перевода с английского языка на русский. \" +\r\n      \"Вам нужно выбрать соответствует ли перевод предложенному слову.\",\r\n    description: \"В Игре Спринт тебе надо указать правильный перевод слова или нет\"\r\n  },\r\n}\r\n\r\nexport const GAMES_ARRAY = Object.values(GAMES)\r\n\r\nexport const TEAM = [\r\n  {\r\n    name: \"Антон\",\r\n    image: \"anton.jpg\",\r\n    about: \"Тимлид, разработал архитектуру приложения и руководил командой. Разработал дизайн приложения, настроил аутентификацию, участвовал в разработке учебника, разработал игру Пазл.\"\r\n  },\r\n  {\r\n    name: \"Анна\",\r\n    image: \"ann.png\",\r\n    about: \"Разработала игры Саванна и Спринт, сделала страницу статистики.\"\r\n  },\r\n  {\r\n    name: \"Иван\",\r\n    image: \"van.png\",\r\n    about: \"Разработал страницы словаря и учебника, написал Unit-тесты.\"\r\n  },\r\n  {\r\n    name: \"Татьяна\",\r\n    image: \"tn.png\",\r\n    about: \"Сделала игру Аудиовызов, написала логику для карточек слов.\"\r\n  }\r\n]\r\n","import React from \"react\";\r\nimport cx from \"classnames\"\r\nimport { setFirstLetterToCapital } from \"../../../helpers/gameUtils\";\r\nimport AuthBlock from \"./AuthBlock\";\r\nimport AuthForm from \"./AuthForm\";\r\nimport BookButton from \"../../../components/Buttons/BookButton\";\r\nimport GameButton from \"../../../components/Buttons/GameButton\";\r\nimport classesCss from \"./Navigation.module.scss\";\r\nimport { GAMES_ARRAY } from \"../../../settings/data\";\r\n\r\n\r\nexport default function NavigationBar({className}) {\r\n\r\n  return (\r\n    <div className={cx(classesCss.Navigation, className)}>\r\n      <AuthBlock><AuthForm/></AuthBlock>\r\n      <BookButton className={cx(classesCss.BookButton)}/>\r\n      {\r\n        GAMES_ARRAY.map(game => {\r\n          return(\r\n            <GameButton\r\n              key={game.name}\r\n              game={game}\r\n              className={cx(\r\n                classesCss.BubbleButton,\r\n                classesCss.GameButton,\r\n                classesCss[setFirstLetterToCapital(game.key)])}\r\n            />)\r\n        })\r\n      }\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport Button from \"./Button\";\r\nimport cx from \"classnames\"\r\nimport classesCss from \"./Button.module.scss\"\r\n\r\nexport default function LearnMoreButton({className}){\r\n\r\n  return(\r\n    <Button\r\n      label={\"Узнать больше\"}\r\n      className={cx(classesCss.TransparentButton, className)}\r\n    />\r\n  )\r\n}","import React, { useState } from \"react\"\r\nimport classesCss from \"./MainPage.module.scss\"\r\nimport cx from \"classnames\"\r\nimport Button from \"../../components/Buttons/Button\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faAngleLeft, faAngleRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport LearnMoreButton from \"../../components/Buttons/LearnMoreButton\";\r\n\r\nconst slideCount = 2;\r\nexport default function DescriptionBlock(){\r\n\r\n  const [currentSlide, setCurrentSlide] = useState(0)\r\n\r\n  return (\r\n    <div className={classesCss.DescriptionBlock}>\r\n      <div className={classesCss.SlideBlock}>\r\n        <div className={cx(\r\n          classesCss.Slide,\r\n          {[classesCss.Active]: currentSlide === 0},\r\n        )}>\r\n          <h2>RSLang</h2>\r\n          <Link className={classesCss.LearnMoreLink} to={{pathname:\"/about\"}}>\r\n            <LearnMoreButton/>\r\n          </Link>\r\n          <p>\r\n            Теперь учить английский язык легко и увлекательно! Играйте в мини-игры и учите запоминайте слова.\r\n            Словарь содержит все слова, которые раньше встречались в играх.\r\n            Повторяйте их каждый день для закрепления результата.\r\n          </p>\r\n        </div>\r\n        <div className={cx(\r\n          classesCss.Slide,\r\n          {[classesCss.Active]: currentSlide === 1},\r\n        )}>\r\n          <h2>Наша команда</h2>\r\n          <Link className={classesCss.LearnMoreLink} to={{pathname:\"/about\", hash:\"team\"}}>\r\n            <LearnMoreButton />\r\n          </Link>\r\n          <p>\r\n            Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the\r\n            industry's\r\n            standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to\r\n            make\r\n            a type specimen book. It has survived not only five centuries, but also the leap into electronic\r\n            typesetting,\r\n            remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets\r\n            containing\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className={classesCss.NavigationBlock}>\r\n        <div className={classesCss.Pagination}>\r\n          {\r\n            Array(slideCount).fill(null).map((el, index) => {\r\n              return (\r\n                <Button\r\n                  key={\"paginationMainPageButton\"+index}\r\n                  className={cx(\r\n                    classesCss.PaginationButton,\r\n                    {[classesCss.Active]: index === currentSlide},\r\n                  )}\r\n                  onClick={() => setCurrentSlide(index)}\r\n                />\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n        <div className={classesCss.ButtonBlock}>\r\n          <Button\r\n            className={classesCss.NavigationButton}\r\n            label={<FontAwesomeIcon icon={faAngleLeft}/>}\r\n            onClick={currentSlide - 1 >= 0 ?\r\n              () => setCurrentSlide(currentSlide - 1)\r\n              : () => setCurrentSlide(slideCount - 1)\r\n            }\r\n          />\r\n          <Button\r\n            className={classesCss.NavigationButton}\r\n            label={<FontAwesomeIcon icon={faAngleRight}/>}\r\n            onClick={currentSlide + 1 < slideCount ?\r\n              () => setCurrentSlide(currentSlide + 1)\r\n              : () => setCurrentSlide(0)\r\n            }\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from \"react\"\r\nimport classesCss from \"./MainPage.module.scss\"\r\nimport Footer from \"./Footer\";\r\nimport NavigationBar from \"./Navigation/NavigationBar\";\r\nimport DescriptionBlock from \"./DescriptionBlock\";\r\n\r\nconst girlStyle = {\r\n  backgroundImage: `url(${process.env.PUBLIC_URL}/static/girl.png)`,\r\n}\r\n\r\nexport default function MainPage(){\r\n\r\n  return (\r\n    <div className={classesCss.MainPage}>\r\n      <div className={classesCss.Bg}>\r\n\r\n        <NavigationBar className={classesCss.NavigationZIndex} />\r\n        <div className={classesCss.Girl}>\r\n          <div style={girlStyle}/>\r\n        </div>\r\n        <div className={classesCss.Wave} />\r\n        <DescriptionBlock />\r\n        <Footer  />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import {\r\n  REMOVE_PAGE_FROM_LIST,\r\n  SET_BOOK_BUTTONS_VISIBLE,\r\n  SET_BOOK_MODE, SET_BOOK_TRANSLATE_VISIBLE,\r\n  SET_CURRENT_GROUP,\r\n  SET_CURRENT_PAGE, SET_VOCABULARY_CURRENT_PAGE, SET_CURRENT_WORDS, SET_VOCABULARY_MODE, SET_VOCABULARY_WORDS\r\n} from \"./types\";\r\n\r\nexport const removePagesFromPageList = (group, page) => ({type: REMOVE_PAGE_FROM_LIST, payload:{group, page}})\r\nexport const setCurrentPage = page => ({type: SET_CURRENT_PAGE, payload:{page}})\r\nexport const setCurrentGroup = group => ({type: SET_CURRENT_GROUP, payload:{group}})\r\nexport const setCurrentWords = words => ({type: SET_CURRENT_WORDS, payload:{words}})\r\nexport const setBookMode = mode => ({type: SET_BOOK_MODE, payload:{mode}})\r\nexport const setButtonsVisible = visibility => ({type: SET_BOOK_BUTTONS_VISIBLE, payload:{visibility}})\r\nexport const setTranslateVisible = visibility => ({type: SET_BOOK_TRANSLATE_VISIBLE, payload:{visibility}})\r\nexport const setVocabularyMode = mode => ({type: SET_VOCABULARY_MODE, payload: {mode}})\r\nexport const setVocabularyCurrentPage = page => ({type: SET_VOCABULARY_CURRENT_PAGE, payload:{page}})\r\nexport const setVocabularyWords = words => ({type: SET_VOCABULARY_WORDS, payload:{words}})","import { useState, useEffect, useCallback } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { getWords } from \"../redux/actions.words\"\r\n\r\nconst initialRequest = {\r\n\tgroup: null,\r\n\tpage: null,\r\n}\r\n\r\n//Usage\r\n//const {currentWords, getWordsChunk, onLoading} = useWords()\r\n\r\nexport function useWords(){\r\n\tconst dispatch = useDispatch()\r\n\tconst words = useSelector(state => state.words)\r\n\tconst [currentWords, setCurrentWords] = useState(null)\r\n\tconst [currentRequest, setCurrentRequest] = useState(initialRequest)\r\n\tconst [onLoading, setOnLoading] = useState(false)\r\n\r\n\tconst getWordsChunk = useCallback((group, page) => {\r\n\t\tif (words[group] && words[group][page]) {\r\n\t\t\tsetCurrentWords(words[group][page])\r\n\t\t\tsetOnLoading(false)\r\n\t\t\treturn words[group][page]\r\n\r\n\t\t} else {\r\n\t\t\tsetCurrentRequest({group, page})\r\n\t\t\tsetOnLoading(true)\r\n\t\t\treturn dispatch(getWords(group, page))\r\n\t\t}\r\n\t}, [dispatch, words])\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tif (words[currentRequest.group]\r\n\t\t\t&& words[currentRequest.group][currentRequest.page]\r\n\t\t\t&& currentRequest.page !== null\r\n\t\t\t&& currentRequest.group !== null) {\r\n\t\t\tsetCurrentWords(words[currentRequest.group][currentRequest.page])\r\n\t\t\tsetCurrentRequest(initialRequest)\r\n\t\t}\r\n\t}, [words, currentRequest.group, currentRequest.page])\r\n\r\n\treturn {currentWords, getWordsChunk, onLoading}\r\n}\r\n\r\nconst initialGroupRequest = {\r\n\tgroup: null,\r\n}\r\n\r\n\r\n//Usage\r\n//const {currentWordsGroup, getWordsGroup, onGroupLoading} = useWordsGroup()\r\n\r\nexport function useWordsGroup(){\r\n\tconst dispatch = useDispatch()\r\n\tconst words = useSelector(state => state.words)\r\n\tconst [onGroupLoading, setGroupLoading] = useState(false)\r\n\tconst [currentRequest, setCurrentRequest] = useState(initialGroupRequest)\r\n\tconst [currentWordsGroup, setCurrentWordsGroup] = useState(null)\r\n\r\n\tconst getWordsGroup = useCallback(async (group) => {\r\n\t\tif (!words[group] || Object.keys(words[group]).length < 30) {\r\n\t\t\tsetGroupLoading(true)\r\n\t\t\tconst requestPages = []\r\n\t\t\tfor (let i = 0; i < 30; i++) {\r\n\t\t\t\tif (!words[group] || !(i in words[group])) requestPages.push(i)\r\n\t\t\t}\r\n\t\t\tsetCurrentRequest({group})\r\n      return await dispatch(getWords(group, requestPages))\r\n\t\t}\r\n    setCurrentWordsGroup(words[group])\r\n    return words[group]\r\n\t}, [words, dispatch])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (words[currentRequest.group]\r\n\t\t\t&& Object.keys(words[currentRequest.group]).length >= 30\r\n\t\t\t&& currentRequest.group !== null) {\r\n\t\t\tsetGroupLoading(false)\r\n\t\t\tsetCurrentWordsGroup(words[currentRequest.group])\r\n\t\t\tsetCurrentRequest(initialGroupRequest)\r\n\t\t}\r\n\t}, [words, currentRequest.group])\r\n\r\n\treturn {currentWordsGroup, getWordsGroup, onGroupLoading}\r\n}\r\n","import React, { useMemo } from \"react\"\r\nimport Button from \"./Button\";\r\nimport classesCss from \"./Button.module.scss\"\r\nimport cx from \"classnames\"\r\n\r\n\r\n\r\n\r\nexport default function SoundButton({file, className, ...props}){\r\n\r\n  const pronounce = useMemo(() => {\r\n    return new Audio(file)\r\n  }, [file])\r\n\r\n  return (\r\n    <Button\r\n      onClick={() => pronounce.play()}\r\n      className={cx(className, classesCss.SoundButton)}\r\n      label={\"volume_up\"}\r\n      {...props}\r\n    />\r\n  )\r\n};","import React from \"react\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faBolt } from \"@fortawesome/free-solid-svg-icons\"\r\nimport classesCss from \"./Button.module.scss\"\r\nimport Button from \"./Button\";\r\nimport cx from \"classnames\"\r\n\r\nexport default function HardButton({label, className, ...props}){\r\n  return(\r\n    <Button\r\n      className={cx(className, classesCss.HardButton)}\r\n      label={<FontAwesomeIcon icon={faBolt}/>}\r\n      {...props}\r\n    />\r\n  )\r\n}","import { getRandomNumber } from \"./gameUtils\"\r\n\r\nexport function createRandomChunkFromGroup(group, length = 20){\r\n\tconst chunk = []\r\n\tconst groupLength = Object.keys(group).length\r\n\twhile (chunk.length < length) {\r\n\t\tconst randChunk = group[getRandomNumber(0, groupLength - 1)]\r\n\t\tconst randomWord = randChunk[getRandomNumber(0, randChunk.length - 1)]\r\n\t\tif (chunk.findIndex(word => word.id === randomWord.id) === -1) {\r\n\t\t\tchunk.push({...randomWord})\r\n\t\t}\r\n\t}\r\n\treturn chunk\r\n}\r\n\r\nexport function getUserWordsChunk(chunk, userChunk, {difficulty, deleted} = {}){\r\n\tif (userChunk.length > 0) {\r\n\t\tlet filteredWords = [...userChunk]\r\n\t\tif (typeof deleted === \"boolean\") {\r\n\t\t\tfilteredWords = filteredWords.filter(({optional}) => Boolean(optional.deleted) === deleted)\r\n\t\t}\r\n\t\tif (difficulty) {\r\n\t\t\tfilteredWords = filteredWords.filter((word) => word.difficulty === difficulty)\r\n\t\t}\r\n\t\treturn chunk.map(el => {\r\n\t\t\tconst userWord = filteredWords.find(({wordId}) => wordId === el.id)\r\n\t\t\tif (userWord) {\r\n\t\t\t\treturn {...el, difficulty: userWord.difficulty, optional: userWord.optional, userWord:true}\r\n\t\t\t}\r\n\t\t\treturn el\r\n\t\t}).filter(el => el.userWord)\r\n\t}\r\n\treturn []\r\n}\r\n\r\nexport function getUserWordsGroup(group, userGroup, {difficulty, deleted} = {}){\r\n\tconst crossedGroup = {}\r\n\tif (userGroup) {\r\n\t\tfor (let page in userGroup) {\r\n\t\t\tif (userGroup.hasOwnProperty(page)) {\r\n\t\t\t\tcrossedGroup[page] = getUserWordsChunk(group[page], userGroup[page], {difficulty, deleted})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn crossedGroup\r\n}\r\n","import { useDispatch, useSelector } from \"react-redux\"\r\nimport { useCallback, useState, useEffect } from \"react\"\r\nimport { addUserWord, updateExistingUserWord } from \"../redux/actions.user\"\r\nimport {\r\n\tgetUserWordsGroup as getUserWordsGroupHelper,\r\n\tgetUserWordsChunk as getUserWordsChunkHelper } from \"../helpers/utils.words\"\r\nimport {useWords, useWordsGroup} from \"./hooks.words\"\r\n\r\n\r\n\r\n//Usage\r\n// const { update, updatedWord, onError } = useUserWordUpdate()\r\n// update(word, data)\r\n// word - word from book\r\n// data = {\r\n//  difficulty: weak | normal | hard,\r\n//\tsuccessCounter: Number,\r\n//\tfailCounter: Number,\r\n//  succeed: boolean\r\n// }\r\n//\r\n\r\nexport function useUserWordUpdate(){\r\n\tconst user = useSelector(store => store.user)\r\n\tconst dispatch = useDispatch()\r\n\tconst [updatedWord, setUpdatedWord] = useState(null)\r\n\tconst [onError, setOnError] = useState(null)\r\n\r\n\tconst update = useCallback(async (word, data = {}) => {\r\n\r\n    const {difficulty, succeed, failed, ...optional} = data\r\n\r\n    if(typeof succeed === \"boolean\"){\r\n      optional.successCounter = Number(succeed)\r\n      optional.failCounter = Number(!succeed)\r\n    }\r\n\r\n\t\tif (user.words[word.group] && user.words[word.group][word.page]) {\r\n\t\t\tconst currentWord = user.words[word.group][word.page].find(userWord => userWord.wordId === word.id)\r\n\t\t\tif (currentWord) {\r\n        if(currentWord.optional?.successCounter && optional.successCounter >= 0){\r\n          optional.successCounter = currentWord.optional.successCounter + optional.successCounter\r\n        }\r\n        if(currentWord.optional?.failCounter  && optional.failCounter >= 0){\r\n          optional.failCounter = currentWord.optional.failCounter + optional.failCounter\r\n        }\r\n\r\n\t\t\t\tconst wordForUpdate = {\r\n\t\t\t\t\t...currentWord,\r\n\t\t\t\t\tdifficulty: difficulty || currentWord.difficulty || \"normal\",\r\n\t\t\t\t\toptional: {\r\n\t\t\t\t\t\t...currentWord.optional,\r\n\t\t\t\t\t\t...optional,\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t\treturn dispatch(updateExistingUserWord(wordForUpdate)).then( updatedWord => {\r\n\t\t\t\t\tsetUpdatedWord(updatedWord)\r\n          return updatedWord\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tsetOnError({word: wordForUpdate, e})\r\n\t\t\t\t\treturn wordForUpdate\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn dispatch(addUserWord(word, {difficulty: difficulty || \"normal\", optional})).then((word) => {\r\n\t\t\tsetUpdatedWord(word)\r\n      return word\r\n\t\t}).catch(e => setOnError({word, e}))\r\n\t}, [user, dispatch, updatedWord])\r\n\treturn { update, updatedWord, onError }\r\n}\r\n\r\n\r\n//Usage\r\n//const {currentUserWords, getUserWordsChunk, onLoading} = useUserWords()\r\n\r\nexport function useUserWords(){\r\n\tconst user = useSelector(store => store.user)\r\n\tconst words = useSelector(store => store.words)\r\n\r\n\tconst {getWordsChunk} = useWords()\r\n\tconst [onLoading, setOnLoading] = useState(false)\r\n\tconst [currentUserWords, setCurrentUserWords] = useState(null)\r\n \tconst [subscription, setSubscription] = useState(null)\r\n\r\n\tconst getUserWordsChunk = useCallback((group, page, filters = {}) => {\r\n\t  if(user?.isLogged){\r\n      if(user.words[group] && user.words[group][page]){\r\n        if(words && words[group] && words[group][page]){\r\n          const chunk = getUserWordsChunkHelper(words[group][page], user.words[group][page], filters)\r\n          setCurrentUserWords(chunk)\r\n          return chunk\r\n        } else {\r\n          setOnLoading(true)\r\n          return getWordsChunk(group, page).then((resWords) => {\r\n            setCurrentUserWords(\r\n              getUserWordsChunkHelper(resWords, user.words[group][page], filters)\r\n            )\r\n            return resWords\r\n          })\r\n        }\r\n      } else {\r\n        setSubscription({group, page, filters})\r\n        return false\r\n      }\r\n    } else {\r\n\t    console.log(\"User is not logged in\")\r\n    }\r\n\t}, [user.words, words, getWordsChunk, user.isLogged])\r\n\r\n\tuseEffect(() => {\r\n    if(subscription && user.words[subscription.group] && user.words[subscription.group][subscription.page]){\r\n      const {group, page, filters} = subscription\r\n      getUserWordsChunk(group, page, filters)\r\n      setSubscription(null)\r\n    }\r\n\t}, [user.words, subscription, getUserWordsChunk])\r\n\r\n\tuseEffect(() => {\r\n\t\tif(onLoading && currentUserWords){\r\n\t\t\tsetOnLoading(false)\r\n\t\t}\r\n\t}, [currentUserWords, onLoading])\r\n\r\nreturn {currentUserWords, getUserWordsChunk, onLoading}\r\n}\r\n\r\n//Usage\r\n//const {getUserWordsGroup, onLoading, currentUserWordsGroup} = useUserWordsGroup()\r\nexport function useUserWordsGroup(){\r\n\tconst user = useSelector(store => store.user)\r\n\tconst words = useSelector(store => store.words)\r\n\tconst {getWordsGroup} = useWordsGroup()\r\n\tconst [currentUserWordsGroup, setCurrentUserWordsGroup] = useState(null)\r\n\tconst [onLoading, setOnLoading] = useState(false)\r\n\tconst [subscription, setSubscription] = useState(null)\r\n\r\n\r\n\tconst getUserWordsGroup = useCallback((group, filters) => {\r\n\t\tif(user.words[group]){\r\n\t\t\tif(words && words[group]){\r\n\t\t\t\tconst userGroup = getUserWordsGroupHelper(words[group], user.words[group], filters)\r\n\t\t\t\tsetCurrentUserWordsGroup(userGroup)\r\n\t\t\t\treturn userGroup\r\n\t\t\t} else {\r\n\t\t\t\tsetOnLoading(true)\r\n\t\t\t\treturn getWordsGroup(group).then((resGroup) => {\r\n\t\t\t\t\tsetCurrentUserWordsGroup(\r\n\t\t\t\t\t\tgetUserWordsGroupHelper(resGroup, user.words[group], filters)\r\n\t\t\t\t\t)\r\n          return resGroup\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSubscription({group, filters})\r\n\t\t\treturn false\r\n\t\t}\r\n\t}, [getWordsGroup, user.words, words])\r\n\r\n\tuseEffect(() => {\r\n\t\tif(subscription && user.words[subscription.group]){\r\n\t\t  const {group, filters} = subscription\r\n      setSubscription(null)\r\n      getUserWordsGroup(group, filters)\r\n\t\t}\r\n\t}, [user.words, subscription])\r\n\r\n\tuseEffect(() => {\r\n\t\tif(onLoading && currentUserWordsGroup){\r\n\t\t\tsetOnLoading(false)\r\n\t\t}\r\n\t}, [currentUserWordsGroup, onLoading])\r\n\r\n\treturn {getUserWordsGroup, onLoading, currentUserWordsGroup}\r\n}","import React from \"react\";\r\nimport HardButton from \"../Buttons/HardButton\";\r\nimport classesCss from \"./WordCard.module.scss\";\r\nimport cx from \"classnames\";\r\nimport { useUserWordUpdate } from \"../../hooks/hooks.user\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Button from \"../Buttons/Button\";\r\nimport {\r\n  MODE_VOCABULARY,\r\n  VOCABULARY_MODE_DELETED,\r\n  VOCABULARY_MODE_NORMAL,\r\n  WORD_HARD,\r\n  WORD_NORMAL,\r\n} from \"../../settings/settings\";\r\n\r\nexport default function ButtonsBlock({cardInfo}){\r\n\r\n  const {update} = useUserWordUpdate();\r\n  const {successCounter, failCounter} = cardInfo?.optional ? cardInfo.optional : {};\r\n  const {isButtonsVisible, vocabularyMode, mode} = useSelector(store => store.book)\r\n\r\n\r\n  return (\r\n    <div className={classesCss.ButtonBlock}>\r\n      {\r\n        (() => {\r\n          if (isButtonsVisible || (mode === MODE_VOCABULARY && vocabularyMode !== VOCABULARY_MODE_NORMAL)) {\r\n            return (\r\n              <>\r\n                {\r\n                  !(mode === MODE_VOCABULARY && vocabularyMode === VOCABULARY_MODE_DELETED) ?\r\n                    <HardButton\r\n                      className={cx(\r\n                        classesCss.Button,\r\n                        classesCss.HardButton,\r\n                        {[classesCss.Active]: cardInfo.difficulty === WORD_HARD},\r\n                      )}\r\n                      onClick={\r\n                        cardInfo.difficulty === WORD_HARD ?\r\n                          () => update(cardInfo, {difficulty: WORD_NORMAL})\r\n                          : () => update(cardInfo, {difficulty: WORD_HARD})\r\n                      }\r\n                    /> : null\r\n                }\r\n\r\n                <Button\r\n                  className={cx(\r\n                    classesCss.Button,\r\n                    classesCss.Icon,\r\n                    classesCss.DeleteButton,\r\n                    {[classesCss.Active]:cardInfo.optional?.deleted},\r\n                  )}\r\n                  onClick={\r\n                    cardInfo.optional?.deleted ?\r\n                      () => update(cardInfo, {deleted: false})\r\n                      : () => update(cardInfo, {deleted: true})\r\n                  }\r\n                />\r\n              </>\r\n            )\r\n          }\r\n        })()\r\n      }\r\n      {successCounter + failCounter ? (\r\n        <div className={classesCss.StatsCounters}>\r\n          <span className={classesCss.SuccessCounter}>{successCounter}</span>/\r\n          <span className={classesCss.TotalCounter}>\r\n            {successCounter + failCounter}\r\n          </span>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport classesCss from \"./WordCard.module.scss\";\r\nimport { MODE_VOCABULARY, SETTINGS, VOCABULARY_MODE_DIFFICULT, WORD_HARD } from \"../../settings/settings\";\r\nimport SoundButton from \"../Buttons/SoundButton\";\r\nimport FastAverageColor from \"fast-average-color\";\r\nimport ButtonsBlock from \"./ButtonsBlock\";\r\nimport cx from \"classnames\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router\";\r\n\r\nconst fac = new FastAverageColor();\r\n\r\nexport default function WordCard({cardInfo}){\r\n  const {\r\n    optional,\r\n    word,\r\n    image,\r\n    audio,\r\n    audioMeaning,\r\n    audioExample,\r\n    textMeaning,\r\n    textExample,\r\n    transcription,\r\n    wordTranslate,\r\n    textMeaningTranslate,\r\n    textExampleTranslate,\r\n  } = cardInfo;\r\n\r\n  const [averageColorData, setAverageColorData] = useState(null);\r\n  const [failCounter, setFailedCounter] = useState(0);\r\n  const [successCounter, setSuccessCounter] = useState(0);\r\n  const {isLogged} = useSelector(store => store.user);\r\n  const {isTranslateVisible, mode, vocabularyMode} = useSelector(store => store.book)\r\n\r\n  const {sectionVocabulary} = useParams();\r\n\r\n  let notification;\r\n  if (optional?.difficulty === WORD_HARD) {\r\n    notification = \"notification_important\";\r\n  } else {\r\n    notification = \"\";\r\n  }\r\n\r\n  const audioPlayer = new Audio();\r\n  audioPlayer.volume = 0.5;\r\n\r\n  function playAudio(url, phase){\r\n    audioPlayer.src = `${SETTINGS.SERVER}/${url}`;\r\n    audioPlayer.load();\r\n    audioPlayer.play();\r\n\r\n    let nextPhase;\r\n    let nextAudio;\r\n\r\n    if (phase === undefined) {\r\n      nextPhase = \"second\";\r\n      nextAudio = audioMeaning;\r\n    }\r\n\r\n    if (phase === \"second\") {\r\n      nextPhase = \"third\";\r\n      nextAudio = audioExample;\r\n    }\r\n\r\n    if (phase === \"third\") {\r\n      return;\r\n    }\r\n\r\n    let playNextAudio = function(){\r\n      audioPlayer.removeEventListener(\"ended\", playNextAudio);\r\n      playAudio(nextAudio, nextPhase);\r\n    };\r\n    audioPlayer.addEventListener(\"ended\", playNextAudio);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (cardInfo.optional) {\r\n      setFailedCounter(cardInfo.optional.failCounter);\r\n      setSuccessCounter(cardInfo.optional.successCounter);\r\n    }\r\n  }, []);\r\n\r\n  if (!averageColorData) {\r\n    fac\r\n    .getColorAsync(`${SETTINGS.SERVER}/${image}`)\r\n    .then((color) => {\r\n      setAverageColorData({\r\n        color: color.rgb,\r\n        isLight: color.isLight,\r\n      });\r\n    })\r\n    .catch((e) => {\r\n      console.log(e);\r\n    });\r\n  }\r\n\r\n  const isWordHard = cardInfo.difficulty === WORD_HARD\r\n  const isHardMode = mode === MODE_VOCABULARY && vocabularyMode === VOCABULARY_MODE_DIFFICULT\r\n  const isWordDeleted = cardInfo.optional?.deleted\r\n  const isShowHardStyle = isWordHard && !isHardMode && !isWordDeleted\r\n  return (\r\n    <div\r\n      style={!isShowHardStyle && !isWordDeleted ? {background: averageColorData?.color || \"white\"} : null}\r\n      className={cx(\r\n        classesCss.Card,\r\n        {\r\n          [classesCss.Hard]: isShowHardStyle,\r\n          [classesCss.Deleted]: isWordDeleted,\r\n        },\r\n      )\r\n      }\r\n    >\r\n      <div\r\n        style={{\r\n          backgroundImage: `${isWordDeleted ? \"linear-gradient(black, black),\" : \"\"}\r\n                                  url(${SETTINGS.SERVER}/${image})`,\r\n        }}\r\n        className={cx(classesCss.HeaderBlock)}\r\n      >\r\n        <div\r\n          className={classesCss.Overlay}\r\n          style={!isShowHardStyle && !isWordDeleted ? {\r\n            background:\r\n              `linear-gradient(transparent, ${averageColorData?.color})` ||\r\n              \"transparent\",\r\n          } : null}\r\n        >\r\n          {isLogged && (\r\n            <ButtonsBlock\r\n              audio={audio}\r\n              cardInfo={cardInfo}\r\n              successCounter={successCounter}\r\n              failCounter={failCounter}\r\n              notification={notification}\r\n              sectionVocabulary={sectionVocabulary}\r\n            />\r\n          )}\r\n          <div className={cx(classesCss.WordBlock)}>\r\n            <div className={classesCss.PrimaryBlock}>\r\n              <h3>{word}</h3>\r\n            </div>\r\n            <div className={classesCss.SecondaryBlock}>\r\n              {isTranslateVisible && (<div>{wordTranslate}</div>)}\r\n              <div>{transcription}</div>\r\n              <SoundButton\r\n                onClick={() => playAudio(audio)}\r\n                file={`${SETTINGS.SERVER}/${audio}`}\r\n                className={cx(classesCss.SoundButton, classesCss.Button)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className={classesCss.CardContent}>\r\n        <div className={classesCss.WordBlock}>\r\n          <div dangerouslySetInnerHTML={{__html: textMeaning}}/>\r\n          <div\r\n            dangerouslySetInnerHTML={{__html: textExample}}\r\n            className={classesCss.Example}\r\n          />\r\n        </div>\r\n        {isTranslateVisible && (\r\n          <div className={classesCss.WordBlock}>\r\n            <div>{textMeaningTranslate}</div>\r\n            <div className={classesCss.Example}>{textExampleTranslate}</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { SETTINGS } from \"../settings/settings\";\r\n\r\nexport function checkGroup(group){\r\n  if (group < SETTINGS.GROUPS_COUNT) return group\r\n  return 0\r\n}\r\n\r\nexport function checkPage(page){\r\n  if (page < SETTINGS.PAGES_COUNT) return page\r\n  return 0\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { useWords } from \"../../hooks/hooks.words\";\r\nimport WordCard from \"../../components/WordCard/WordCard.js\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { useUserWords } from \"../../hooks/hooks.user\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport cx from \"classnames\";\r\nimport { checkGroup, checkPage } from \"../../helpers/utils.checkers\";\r\nimport { removePagesFromPageList, setCurrentGroup, setCurrentPage, setCurrentWords } from \"../../redux/actions.book\";\r\nimport { MODE_BOOK, WORD_HARD } from \"../../settings/settings\";\r\nimport classesCss from \"./BookPage.module.scss\";\r\n\r\nexport default function BookContent({setTotalValues, setTotalPagesCount}){\r\n\r\n  const [isPagesFirstDeleteComplete, setPageFirstDeleteComplete] = useState(false)\r\n  const {currentWords, getWordsChunk} = useWords();\r\n  const {currentUserWords, getUserWordsChunk} = useUserWords();\r\n  const {isLogged, words: userWords} = useSelector((state) => state.user);\r\n  const {currentWords: wordsToRender, pagesList, currentPageIndex, } = useSelector((state) => state.book)\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const history = useHistory()\r\n  const {group: urlGroup, page: urlPage = 1} = useParams();\r\n  const group = checkGroup(urlGroup - 1);\r\n  const page = checkPage(urlPage - 1);\r\n\r\n\r\n  useEffect(() => {\r\n    function findUserWord(word){\r\n      const userWord = currentUserWords.find(\r\n        (userWord) => userWord.id === word.id,\r\n      );\r\n      if (userWord) return userWord;\r\n      return word;\r\n    }\r\n\r\n    if (currentWords?.length) {\r\n      if (isLogged && currentUserWords?.length) {\r\n        dispatch(setCurrentWords(currentWords.map((word) => findUserWord(word))))\r\n      } else {\r\n        dispatch(setCurrentWords([...currentWords]))\r\n      }\r\n    }\r\n  }, [currentWords, currentUserWords, isLogged, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (group !== undefined && page !== undefined) {\r\n      getWordsChunk(group, page);\r\n      if (isLogged) getUserWordsChunk(group, page);\r\n    }\r\n  }, [group, page, getWordsChunk, getUserWordsChunk, isLogged]);\r\n\r\n  useEffect(() => {\r\n    if (wordsToRender) {\r\n      const totals = {\r\n        success: 0,\r\n        fail: 0,\r\n        learned: 0,\r\n      }\r\n      wordsToRender.forEach(({optional, difficulty}) => {\r\n        if (((optional?.successCounter + optional?.failCounter) || difficulty === WORD_HARD)\r\n          && !optional?.deleted) {\r\n          totals.success += optional.successCounter || 0\r\n          totals.fail += optional.failCounter || 0\r\n          totals.learned += 1\r\n        }\r\n      })\r\n      setTotalValues(totals)\r\n    }\r\n  }, [wordsToRender, setTotalValues]);\r\n\r\n  useEffect(() => {\r\n    if (isLogged && !isPagesFirstDeleteComplete && group !== undefined\r\n      && userWords && userWords[group]) {\r\n      const pagesToRemove = Object.keys(userWords[group]).filter(pageIndex => {\r\n        return (userWords[group].hasOwnProperty(pageIndex)\r\n          && userWords[group][pageIndex].length === 20\r\n          && userWords[group][pageIndex].every(({optional}) => optional?.deleted))\r\n      })\r\n      setPageFirstDeleteComplete(true)\r\n      if (pagesToRemove.length) dispatch(removePagesFromPageList(group, pagesToRemove));\r\n    }\r\n  }, [group, userWords, dispatch, isPagesFirstDeleteComplete, isLogged]);\r\n\r\n  useEffect(() => {\r\n    if (isLogged && isPagesFirstDeleteComplete\r\n      && userWords[group] && userWords[group][page]?.length === 20\r\n      && !userWords[group][page].some(({optional}) => !optional?.deleted)) {\r\n      dispatch(removePagesFromPageList(group, page));\r\n    }\r\n  }, [userWords, group, page, isPagesFirstDeleteComplete, dispatch, isLogged])\r\n\r\n\r\n  useEffect(() => {\r\n    setPageFirstDeleteComplete(false)\r\n    dispatch(setCurrentGroup(group));\r\n  }, [group, dispatch]);\r\n\r\n  useEffect(() => {\r\n    const currentExistingPageIndex = pagesList[group].findIndex(existingPage => existingPage === Number(page))\r\n    setTotalPagesCount(pagesList[group].length);\r\n    if (currentExistingPageIndex + 1) {\r\n      dispatch(setCurrentPage(currentExistingPageIndex));\r\n    } else {\r\n      const newPage = pagesList[group].reduce((prev, nextPage) => {\r\n        return Math.abs(nextPage - page) > Math.abs(prev - page) ? prev : nextPage\r\n      })\r\n      history.push(`/${MODE_BOOK}/${group + 1}/${newPage + 1}`)\r\n    }\r\n  }, [pagesList, page, dispatch, group, history, currentPageIndex, setTotalPagesCount]);\r\n\r\n\r\n  return (\r\n    <div className={cx(classesCss.BookContent)}>\r\n      {wordsToRender?.length ?\r\n        wordsToRender.map((word) => {\r\n          if (!word.optional?.deleted) {\r\n            return (\r\n              <WordCard\r\n                className={cx({[classesCss.DifficultWord]: word.difficulty === WORD_HARD})}\r\n                key={word.id}\r\n                cardInfo={word}\r\n              />\r\n            );\r\n          }\r\n          return null;\r\n        }) : null\r\n      }\r\n    </div>\r\n  );\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\"\r\nimport classesCss from \"../BookPage.module.scss\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { MODE_BOOK } from \"../../../settings/settings\";\r\n\r\nexport default function PaginationInput({totalPagesCount, currentPageIndex}){\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [value, setValue] = useState(totalPagesCount !== 0 ? currentPageIndex + 1 : 0)\r\n  const {currentGroup, vocabularyMode, mode, pagesList} = useSelector((store) => store.book);\r\n  const history = useHistory()\r\n\r\n\r\n  function onChangedHandler(e){\r\n    if (Number(e.target.value) <= totalPagesCount) setValue(e.target.value)\r\n  }\r\n\r\n  const deactivateEditMode = () => {\r\n    if(value - 1 !== currentPageIndex){\r\n      const nextPage = mode === MODE_BOOK ? pagesList[currentGroup][value - 1] + 1 : value\r\n      history.push({\r\n        pathname: `/${mode}/${currentGroup + 1}/${nextPage}`,\r\n        state: {vocabularyMode},\r\n      })\r\n    }\r\n    setEditMode(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (editMode) return\r\n\r\n    if (totalPagesCount !== 0) {\r\n      if (value !== currentPageIndex + 1) setValue(currentPageIndex + 1)\r\n    } else {\r\n      setValue(0)\r\n    }\r\n  }, [totalPagesCount, currentPageIndex, value, editMode])\r\n\r\n  return (\r\n    <div className={classesCss.PageCounter}>\r\n      {editMode ?\r\n        <input\r\n          className={classesCss.SelectedInput}\r\n          value={value}\r\n          onChange={onChangedHandler}\r\n          autoFocus={true}\r\n          onBlur={deactivateEditMode}\r\n        />\r\n        :\r\n        <span onClick={() => setEditMode(true)}>\r\n        {`${value} / ${totalPagesCount}`}\r\n        </span>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport classesCss from \"../BookPage.module.scss\";\r\nimport Button from \"../../../components/Buttons/Button\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faAngleDoubleLeft,\r\n  faAngleDoubleRight,\r\n  faAngleLeft,\r\n  faAngleRight,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PaginationInput from \"./PagintaionInput\";\r\nimport { MODE_VOCABULARY } from \"../../../settings/settings\";\r\n\r\nconst paginationButtons = {\r\n  leftEnd: faAngleDoubleLeft,\r\n  left: faAngleLeft,\r\n  right: faAngleRight,\r\n  rightEnd: faAngleDoubleRight,\r\n};\r\n\r\nexport default function Pagination({ totalPagesCount }) {\r\n  const {\r\n    vocabularyCurrentPage,\r\n    currentPageIndex,\r\n    pagesList,\r\n    currentGroup,\r\n    mode,\r\n    vocabularyMode,\r\n  } = useSelector((store) => store.book);\r\n\r\n  const currentPageList = pagesList[currentGroup];\r\n  const pathBase = `/${mode}/${currentGroup + 1}/`;\r\n\r\n  function getNextPage(direction) {\r\n    if (\r\n      currentPageIndex + direction >= 0 &&\r\n      currentPageIndex + direction < totalPagesCount\r\n    ) {\r\n      return currentPageList[currentPageIndex + direction] + 1;\r\n    }\r\n    return currentPageList[currentPageIndex] + 1;\r\n  }\r\n\r\n  function getNextVocabularyPage(direction) {\r\n    if (\r\n      vocabularyCurrentPage + direction >= 0 &&\r\n      vocabularyCurrentPage + direction < totalPagesCount\r\n    ) {\r\n      return vocabularyCurrentPage + direction + 1;\r\n    }\r\n    return vocabularyCurrentPage + 1;\r\n  }\r\n\r\n  function getPaginationButtonsValues() {\r\n    if (mode === MODE_VOCABULARY) {\r\n      return {\r\n        leftEnd: { pathname: pathBase + 1, state: { vocabularyMode } },\r\n        left: {\r\n          pathname: pathBase + getNextVocabularyPage(-1),\r\n          state: { vocabularyMode },\r\n        },\r\n        right: {\r\n          pathname: pathBase + getNextVocabularyPage(1),\r\n          state: { vocabularyMode },\r\n        },\r\n        rightEnd: {\r\n          pathname: pathBase + totalPagesCount,\r\n          state: { vocabularyMode },\r\n        },\r\n      };\r\n    }\r\n    return {\r\n      leftEnd: pathBase + (currentPageList[0] + 1),\r\n      left: pathBase + getNextPage(-1),\r\n      right: pathBase + getNextPage(1),\r\n      rightEnd: pathBase + (currentPageList[currentPageList.length - 1] + 1),\r\n    };\r\n  }\r\n\r\n  const paginationGoTo = getPaginationButtonsValues();\r\n\r\n  return (\r\n    <div className={classesCss.Pagination}>\r\n      <Link to={paginationGoTo.leftEnd}>\r\n        <Button\r\n          className={classesCss.PaginationButton}\r\n          label={<FontAwesomeIcon icon={paginationButtons.leftEnd} />}\r\n        />\r\n      </Link>\r\n\r\n      <Link to={paginationGoTo.left}>\r\n        <Button\r\n          className={classesCss.PaginationButton}\r\n          label={<FontAwesomeIcon icon={paginationButtons.left} />}\r\n        />\r\n      </Link>\r\n\r\n      <PaginationInput\r\n        totalPagesCount={\r\n          mode === MODE_VOCABULARY\r\n            ? totalPagesCount\r\n            : pagesList[currentGroup].length\r\n        }\r\n        currentPageIndex={\r\n          mode === MODE_VOCABULARY ? vocabularyCurrentPage : currentPageIndex\r\n        }\r\n      />\r\n\r\n      <Link to={paginationGoTo.right}>\r\n        <Button\r\n          className={classesCss.PaginationButton}\r\n          label={<FontAwesomeIcon icon={paginationButtons.right} />}\r\n        />\r\n      </Link>\r\n\r\n      <Link to={paginationGoTo.rightEnd}>\r\n        <Button\r\n          className={classesCss.PaginationButton}\r\n          label={<FontAwesomeIcon icon={paginationButtons.rightEnd} />}\r\n        />\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport cx from \"classnames\";\r\nimport classesCss from \"../BookPage.module.scss\";\r\nimport levelStyles from \"../../../styles/LevelStyles.module.scss\";\r\nimport Button from \"../../../components/Buttons/Button\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport default function GroupMenu({className}) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const { currentGroup, mode, vocabularyMode } = useSelector((store) => store.book);\r\n\r\n  return (\r\n    <div className={cx(classesCss.GroupMenu, className)}>\r\n      <Button\r\n        className={cx(\r\n          classesCss.GroupMenuToggle,\r\n          levelStyles[`Level${currentGroup + 1}`]\r\n        )}\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        label={currentGroup + 1}\r\n      />\r\n\r\n      <div\r\n        className={cx(classesCss.PopUpMenu, { [classesCss.Active]: isOpen })}\r\n      >\r\n        {new Array(6).fill(null).map((group, index) => {\r\n          return (\r\n            <NavLink\r\n              key={\"group\" + index}\r\n              to={{pathname:`/${mode}/${index + 1}/1`, state:{vocabularyMode}}}\r\n              className={cx(\r\n                classesCss.BookLink,\r\n                levelStyles[`Level${index + 1}`]\r\n              )}\r\n              activeClassName={classesCss.Active}\r\n              isActive={(match, location) => {\r\n                const [, urlGroup] = location.pathname.match(\r\n                  /\\/([0-9])\\/[0-9]*/\r\n                );\r\n                return Number(urlGroup) === index + 1;\r\n              }}\r\n            >\r\n              {index + 1}\r\n            </NavLink>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport classesCss from \"../BookPage.module.scss\";\r\nimport Button from \"../../../components/Buttons/Button\";\r\nimport { GAMES_ARRAY } from \"../../../settings/data\";\r\nimport GameButton from \"../../../components/Buttons/GameButton\";\r\nimport cx from \"classnames\";\r\nimport { setFirstLetterToCapital } from \"../../../helpers/gameUtils\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { MODE_VOCABULARY } from \"../../../settings/settings\";\r\n\r\nexport default function GameMenu({className}){\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const {currentWords, mode, vocabularyCurrentPage, vocabularyWords, currentGroup} = useSelector(store => store.book)\r\n\r\n  const wordsToTransmit = (function(){\r\n    if(mode === MODE_VOCABULARY) {\r\n      if(vocabularyWords) return vocabularyWords[vocabularyCurrentPage]\r\n      return []\r\n    }\r\n    return currentWords.filter(({optional}) => !optional?.deleted)\r\n  })()\r\n\r\n  return (\r\n    <div className={cx(classesCss.GameMenu, className)}>\r\n      <Button\r\n        className={cx(classesCss.NavigationLink, classesCss.GameMenuToggler)}\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        label={\"Тренировка\"}\r\n      />\r\n      <div\r\n        className={cx(classesCss.PopUpMenu, {[classesCss.Active]: isOpen})}\r\n      >\r\n        {GAMES_ARRAY.map((game) => {\r\n          return (\r\n            <GameButton\r\n              gameCallValues={{\r\n                words: wordsToTransmit,\r\n                group: currentGroup,\r\n                fullWordsSet: mode === MODE_VOCABULARY? vocabularyWords? vocabularyWords.flat() : null : null\r\n              }}\r\n              game={game}\r\n              key={game.key}\r\n              className={classesCss.GameLink}\r\n              classes={{\r\n                label: classesCss.GameLabel,\r\n                link: cx(\r\n                  classesCss.GameLinkWrap,\r\n                  classesCss[setFirstLetterToCapital(game.key)],\r\n                ),\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport cx from \"classnames\"\r\nimport { MODE_BOOK, MODE_VOCABULARY } from \"../../../settings/settings\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classesCss from \"../BookPage.module.scss\";\r\n\r\nexport default function ModeToggle({mode, currentGroup, className}){\r\n\r\n  return (\r\n    <>\r\n      {\r\n        mode === MODE_VOCABULARY ? (\r\n          <NavLink\r\n            className={cx(classesCss.NavigationLink, className)}\r\n            to={`/${MODE_BOOK}/${currentGroup + 1}/1`}\r\n          >\r\n            Учебник\r\n          </NavLink>\r\n        ) : (\r\n          <NavLink\r\n            className={cx(classesCss.NavigationLink, className)}\r\n            to={{pathname: `/${MODE_VOCABULARY}/${currentGroup + 1}/1`}}\r\n          >\r\n            Словарь\r\n          </NavLink>\r\n        )}\r\n    </>\r\n  )\r\n}","import React from \"react\"\r\nimport cx from \"classnames\"\r\nimport classesCss from \"../../pages/BookPage/BookPage.module.scss\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faHome } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nexport default function HomeLink({className}){\r\n  return(\r\n    <NavLink\r\n      className={cx(classesCss.NavigationButton, className)}\r\n      to={\"/\"}\r\n    >\r\n      <FontAwesomeIcon icon={faHome}/>\r\n    </NavLink>\r\n  )\r\n}","import React from \"react\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCog } from \"@fortawesome/free-solid-svg-icons\";\r\nimport cx from \"classnames\";\r\nimport classesCss from \"../../pages/BookPage/BookPage.module.scss\";\r\nimport Button from \"./Button\";\r\n\r\nexport default function SettingsButton({className, ...props}){\r\n  return (\r\n    <Button\r\n      label={<FontAwesomeIcon icon={faCog}/>}\r\n      className={cx(classesCss.NavigationButton, className)}\r\n      {...props}\r\n    />\r\n  )\r\n}","import React from \"react\"\r\n\r\nexport default function TotalValuesDisplay({totalValues: {learned,success,fail}}){\r\n  return(\r\n    <div>\r\n      <div>Изучаемых слов: {learned}</div>\r\n      <div>\r\n        Успешно: {success}/{success + fail}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from \"react\"\r\nimport cx from \"classnames\"\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faChevronCircleUp} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Button from \"./Button\";\r\nimport classesCss from \"./Button.module.scss\"\r\n\r\nexport default function PopUpMenuButton({active, className, ...props}){\r\n  return(\r\n    <Button\r\n      className={cx(classesCss.PopUpMenuButton, className, {[classesCss.Active]: active})}\r\n      label={\r\n        <FontAwesomeIcon icon={faChevronCircleUp} />\r\n      }\r\n      {...props}\r\n    />\r\n  )\r\n}","import React, {useState} from \"react\";\r\nimport cx from \"classnames\";\r\nimport classesCss from \"../BookPage.module.scss\";\r\nimport Pagination from \"./Pagination\";\r\nimport GroupMenu from \"./GroupMenu\";\r\nimport { useSelector } from \"react-redux\";\r\nimport GameMenu from \"./GameMenu\";\r\nimport { MODE_BOOK, MODE_VOCABULARY, VOCABULARY_MODE_DELETED, VOCABULARY_MODE_NORMAL } from \"../../../settings/settings\";\r\nimport ModeToggle from \"./ModeToggle\";\r\nimport HomeLink from \"../../../components/Buttons/HomeLink\";\r\nimport SettingsButton from \"../../../components/Buttons/SettingsButton\";\r\nimport TotalValuesDisplay from \"./TotalValuesDisplay\";\r\nimport PopUpMenuButton from \"../../../components/Buttons/PopUpMenuButton\";\r\n\r\nexport default function BookMenu({settingsOn, totalPagesCount, totalValues}){\r\n  const {isLogged} = useSelector(({user}) => user);\r\n  const {currentGroup, mode, vocabularyMode} = useSelector(({book}) => book);\r\n  const [isSmallMenuOpened, setSmallMenuOpened] = useState(false)\r\n\r\n  const isGameMenuVisible =\r\n    mode === MODE_BOOK\r\n    || (mode === MODE_VOCABULARY && vocabularyMode !== VOCABULARY_MODE_DELETED)\r\n\r\n\r\n  return (\r\n    <div className={classesCss.BookMenu}>\r\n\r\n      <div className={cx(\r\n        classesCss.SmallWidthMenu,\r\n        {[classesCss.ShowWithSmallWidth]: isLogged},\r\n      )}>\r\n        <PopUpMenuButton\r\n          className={classesCss.ShowWithSmallWidth}\r\n          onClick={() => setSmallMenuOpened(!isSmallMenuOpened)}\r\n          active={isSmallMenuOpened}\r\n        />\r\n        <div className={cx(classesCss.PopUpMenu, {[classesCss.Active]: isSmallMenuOpened})}>\r\n          <HomeLink/>\r\n          <SettingsButton onClick={settingsOn}/>\r\n          <ModeToggle mode={mode} currentGroup={currentGroup}/>\r\n          {isGameMenuVisible ? <GameMenu/> : null}\r\n          <GroupMenu/>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <HomeLink className={cx({[classesCss.HideWithSmallWidth]: isLogged})}/>\r\n\r\n      {isLogged?\r\n        <SettingsButton onClick={settingsOn} className={classesCss.HideWithSmallWidth}/>\r\n        : null}\r\n\r\n      {isLogged?\r\n        <ModeToggle mode={mode} currentGroup={currentGroup} className={classesCss.HideWithSmallWidth}/>\r\n        : null}\r\n\r\n      {isGameMenuVisible ?\r\n        <GameMenu className={cx({[classesCss.HideWithSmallWidth]: isLogged})}/>\r\n        : null}\r\n\r\n      <Pagination totalPagesCount={totalPagesCount}/>\r\n\r\n      {isLogged && !(mode === MODE_VOCABULARY && vocabularyMode !== VOCABULARY_MODE_NORMAL) ?\r\n        <TotalValuesDisplay totalValues={totalValues}/> : null\r\n      }\r\n\r\n      <GroupMenu className={cx({[classesCss.HideWithSmallWidth]: isLogged})}/>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport classesCss from \"./BookPage.module.scss\";\r\nimport cx from \"classnames\";\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  setButtonsVisible,\r\n  setTranslateVisible,\r\n} from \"../../redux/actions.book\";\r\nimport CloseButton from \"../../components/Buttons/CloseButton\";\r\n\r\nexport default function BookSettings({ settingsOff }) {\r\n\r\n  const { isTranslateVisible, isButtonsVisible } = useSelector((store) => store.book);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className={classesCss.SettingsBlock} onClick={settingsOff}>\r\n      <div className={classesCss.SettingsContent} onClick={event => {event.stopPropagation()}}>\r\n        <CloseButton className={classesCss.SettingsCloseButton} onClick={settingsOff}/>\r\n        <h3>Настройки</h3>\r\n        <div className={classesCss.SettingButtonBlock}>\r\n          <ToggleButton\r\n            className={classesCss.SettingButton}\r\n            classes={{\r\n              selected:classesCss.Selected,\r\n              disabled:classesCss.Disabled\r\n            }}\r\n            value=\"check\"\r\n            selected={isTranslateVisible}\r\n            onChange={() => dispatch(setTranslateVisible(!isTranslateVisible))}\r\n          >\r\n            <CheckIcon />\r\n          </ToggleButton>\r\n          <span className={classesCss.SettingButtonText}>Перевод</span>\r\n        </div>\r\n        <div className={classesCss.SettingButtonBlock}>\r\n          <ToggleButton\r\n            className={classesCss.SettingButton}\r\n            classes={{\r\n              selected:classesCss.Selected,\r\n              disabled:classesCss.Disabled\r\n            }}\r\n            value=\"check\"\r\n            selected={isButtonsVisible}\r\n            onChange={() => dispatch(setButtonsVisible(!isButtonsVisible))}\r\n          >\r\n            <CheckIcon />\r\n          </ToggleButton>\r\n          <span className={classesCss.SettingButtonText}>Кнопки управления словами</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport classesCss from \"./BookPage.module.scss\";\r\n\r\nexport default function BookDisclaimerEmpty(){\r\n  return(\r\n    <div className={classesCss.DisclaimerBlock}>\r\n      <div\r\n        className={classesCss.Image}\r\n        style={{backgroundImage: `url(${process.env.PUBLIC_URL}/static/nothing.png)`,}}\r\n      />\r\n      <div className={classesCss.Text}><span>Здесь пока ничего нет</span></div>\r\n    </div>\r\n  )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { NavLink, useHistory, useLocation, useParams } from \"react-router-dom\";\r\nimport cx from \"classnames\"\r\nimport { checkGroup, checkPage } from \"../../helpers/utils.checkers\";\r\nimport { useUserWordsGroup } from \"../../hooks/hooks.user\";\r\nimport {\r\n  setCurrentGroup,\r\n  setVocabularyCurrentPage,\r\n  setVocabularyMode,\r\n  setVocabularyWords,\r\n} from \"../../redux/actions.book\";\r\nimport WordCard from \"../../components/WordCard/WordCard\";\r\nimport BookDisclaimerEmpty from \"./BookDisclaimerEmpty\";\r\nimport {\r\n  MODE_VOCABULARY,\r\n  SETTINGS,\r\n  VOCABULARY_MODE_DELETED,\r\n  VOCABULARY_MODE_DIFFICULT,\r\n  VOCABULARY_MODE_NORMAL,\r\n  WORD_HARD,\r\n} from \"../../settings/settings\";\r\nimport classesCss from \"./BookPage.module.scss\";\r\n\r\nconst VOCABULARY_SECTIONS = [\r\n  {\r\n    mode: VOCABULARY_MODE_NORMAL,\r\n    label: \"Изучаемые\",\r\n  },\r\n  {\r\n    mode: VOCABULARY_MODE_DIFFICULT,\r\n    label: \"Сложные\",\r\n  },\r\n  {\r\n    mode: VOCABULARY_MODE_DELETED,\r\n    label: \"Удаленные\",\r\n  },\r\n]\r\n\r\nconst maxWordsInPage = SETTINGS.DEFAULT_WORD_CHUNK_LENGTH\r\n\r\nexport default function VocabularyContent({setTotalPagesCount}){\r\n  const {getUserWordsGroup, currentUserWordsGroup} = useUserWordsGroup();\r\n  const [wordsToRender, setWordsToRender] = useState(null);\r\n  const {words: userWords} = useSelector((state) => state.user);\r\n  const dispatch = useDispatch();\r\n\r\n  const history = useHistory()\r\n  const {state} = useLocation()\r\n  const urlVocabularyMode = state ? state.vocabularyMode : VOCABULARY_MODE_NORMAL\r\n  const {group: urlGroup, page: urlPage = 1} = useParams();\r\n  const group = checkGroup(urlGroup - 1);\r\n  const page = checkPage(urlPage - 1);\r\n\r\n  function getVocabularyUrl(mode){\r\n    return {\r\n      pathname: `/${MODE_VOCABULARY}/${group + 1}/1`,\r\n      state: {vocabularyMode: mode},\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (userWords[group] && Object.keys(userWords[group])) getUserWordsGroup(group);\r\n  }, [userWords, group, getUserWordsGroup]);\r\n\r\n  useEffect(() => {\r\n    if (currentUserWordsGroup) {\r\n      const userFlatWords = Object.values(currentUserWordsGroup)\r\n      .flat()\r\n      .filter(({optional, difficulty}) => {\r\n        const isDifficultyHard = difficulty === WORD_HARD\r\n        if (urlVocabularyMode === VOCABULARY_MODE_DIFFICULT) return isDifficultyHard && !optional.deleted;\r\n        if (urlVocabularyMode === VOCABULARY_MODE_DELETED) return optional.deleted;\r\n        return (isDifficultyHard || (optional.failCounter + optional.successCounter)) && !optional.deleted;\r\n      })\r\n      const pagesNumber = Math.ceil(userFlatWords.length / maxWordsInPage)\r\n      const slicedUserWords = Array(pagesNumber).fill(null).map((el, index) => {\r\n        return userFlatWords.slice(index * maxWordsInPage, maxWordsInPage * (index + 1))\r\n      });\r\n      setWordsToRender(slicedUserWords);\r\n      setTotalPagesCount(pagesNumber);\r\n\r\n    }\r\n  }, [currentUserWordsGroup, urlVocabularyMode, setTotalPagesCount]);\r\n\r\n  useEffect(() => {\r\n    dispatch(setCurrentGroup(group));\r\n  }, [group, dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(setVocabularyCurrentPage(page));\r\n  }, [page, dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(setVocabularyMode(urlVocabularyMode))\r\n  }, [urlVocabularyMode, dispatch])\r\n\r\n  useEffect(() => {\r\n    dispatch(setVocabularyWords(wordsToRender))\r\n\r\n  }, [wordsToRender, dispatch])\r\n\r\n  useEffect(() => {\r\n    if (wordsToRender?.length && wordsToRender.length < urlPage) {\r\n      history.push({\r\n        pathname: `/${MODE_VOCABULARY}/${group + 1}/${wordsToRender?.length}`,\r\n        state: urlVocabularyMode\r\n      })\r\n    }\r\n  }, [wordsToRender, urlPage, history, group, urlVocabularyMode])\r\n\r\n  return (\r\n    <>\r\n      <div className={cx(classesCss.VocabularyHeader)}>\r\n        {\r\n          VOCABULARY_SECTIONS.map(section => (\r\n            <NavLink\r\n              key={section.label + section.mode}\r\n              className={cx(\r\n                classesCss.VocabularySection,\r\n                {[classesCss.Active]: urlVocabularyMode === section.mode},\r\n              )}\r\n              to={getVocabularyUrl(section.mode)}\r\n            >\r\n              {section.label}\r\n            </NavLink>\r\n          ))\r\n        }\r\n      </div>\r\n      <div className={classesCss.BookContent}>\r\n        {\r\n          wordsToRender?.length && wordsToRender[page]?.length ?\r\n            wordsToRender[page].map((word) => {\r\n              return (\r\n                <WordCard\r\n                  key={word.id}\r\n                  cardInfo={word}\r\n                />\r\n              );\r\n            })\r\n            : <BookDisclaimerEmpty/>\r\n        }\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Route, useLocation } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport cx from \"classnames\";\r\nimport { setBookMode } from \"../../redux/actions.book\";\r\nimport BookContent from \"./BookContent\";\r\nimport BookMenu from \"./Menu/BookMenu\";\r\nimport BookSettings from \"./BookSettings\";\r\nimport VocabularyContent from \"./VocabularyContent\";\r\nimport { MODE_DETECT_PATTERN, MODE_BOOK, MODE_VOCABULARY } from \"../../settings/settings\";\r\nimport classesCss from \"./BookPage.module.scss\";\r\nimport levelStyles from \"../../styles/LevelStyles.module.scss\";\r\n\r\nexport default function BookPage() {\r\n  const [isSettingsVisible, setSettingsVisible] = useState(false);\r\n  const [totalPagesCount, setTotalPagesCount] = useState();\r\n  const [totalValues, setTotalValues] = useState({\r\n    success: 0,\r\n    fail: 0,\r\n    learned: 0\r\n  })\r\n  const {pathname} = useLocation();\r\n  const {currentGroup} = useSelector(({book}) => book)\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const [, urlMode] = pathname.match(MODE_DETECT_PATTERN);\r\n    dispatch(setBookMode(urlMode));\r\n  }, [pathname, dispatch]);\r\n\r\n  return (\r\n    <div className={cx(\r\n      classesCss.BookPage,\r\n      levelStyles[`Level${currentGroup+1}`]\r\n    )}>\r\n      <Route path={`/${MODE_BOOK}/:group/:page`}>\r\n        <BookContent\r\n          setTotalPagesCount={setTotalPagesCount}\r\n          setTotalValues={setTotalValues}\r\n        />\r\n      </Route>\r\n      <Route path={`/${MODE_VOCABULARY}/:group/:page`}>\r\n        <VocabularyContent setTotalPagesCount={setTotalPagesCount}/>\r\n      </Route>\r\n      <BookMenu\r\n        totalPagesCount={totalPagesCount}\r\n        totalValues={totalValues}\r\n        settingsOn={() => setSettingsVisible(true)}\r\n      />\r\n      {isSettingsVisible ? (<BookSettings settingsOff={() => setSettingsVisible(false)} />) : null}\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport cx from \"classnames\";\r\nimport classesCss from \"./Button.module.scss\"\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function CloseLink({className}){\r\n    return (\r\n        <Link\r\n          to=\"/\"\r\n          className={cx(classesCss.CloseLinkButton, className)}>\r\n          <CloseIcon className={classesCss.Icon}/>\r\n        </Link>\r\n    );\r\n};\r\n\r\n","import React from \"react\"\r\nimport cx from \"classnames\"\r\nimport classesCss from \"./AboutCard.module.scss\";\r\n\r\nexport default function AboutCard({image, head, text, className, cardImageRound, cardImageBottomRound, ...props}){\r\n  return (\r\n    <div className={cx(\r\n      classesCss.Card,\r\n      className,\r\n      {\r\n        [classesCss.CardImageBottomRound]: cardImageBottomRound,\r\n        [classesCss.CardImageRound]: cardImageRound,\r\n      },\r\n    )} {...props}>\r\n      <div className={classesCss.CardImage}>\r\n        <div style={{backgroundImage: `url(${process.env.PUBLIC_URL}/static/${image})`}}/>\r\n      </div>\r\n      <div className={classesCss.CardText}>\r\n        <header>\r\n          <h3>{head}</h3>\r\n        </header>\r\n        <p>\r\n          {text}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport CloseLink from \"../../components/Buttons/CloseLink\";\r\nimport AboutCard from \"../../components/AboutCard/AboutCard\";\r\nimport { GAMES_ARRAY } from \"../../settings/data\";\r\nimport classesCss from \"./GamesPage.module.scss\";\r\n\r\nexport default function GamesPage(){\r\n\r\n  const {state} = useLocation()\r\n\r\n  return (\r\n    <div className={classesCss.GamesPage}>\r\n      <CloseLink className={classesCss.CloseLink}/>\r\n      {\r\n        GAMES_ARRAY.map(({navigationImage, name, description, key}) => {\r\n          return (\r\n            <Link to={{pathname: `/games/${key}`, state}}>\r\n              <AboutCard\r\n                className={classesCss.GameCard}\r\n                key={\"aboutgame\" + name}\r\n                image={navigationImage}\r\n                head={name}\r\n                text={description}\r\n              />\r\n            </Link>\r\n          )\r\n        })\r\n      }\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\r\nimport NotificationsOffIcon from '@material-ui/icons/NotificationsOff';\r\n\r\nconst SoundButton = (props) => {\r\n    const {onClick, isEnabled} = props;\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <>\r\n            <button onClick={onClick} className={classes.button}>\r\n                {isEnabled && <NotificationsActiveIcon className={classes.icon}/>}\r\n                {!isEnabled && <NotificationsOffIcon className={classes.icon}/>}\r\n            </button>\r\n        </>\r\n    )\r\n};\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        background: 'transparent',\r\n        border: 0,\r\n        outline: 'none',\r\n        cursor: 'pointer',\r\n        listStyle: 'none',\r\n        transition: 'all 0.5s ease-out',\r\n        \"&:active\": {\r\n            transform: 'scale(0.8)',\r\n        },\r\n    },\r\n    icon: {\r\n        color: '#ffffff',\r\n        fontSize: '35px',\r\n    },\r\n});\r\nexport default SoundButton;\r\n","export default __webpack_public_path__ + \"static/media/correct.23d0e138.mp3\";","export default __webpack_public_path__ + \"static/media/error.88bbaea7.mp3\";","import React, {useState, useCallback} from 'react';\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen';\r\n\r\nconst FullScreenButton = () => {\r\n    const classes = useStyles();\r\n    const [fullScreenEnabled, setFullScreenEnabled] = useState(false);\r\n\r\n    const handleFullScreen = useCallback(() => {\r\n        if (fullScreenEnabled) {\r\n            document.exitFullscreen();\r\n        } else {\r\n            document.documentElement.requestFullscreen();\r\n        }\r\n        setFullScreenEnabled(!fullScreenEnabled);\r\n    }, [fullScreenEnabled]);\r\n\r\n    return (\r\n        <button\r\n            className={classes.fullScreenBtn}\r\n            onClick={handleFullScreen}\r\n            type=\"button\"\r\n        >\r\n            <FullscreenIcon className={classes.icon}/>\r\n        </button>\r\n    )\r\n};\r\nconst useStyles = makeStyles({\r\n    fullScreenBtn: {\r\n        background: 'transparent',\r\n        border: 0,\r\n        outline: 'none',\r\n        cursor: 'pointer',\r\n        listStyle: 'none',\r\n        transition: 'all 0.5s ease-out',\r\n        \"&:active\": {\r\n            transform: 'scale(0.8)',\r\n        },\r\n    },\r\n    icon: {\r\n        color: '#ffffff',\r\n        fontSize: '35px',\r\n    },\r\n\r\n});\r\nexport default FullScreenButton;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport classNames from \"classnames\";\r\n\r\nconst Button = (props) => {\r\n    const {label, onClick, classes, children} = props;\r\n    const innerClasses = useStyles();\r\n\r\n    return (\r\n        <button onClick={onClick} className={classNames(innerClasses.button, classes.button)}>\r\n            {label}\r\n          <div>{children}</div>\r\n        </button>\r\n    );\r\n};\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        width: '150px',\r\n        height: '40px',\r\n        fontSize: '16px',\r\n        fontWeight: '700',\r\n        color: '#ffffff',\r\n        backgroundColor: '#00a098',\r\n        border: 'none',\r\n        borderRadius: '5px',\r\n        outline: 'none',\r\n        transition: 'all .8s easy',\r\n        marginTop: '20px',\r\n        cursor: 'pointer',\r\n        \"&:hover\": {\r\n            backgroundColor: '#45ae8a',\r\n            transition: 'all .8s easy',\r\n        },\r\n    }\r\n});\r\nexport default Button;\r\n","export default __webpack_public_path__ + \"static/media/branch.44f4c58f.png\";","export default __webpack_public_path__ + \"static/media/photo_2021-04-09_11-20-47.2d7e1c32.jpg\";","import React, { useState, useEffect } from 'react';\r\n\r\nconst Timer = (props) => {\r\n  const { isActive, onCountdownFinish, initialTime } = props;\r\n  const [value, setValue] = useState(initialTime);\r\n\r\n  useEffect(() => {\r\n    const timerID = setTimeout(() => {\r\n      if (value > 0 && isActive) {\r\n        setValue(value - 1);\r\n      }\r\n    }, 1000);\r\n    return () => clearTimeout(timerID);\r\n  }, [value, isActive]);\r\n\r\n  useEffect(() => {\r\n    if (value <= 0) {\r\n      onCountdownFinish();\r\n    }\r\n  }, [onCountdownFinish, value]);\r\n\r\n  return (\r\n    <>\r\n      {value}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Timer;\r\n\r\n\r\n","import React, {useState, useCallback, useEffect, useMemo} from 'react';\r\nimport {createStyles, Grid, makeStyles} from \"@material-ui/core\";\r\nimport SoundButton from \"../common/SoundButton\";\r\nimport correctSound from \"../../../assets/audio/correct.mp3\";\r\nimport errorSound from \"../../../assets/audio/error.mp3\";\r\nimport FullScreenButton from \"../common/FullScreenButton\";\r\nimport Button from \"../common/Button\";\r\nimport ArrowLeftIcon from \"@material-ui/icons/ArrowLeft\";\r\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\r\nimport NotificationsActiveIcon from \"@material-ui/icons/NotificationsActive\";\r\nimport WbIncandescentIcon from '@material-ui/icons/WbIncandescent';\r\nimport branch from \"../../../assets/images/branch.png\";\r\nimport parrot1 from \"../../../assets/images/parrot1.png\";\r\nimport parrot2 from \"../../../assets/images/parrot2.png\";\r\nimport parrot3 from \"../../../assets/images/parrot3.png\";\r\nimport parrot4 from \"../../../assets/images/parrot4.png\";\r\nimport {SETTINGS} from \"../../../settings/settings\";\r\nimport {getRandomNumber, shuffle} from \"../../../helpers/gameUtils\";\r\nimport background from \"../../../assets/images/photo_2021-04-09_11-20-47.jpg\";\r\nimport classNames from \"classnames\";\r\nimport Timer from \"./Timer\";\r\n\r\nconst NUMBER_OF_MARKS = 3;\r\n\r\nconst NUMBER_OF_PARROTS = 4;\r\n\r\nconst MULTIPLIER = {\r\n  1: 10,\r\n  2: 20,\r\n  3: 40,\r\n  4: 80\r\n};\r\n\r\nconst Marks = (props) => {\r\n  const { count = 0 } = props;\r\n\r\n  const marks = useMemo(() => {\r\n    return [\r\n      ...(new Array(count).fill(true)),\r\n      ...(new Array(NUMBER_OF_MARKS - count).fill(false))\r\n    ];\r\n  },[count]);\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container justify=\"space-evenly\" alignItems=\"center\">\r\n      {marks.map((mark, index) => (\r\n        <Grid item key={index}>\r\n          {mark && (<WbIncandescentIcon className={classes.trueMark} />)}\r\n          {!mark && (<WbIncandescentIcon className={classes.falseMark} />)}\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst Parrots = (props) => {\r\n  const { count = 1 } = props;\r\n\r\n  const parrots = useMemo(() => {\r\n    return [\r\n      ...(new Array(count).fill(true)),\r\n      ...(new Array(NUMBER_OF_PARROTS - count).fill(false))\r\n    ];\r\n  }, [count]);\r\n\r\n  const classes = useStyles();\r\n\r\n  const parrotsSrc = [parrot1, parrot2, parrot3, parrot4];\r\n\r\n  return (\r\n    <Grid container justify=\"center\" alignItems=\"center\" className={classes.parrotsContainer}>\r\n      {parrots.map((isVisible, index) => (\r\n          <img key={index} src={parrotsSrc[index]} alt=\"parrot\"\r\n               className={classNames({\r\n                 [classes.hidden]: !isVisible,\r\n                 [classes.parrot]: isVisible,\r\n               })}\r\n          />\r\n      ))}\r\n      <img src={branch} alt=\"branch\" className={classes.branch}/>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst Sprint = (props) => {\r\n  const {words, onLoading, onWordSelect, onGameEnd} = props;\r\n\r\n  const [score, setScore] = useState(0);\r\n  const [rate, setRate] = useState(1);\r\n  const [marksCombo, setMarksCombo] = useState(0);\r\n  const [soundOn, setSoundOn] = useState(false);\r\n  const [wordCounter, setWordCounter] = useState(0);\r\n  const [currentTranslation, setCurrentTranslation] = useState(\"\");\r\n\r\n  const classes = useStyles();\r\n\r\n  const currentChunk = useMemo(() => {\r\n    if (words?.length > 0) {\r\n      return [...words]\r\n    }\r\n    return null\r\n  }, [words]);\r\n\r\n  const playAudio = useCallback((n) => () => {\r\n    const audioPath = `${SETTINGS.SERVER}`;\r\n    const pronounce = new Audio(`${audioPath}/${currentChunk[n].audio}`);\r\n    pronounce.play();\r\n  }, [currentChunk]);\r\n\r\n  const setWordTranslation = useCallback((words, correctWordTranslation) => {\r\n    const arrOfTranslations = [];\r\n    arrOfTranslations.push(correctWordTranslation);\r\n    const translation = words[getRandomNumber(0, words.length - 1)].wordTranslate;\r\n    arrOfTranslations.push(translation);\r\n    shuffle(arrOfTranslations);\r\n    const randomTranslation = arrOfTranslations[getRandomNumber(0, arrOfTranslations.length - 1)];\r\n    setCurrentTranslation(randomTranslation);\r\n    return randomTranslation;\r\n  },[]);\r\n\r\n  const randomTranslation = useMemo(() => {\r\n      return currentChunk && wordCounter !== currentChunk.length ? setWordTranslation(currentChunk, currentChunk[wordCounter].wordTranslate) : null;\r\n  },[currentChunk, wordCounter, setWordTranslation]);\r\n\r\n  const changeScore = useCallback((correctAnswer, hasCombo) => {\r\n    if (correctAnswer) {\r\n      let calculatedScore = score + MULTIPLIER[rate];\r\n\r\n      if (hasCombo && rate < NUMBER_OF_PARROTS) {\r\n        calculatedScore = calculatedScore + MULTIPLIER[rate + 1];\r\n      } else if (hasCombo && rate === NUMBER_OF_PARROTS) {\r\n        calculatedScore = calculatedScore + MULTIPLIER[rate];\r\n      }\r\n      setScore(calculatedScore);\r\n    }\r\n  }, [rate, score]);\r\n\r\n  const handleChangeSound = useCallback(() => {\r\n    setSoundOn(!soundOn);\r\n  }, [soundOn]);\r\n\r\n  const changeParrots = useCallback((correctAnswer) => {\r\n      if (correctAnswer && rate < 4) {\r\n        setRate(rate + 1);\r\n      }\r\n      if (!correctAnswer && rate > 1) {\r\n        setRate(rate - 1);\r\n      }\r\n    }, [rate],\r\n  );\r\n\r\n  const changeMark = useCallback((correctAnswer) => {\r\n      if (correctAnswer) {\r\n        let count =  marksCombo === 3 ? 3 : marksCombo + 1;\r\n        setMarksCombo(count);\r\n        if (count >= 3) {\r\n          setTimeout(() => {\r\n            setMarksCombo(0);\r\n            changeParrots(true);\r\n          }, 500);\r\n        }\r\n        marksCombo === 2 ? changeScore(correctAnswer, true) : changeScore(correctAnswer);\r\n      } else {\r\n        setMarksCombo(0);\r\n        changeParrots(false);\r\n      }\r\n    }, [changeScore, changeParrots, marksCombo],\r\n  );\r\n\r\n  const handleClick = useCallback((correctAnswer) => () => {\r\n    const isCorrect = (\r\n        correctAnswer && currentChunk[wordCounter]?.wordTranslate === currentTranslation\r\n      ) || (\r\n        !correctAnswer && currentChunk[wordCounter]?.wordTranslate !== currentTranslation\r\n    );\r\n\r\n    onWordSelect(currentChunk[wordCounter], {succeed: isCorrect, failed: !isCorrect});\r\n    changeMark(isCorrect);\r\n    playSound(isCorrect, soundOn);\r\n\r\n    setWordCounter(wordCounter + 1);\r\n    if (wordCounter === currentChunk.length-1) {\r\n      onGameEnd(wordCounter);\r\n    }\r\n  },[onWordSelect, changeMark, soundOn, currentTranslation, currentChunk, wordCounter, onGameEnd]);\r\n\r\n  const handleKeyPress = useCallback((e) => {\r\n    e.preventDefault();\r\n    if (e.key === \"ArrowRight\") {\r\n      handleClick(true)();\r\n    }\r\n    if (e.key === \"ArrowLeft\") {\r\n      handleClick(false)();\r\n    }\r\n  }, [handleClick]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keyup\", handleKeyPress);\r\n    return () => {\r\n      document.removeEventListener(\"keyup\", handleKeyPress);\r\n    }\r\n  }, [handleKeyPress]);\r\n\r\n  return (\r\n    <>\r\n      {(onLoading || !currentChunk) ? (\r\n        <Grid container justify=\"center\" alignItems=\"center\">ЗАГРУЗКА</Grid>\r\n      ) : (\r\n        <Grid container justify=\"center\" alignItems=\"center\" direction=\"column\" className={classes.container}>\r\n          <Grid item container justify=\"flex-start\" className={classes.gameIcons}>\r\n            <SoundButton onClick={handleChangeSound} isEnabled={soundOn}/>\r\n            <FullScreenButton/>\r\n          </Grid>\r\n\r\n          <Grid container justify=\"center\" alignItems=\"center\" direction=\"column\" className={classes.gameContainer}>\r\n            <Grid container justify=\"space-between\" className={classes.dataContainer}>\r\n              <Grid container justify=\"center\" alignItems=\"center\" className={classes.timerContainer}>\r\n                <Timer isActive={true} initialTime={60} onCountdownFinish={() => onGameEnd(wordCounter)} />\r\n              </Grid>\r\n              <Grid container justify=\"center\" alignItems=\"center\" className={classes.score}>\r\n                {score}\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container justify=\"space-between\" alignItems=\"flex-start\" direction=\"column\" className={classes.game}>\r\n\r\n              <Marks count={marksCombo}/>\r\n              <Parrots count={rate}/>\r\n\r\n              <Grid container justify=\"center\" alignItems=\"center\" direction=\"column\" className={classes.wordsContainer}>\r\n                <button onClick={playAudio(wordCounter)} className={classes.audioButton}>\r\n                  <NotificationsActiveIcon/>\r\n                </button>\r\n                <Grid container justify=\"center\" alignItems=\"center\">\r\n                  <p className={classes.enWord}>{currentChunk[wordCounter]?.word}</p>\r\n                </Grid>\r\n                <Grid container justify=\"center\" alignItems=\"center\">\r\n                  <p className={classes.ruWord}>{randomTranslation}</p>\r\n                </Grid>\r\n              </Grid>\r\n\r\n              <Grid container justify=\"space-around\" alignItems=\"center\" className={classes.buttonsContainer}>\r\n                <Button label={\"Не верно\"} onClick={handleClick(false)} classes={{button: classes.buttonFalse}}>\r\n                  <ArrowLeftIcon className={classes.buttonIcon}/>\r\n                </Button>\r\n                <Button label={\"Верно\"} onClick={handleClick(true)} classes={{button: classes.buttonTrue}}>\r\n                  <ArrowRightIcon className={classes.buttonIcon}/>\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>)}\r\n      <audio id=\"correctSound\" src={correctSound}/>\r\n      <audio id=\"errorSound\" src={errorSound}/>\r\n    </>\r\n  );\r\n};\r\n\r\n\r\nconst playSound = (isCorrect, soundOn) => {\r\n  const correctSound = document.querySelector(\"#correctSound\");\r\n  const errorSound = document.querySelector(\"#errorSound\");\r\n  if (soundOn) {\r\n    isCorrect ? correctSound.play() : errorSound.play();\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n  container: {\r\n    height: '100vh',\r\n    position: 'relative',\r\n    background: `linear-gradient(#9a733933, #8d8dad30),url(${background})`,\r\n    backgroundSize: 'cover',\r\n    backgroundRepeat: 'no-repeat',\r\n    width: '100vw',\r\n  },\r\n  gameIcons: {\r\n    position: 'absolute',\r\n    top: '15px',\r\n  },\r\n  dataContainer: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxWidth: '250px',\r\n    },\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      maxWidth: '180px',\r\n    },\r\n    maxWidth: '600px',\r\n    marginBottom: '5px',\r\n  },\r\n  timerContainer: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      fontSize: '30px',\r\n    },\r\n    fontSize: '45px',\r\n    lineHeight: '40px',\r\n    textAlign: 'center',\r\n    color: '#ffffff',\r\n    border: '2px solid #e7b78f',\r\n    borderRadius: '50%',\r\n    width: '70px',\r\n    height: '70px',\r\n    padding: '10px',\r\n  },\r\n  score: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      fontSize: '30px',\r\n    },\r\n    fontSize: '45px',\r\n    lineHeight: '40px',\r\n    textAlign: 'center',\r\n    color: '#ffffff',\r\n    width: '70px',\r\n    height: '70px',\r\n    padding: '10px',\r\n  },\r\n  gameContainer: {},\r\n  game: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxWidth: '500px',\r\n    },\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      maxWidth: '400px',\r\n    },\r\n    height: '450px',\r\n    maxWidth: '600px',\r\n    background: 'rgb(80 80 80 / 65%)',\r\n    borderRadius: '40px',\r\n    padding: '10px',\r\n  },\r\n  trueMark: {\r\n    color: '#ffeb3b',\r\n    fontSize: '30px',\r\n  },\r\n  falseMark: {\r\n    color: '#ffffff',\r\n    fontSize: '30px',\r\n  },\r\n  wordsContainer: {\r\n    \"& button svg\": {\r\n      zIndex: 1,\r\n    },\r\n  },\r\n  enWord: {\r\n    fontWeight: 'bold',\r\n    fontSize: '40px',\r\n    lineHeight: '22px',\r\n    color: '#FFFFFF',\r\n  },\r\n  ruWord: {\r\n    fontSize: '30px',\r\n    lineHeight: '22px',\r\n    color: '#FFFFFF',\r\n    marginTop: '9px',\r\n  },\r\n  parrotsContainer: {\r\n    position: 'relative',\r\n  },\r\n  parrot: {\r\n    animation: `$bubble 0.3s linear`,\r\n  },\r\n  hidden: {\r\n    visibility: 'hidden',\r\n  },\r\n  branch: {\r\n    position: 'absolute',\r\n    top: '-2px',\r\n    transform: 'rotate(29deg)',\r\n    width: '270px',\r\n    height: '150px',\r\n  },\r\n  buttonsContainer: {\r\n    \"& button\": {\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        width: '120px',\r\n        height: '35px',\r\n      },\r\n    }\r\n  },\r\n  buttonFalse: {\r\n    backgroundColor: '#e79666',\r\n    flexDirection: 'row-reverse',\r\n    \"&:hover\": {\r\n      backgroundColor: '#efaf8a',\r\n    },\r\n  },\r\n  buttonTrue: {\r\n    backgroundColor: '#4cca78',\r\n    \"&:hover\": {\r\n      backgroundColor: '#60d488',\r\n    },\r\n  },\r\n  buttonIcon: {\r\n    display: 'flex',\r\n  },\r\n  audioButton: {\r\n    display: 'contents',\r\n    cursor: 'pointer',\r\n    \"& svg\": {\r\n      color: '#ffffff',\r\n    }\r\n  },\r\n  '@keyframes bubble': {\r\n    '0%': {\r\n      transform: 'scale(0.5)',\r\n    },\r\n    '30%': {\r\n      transform: 'scale(0.7)',\r\n    },\r\n    '70%': {\r\n      transform: 'scale(0.9)',\r\n    },\r\n    '100%': {\r\n      transform: 'scale(1)',\r\n    }\r\n  },\r\n  '@keyframes bubbleBack': {\r\n    '0%': {\r\n      transform: 'scale(1)',\r\n    },\r\n    '30%': {\r\n      transform: 'scale(0.9)',\r\n    },\r\n    '70%': {\r\n      transform: 'scale(0.7)',\r\n    },\r\n    '85%': {\r\n      transform: 'scale(0.5)',\r\n    },\r\n    '100%': {\r\n      transform: 'scale(0.2)',\r\n    }\r\n  },\r\n  }),\r\n);\r\n\r\nexport default Sprint;\r\n\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React, {useEffect} from 'react';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\n\r\nconst MAX_LIVES_COUNT = 5;\r\n\r\nconst Lives = (props) => {\r\n    const { livesCount, gameOver} = props;\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n        if (livesCount <= 0) {\r\n            gameOver();\r\n        }\r\n    }, [gameOver, livesCount]);\r\n\r\n    return (\r\n        <Grid container justify=\"center\" alignItems=\"center\" className={classes.container}>\r\n            {(new Array(livesCount).fill(1)).map((item, index) => {\r\n               return <FavoriteIcon key={`active-${index}`}/>\r\n            })}\r\n            {(new Array(MAX_LIVES_COUNT - livesCount).fill(1)).map((item, index) => {\r\n               return <FavoriteBorderIcon key={`inactive-${index}`}/>\r\n            })}\r\n        </Grid>\r\n    );\r\n};\r\nconst useStyles = makeStyles({\r\n    container: {\r\n        width: '135px',\r\n        \"& svg\": {\r\n            color: '#e45731',\r\n        }\r\n    },\r\n});\r\nexport default Lives;\r\n","import React, {useState, useCallback, useEffect, useMemo} from 'react';\r\nimport {getRandomNumber,shuffle} from '../../../helpers/gameUtils';\r\nimport {Grid} from \"@material-ui/core\";\r\nimport classNames from \"classnames\";\r\nimport { SETTINGS } from \"../../../settings/settings\";\r\nimport Lives from \"../common/Lives\";\r\nimport SoundButton from \"../common/SoundButton\";\r\nimport correctSound from \"../../../assets/audio/correct.mp3\";\r\nimport errorSound from \"../../../assets/audio/error.mp3\";\r\nimport FullScreenButton from \"../common/FullScreenButton\";\r\nimport classesCss from \"./AudioCallGame.module.scss\";\r\n\r\n\r\nconst NUMBER_OF_WORDS = 20;\r\n\r\nexport default function AudioCall(props) {\r\n\r\n  const {words, onLoading, onWordSelect, onGameEnd} = props;\r\n  const [answer, setAnswer] = useState('');\r\n  const [arrOfWords, setArrOfWords] = useState([]);\r\n  const [btnClicked, setBtnClicked] = useState(false);\r\n  const [livesCount, setLivesCount] = useState(5);\r\n\r\n  const [soundOn, setSoundOn] = useState(false);\r\n  const [word, setWord] = useState('');\r\n  const [wordAudio, setWordAudio] = useState('');\r\n  const [wordTranslation, setWordTranslation] = useState('');\r\n  const [wordCounter, setWordCounter] = useState(0);\r\n  const [currentSeries, setCurrentSeries] = useState(0);\r\n    const audioPlayer = new Audio();\r\n    audioPlayer.volume = 0.1;\r\n\r\n    const classes = {};\r\n\r\n    const currentChunk = useMemo(() => {\r\n      if (words?.length > 0) {\r\n        return [...words]\r\n      }\r\n      return null\r\n    }, [words]);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n      if (currentChunk !== null && currentChunk.length && livesCount && wordCounter < NUMBER_OF_WORDS) {\r\n          const f1 = (wordCounter) => {\r\n              const newWordTranslation = currentChunk[wordCounter].wordTranslate;\r\n              setWord(currentChunk[wordCounter].word);\r\n              const previousWordAudioURL = wordAudio;\r\n              setWordAudio(currentChunk[wordCounter].audio);\r\n              setWordTranslation(newWordTranslation);\r\n              setArrOfWords(setWordsTranslation(currentChunk, newWordTranslation));\r\n                              if (previousWordAudioURL !== currentChunk[wordCounter].audio && currentChunk[wordCounter].audio) {\r\n                  playAudio(`${SETTINGS.SERVER}/${currentChunk[wordCounter].audio}`);\r\n          };\r\n        }\r\n         f1(wordCounter);\r\n      }\r\n\r\n      if (wordCounter === NUMBER_OF_WORDS) {\r\n        onGameEnd();\r\n      }\r\n  }, [livesCount, wordCounter, currentChunk]);\r\n\r\n  function playAudio(url) {\r\n      audioPlayer.src = url;\r\n      audioPlayer.load();\r\n      audioPlayer.play();\r\n\r\n  }\r\n\r\n    // const updateStats = useCallback((isCorrect) => {\r\n    //     setStatisticsArr([...statisticsArr, {\r\n    //         'word': word,\r\n    //         'id': wordID,\r\n    //         'audio': wordAudio,\r\n    //         'transcription': wordTranscription,\r\n    //         'translation': wordTranslation,\r\n    //         'isCorrect': isCorrect,\r\n    //     }]);\r\n    // }, [word, wordID, wordAudio, wordTranscription, wordTranslation, statisticsArr]);\r\n\r\n    useEffect(() => {\r\n      const timer = setTimeout(() => {\r\n          if (livesCount && currentChunk && currentChunk.length && !btnClicked) {\r\n              setLivesCount(livesCount - 1);\r\n              playSound(false, soundOn);\r\n              setWordCounter(wordCounter + 1);\r\n\r\n              onWordSelect(currentChunk[wordCounter], {failed: true});\r\n          }\r\n      }, 6000);\r\n        console.log(currentChunk)\r\n      return () => {\r\n          clearTimeout(timer);\r\n      };\r\n  }, [onWordSelect, currentChunk, livesCount, btnClicked, soundOn, wordCounter]);\r\n\r\n    const handleChangeSound = useCallback(() => {\r\n        setSoundOn(!soundOn);\r\n    },[soundOn]);\r\n\r\n    const checkAnswer = useCallback((wordActive, answerActive) => {\r\n      let correct = wordActive === answerActive;\r\n      setAnswer(correct);\r\n      setWordCounter(wordCounter + 1);\r\n\r\n      if (correct) {\r\n        // setSnakeSize(snakeSize + 0.02);\r\n        setCurrentSeries(currentSeries + 1);\r\n        //currentChunk[wordCounter] = {...currentChunk[wordCounter], status:\"succeed\"}\r\n        onWordSelect(currentChunk[wordCounter], {succeed: true});\r\n        playSound(true, soundOn);\r\n      } else {\r\n        setLivesCount(livesCount - 1);\r\n        playSound(false, soundOn);\r\n        //currentChunk[wordCounter] = {...currentChunk[wordCounter], status:\"succeed\"}\r\n        onWordSelect(currentChunk[wordCounter], {failed: true});\r\n\r\n      }\r\n  }, [currentChunk, onWordSelect, word, livesCount, currentSeries, wordCounter, soundOn]);\r\n\r\n    const handleWordClick = useCallback((itemWord) => () => {\r\n        setBtnClicked(true);\r\n        setWord(\"\");\r\n        setTimeout(() => {\r\n            setBtnClicked(false);\r\n            checkAnswer(itemWord, wordTranslation);\r\n            setTimeout(() => {\r\n                setAnswer(false);\r\n                setBtnClicked(false);\r\n            }, 500);\r\n        }, 350);\r\n    },[checkAnswer, wordTranslation]);\r\n\r\n    return (\r\n        <div className={classesCss.AudioCall}>\r\n          {onLoading ? <Grid container justify=\"center\" alignItems=\"center\">ЗАГРУЗКА</Grid> : (\r\n            <Grid className={classesCss.containerGames}>\r\n                {/* {isGameOver && (\r\n                    <Statistics\r\n                        statisticsArr={statisticsArr}\r\n                        rightAnswers={currentGameStatistics.rightAnswers}\r\n                        wrongAnswers={currentGameStatistics.wrongAnswers}\r\n                    />)} */}\r\n\r\n                <Grid container justify=\"space-between\" alignItems=\"center\">\r\n                    <Grid item container justify=\"center\" className={classesCss.gameIcons}>\r\n                    <Lives livesCount={livesCount} gameOver={() => onGameEnd(wordCounter - 1)}/>\r\n                      <SoundButton onClick={handleChangeSound} isEnabled={soundOn}/>\r\n                      <FullScreenButton/>\r\n                    </Grid>\r\n                </Grid>)\r\n\r\n                <Grid container\r\n                      direction=\"column\"\r\n                      justify=\"space-between\"\r\n                      alignItems=\"center\"\r\n                      className={classesCss.gameContainer}>\r\n\r\n\r\n                        <h3 onClick ={()  => {\r\n                          playAudio(`${SETTINGS.SERVER}/${currentChunk[wordCounter].audio}`)\r\n                          // console.log(wordAudio)\r\n                        }\r\n                        } className={classesCss.wordAudio}>campaign</h3>\r\n\r\n                    <Grid container justify=\"space-evenly\" alignItems=\"center\" className={classesCss.listWords}>\r\n                        {\r\n                            arrOfWords.map((itemWord) => (\r\n                                <button\r\n                                    key={itemWord}\r\n                                    onClick={handleWordClick(itemWord)}\r\n                                    className={classNames({\r\n                                        [classesCss.wordButton]: true,\r\n                                        [classesCss.bubble]: true,\r\n                                        [classesCss.wordButtonRight]: btnClicked && itemWord === wordTranslation,\r\n                                    })}\r\n                                >\r\n                                    {itemWord}\r\n                                </button>\r\n                            ))\r\n                        }\r\n                    </Grid>\r\n\r\n                </Grid>)\r\n        </Grid>)}\r\n            <audio id=\"correctSound\" src={correctSound}/>\r\n            <audio id=\"errorSound\" src={errorSound}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst setWordsTranslation = (words, newWordTranslation) => {\r\n    const arrOfTranslations = [];\r\n    arrOfTranslations.push(newWordTranslation);\r\n\r\n    while (arrOfTranslations.length < 4) {\r\n        const translation = words[getRandomNumber(0, words.length - 1)].wordTranslate;\r\n        if (!arrOfTranslations.includes(translation)) {\r\n            arrOfTranslations.push(translation);\r\n        }\r\n    }\r\n    return shuffle(arrOfTranslations);\r\n};\r\n\r\nconst playSound = (isCorrect, soundOn) => {\r\n    const correctSound = document.querySelector(\"#correctSound\");\r\n    const errorSound = document.querySelector(\"#errorSound\");\r\n    if (soundOn) {\r\n        isCorrect ? correctSound.play() : errorSound.play();\r\n    }\r\n};\r\n","export default __webpack_public_path__ + \"static/media/snake.313dd7c8.svg\";","export default __webpack_public_path__ + \"static/media/2.43a3b8b5.jpg\";","import React, {useState, useCallback, useEffect, useMemo} from 'react';\r\nimport {getRandomNumber, shuffle} from '../../../helpers/gameUtils';\r\nimport {createStyles, Grid, makeStyles} from \"@material-ui/core\";\r\nimport snake from \"../../../assets/images/snake.svg\"\r\nimport classNames from \"classnames\";\r\nimport background from \"../../../assets/images/2.jpg\";\r\nimport Lives from \"../common/Lives\";\r\nimport SoundButton from \"../common/SoundButton\";\r\nimport correctSound from \"../../../assets/audio/correct.mp3\";\r\nimport errorSound from \"../../../assets/audio/error.mp3\";\r\nimport FullScreenButton from \"../common/FullScreenButton\";\r\n\r\nconst NUMBER_OF_WORDS = 20;\r\n\r\nconst Savannah = (props) => {\r\n    const {words, onLoading, onWordSelect, onGameEnd} = props;\r\n    const [answer, setAnswer] = useState('');\r\n    const [arrOfWords, setArrOfWords] = useState([]);\r\n    const [btnClicked, setBtnClicked] = useState(false);\r\n    const [livesCount, setLivesCount] = useState(5);\r\n\r\n    const [soundOn, setSoundOn] = useState(false);\r\n    const [word, setWord] = useState('');\r\n    const [wordTranslation, setWordTranslation] = useState('');\r\n    const [wordCounter, setWordCounter] = useState(0);\r\n    const [snakeSize, setSnakeSize] = useState(0.6);\r\n    const [currentSeries, setCurrentSeries] = useState(0);\r\n\r\n    const classes = useStyles({snakeSize});\r\n\r\n  const currentChunk = useMemo(() => {\r\n    if (words?.length > 0) {\r\n      return [...words]\r\n    }\r\n    return null\r\n  }, [words]);\r\n\r\n    useEffect(() => {\r\n        if (currentChunk !== null && currentChunk.length && livesCount && wordCounter < NUMBER_OF_WORDS) {\r\n            const f1 = (wordCounter) => {\r\n                const newWordTranslation = currentChunk[wordCounter].wordTranslate;\r\n                setWord(currentChunk[wordCounter].word);\r\n                setWordTranslation(newWordTranslation);\r\n                setArrOfWords(setWordsTranslation(currentChunk, newWordTranslation));\r\n            };\r\n\r\n           f1(wordCounter);\r\n        }\r\n\r\n        if (wordCounter === NUMBER_OF_WORDS) {\r\n          onGameEnd();\r\n        }\r\n    }, [livesCount, wordCounter, currentChunk]);\r\n\r\n\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            if (livesCount && currentChunk && currentChunk.length && !btnClicked) {\r\n                setLivesCount(livesCount - 1);\r\n                playSound(false, soundOn);\r\n                setWordCounter(wordCounter + 1);\r\n              onWordSelect(currentChunk[wordCounter], {failed: true});\r\n            }\r\n        }, 6800);\r\n\r\n        return () => {\r\n            clearTimeout(timer);\r\n        };\r\n    }, [onWordSelect, currentChunk, livesCount, btnClicked, soundOn, wordCounter]);\r\n\r\n    const handleChangeSound = useCallback(() => {\r\n        setSoundOn(!soundOn);\r\n    },[soundOn]);\r\n\r\n    const checkAnswer = useCallback((wordActive, answerActive) => {\r\n        let correct = wordActive === answerActive;\r\n        setAnswer(correct);\r\n        setWordCounter(wordCounter + 1);\r\n\r\n        if (correct) {\r\n          setSnakeSize(snakeSize + 0.02);\r\n          setCurrentSeries(currentSeries + 1);\r\n          onWordSelect(currentChunk[wordCounter], {succeed: true});\r\n          playSound(true, soundOn);\r\n        } else {\r\n          setLivesCount(livesCount - 1);\r\n          playSound(false, soundOn);\r\n          onWordSelect(currentChunk[wordCounter], {failed: true});\r\n        }\r\n    }, [currentChunk, onWordSelect, word, livesCount, currentSeries, wordCounter, soundOn, snakeSize]);\r\n\r\n    const handleWordClick = useCallback((itemWord) => () => {\r\n        setBtnClicked(true);\r\n        setWord(\"\");\r\n        setTimeout(() => {\r\n            setBtnClicked(false);\r\n            checkAnswer(itemWord, wordTranslation);\r\n            setTimeout(() => {\r\n                setAnswer(false);\r\n                setBtnClicked(false);\r\n            }, 500);\r\n        }, 350);\r\n    },[checkAnswer, wordTranslation]);\r\n\r\n    return (\r\n        <>\r\n          {onLoading ? <Grid container justify=\"center\" alignItems=\"center\">ЗАГРУЗКА</Grid> : (\r\n            <Grid className={classes.container}>\r\n\r\n                <Grid container justify=\"space-between\" alignItems=\"center\">\r\n                    <Grid item container justify=\"center\" className={classes.gameIcons}>\r\n                      <Lives livesCount={livesCount} gameOver={() => onGameEnd(wordCounter - 1)}/>\r\n                      <SoundButton onClick={handleChangeSound} isEnabled={soundOn}/>\r\n                      <FullScreenButton/>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                <Grid container\r\n                      direction=\"column\"\r\n                      justify=\"space-between\"\r\n                      alignItems=\"center\"\r\n                      className={classes.gameContainer}>\r\n\r\n                    <div\r\n                        className={classNames({\r\n                            [classes.wrapperFalling]: true,\r\n                            [classes.animation]: !btnClicked,\r\n                            [classes.noAnimation]: btnClicked,\r\n                        })}\r\n                    >\r\n                        <h3 className={classes.fallingWord} >\r\n                            {word}\r\n                        </h3>\r\n                    </div>\r\n                    <Grid container justify=\"space-evenly\" alignItems=\"center\" className={classes.listWords}>\r\n                        {\r\n                            arrOfWords.map((itemWord) => (\r\n                                <button\r\n                                    key={itemWord}\r\n                                    onClick={handleWordClick(itemWord)}\r\n                                    className={classNames({\r\n                                        [classes.wordButton]: true,\r\n                                        [classes.bubble]: true,\r\n                                        [classes.wordButtonRight]: btnClicked && itemWord === wordTranslation,\r\n                                    })}\r\n                                >\r\n                                    {itemWord}\r\n                                </button>\r\n                            ))\r\n                        }\r\n                    </Grid>\r\n\r\n                    <img\r\n                        className={classNames({\r\n                            [classes.snake]: true,\r\n                            [classes.snakeCorrectAnswer]: answer,\r\n                        })}\r\n                        src={snake}\r\n                        alt=\"snake\"\r\n                    />\r\n                </Grid>\r\n        </Grid>)}\r\n            <audio id=\"correctSound\" src={correctSound}/>\r\n            <audio id=\"errorSound\" src={errorSound}/>\r\n        </>\r\n    );\r\n};\r\n\r\nconst setWordsTranslation = (words, newWordTranslation) => {\r\n    const arrOfTranslations = [];\r\n    arrOfTranslations.push(newWordTranslation);\r\n\r\n    while (arrOfTranslations.length < 4) {\r\n        const translation = words[getRandomNumber(0, words.length - 1)].wordTranslate;\r\n        if (!arrOfTranslations.includes(translation)) {\r\n            arrOfTranslations.push(translation);\r\n        }\r\n    }\r\n    return shuffle(arrOfTranslations);\r\n};\r\n\r\nconst playSound = (isCorrect, soundOn) => {\r\n    const correctSound = document.querySelector(\"#correctSound\");\r\n    const errorSound = document.querySelector(\"#errorSound\");\r\n    if (soundOn) {\r\n        isCorrect ? correctSound.play() : errorSound.play();\r\n    }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n        height: '100vh',\r\n        position: 'relative',\r\n        background: `linear-gradient(#399a7233, #8dada730),url(${background})`,\r\n        backgroundSize: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        width: '100vw',\r\n    },\r\n    snake: ({ snakeSize }) => ({\r\n        width: '64px',\r\n        transform: `scale(${snakeSize})`\r\n    }),\r\n    gameIcons: {\r\n      position: 'absolute',\r\n      top: '15px',\r\n    },\r\n    gameContainer: {\r\n        height: 'calc(100vh - 30px)',\r\n    },\r\n    fallingWord: {\r\n        fontSize: '35px',\r\n        textAlign: 'center',\r\n    },\r\n    wrapperFalling: {\r\n        position: 'absolute',\r\n    },\r\n    animation: {\r\n        animation: `$falling 7s infinite`,\r\n    },\r\n    noAnimation: {\r\n     animation: 'unset',\r\n    },\r\n    listWords: {\r\n        position: 'relative',\r\n        top: '50%',\r\n    },\r\n    wordButton: {\r\n        [theme.breakpoints.down(\"xs\")]: {\r\n          height: '90px',\r\n          width: '90px',\r\n        },\r\n        position: 'relative',\r\n        display: 'inline-block',\r\n        height: '120px',\r\n        width: '120px',\r\n        wordBreak: 'break-word',\r\n        borderRadius: '50%',\r\n        outline: 'none',\r\n        cursor: 'pointer',\r\n        border: 0,\r\n        \"&:before\":{\r\n            content: `\"\"`,\r\n            position: 'absolute',\r\n            top: '1%',\r\n            left: '5%',\r\n            width: '90%',\r\n            height: '90%',\r\n            borderRadius: '100%',\r\n            filter: 'blur(5px)',\r\n            zIndex: 2,\r\n            background: 'radial-gradient(circle at top, white, rgba(255, 255, 255, 0) 58%)',\r\n        },\r\n        \"&:after\":{\r\n            content: `\"\"`,\r\n            position: 'absolute',\r\n            top: '5%',\r\n            left: '10%',\r\n            width: '80%',\r\n            height: '80%',\r\n            borderRadius: '100%',\r\n            filter: 'blur(1px)',\r\n            zIndex: 2,\r\n            transform: 'rotateZ(-30deg)',\r\n        },\r\n    },\r\n    wordButtonRight: {\r\n        animation: `$bubble 0.3s linear`,\r\n        background: 'radial-gradient(circle at bottom, #81e8f6, #76deef 10%, #055194 80%, #062745 100%)',\r\n    },\r\n    bubble: {\r\n        background: 'radial-gradient(circle at 50% 55%, rgba(240, 245, 255, 0.9), rgba(240, 245, 255, 0.9) 40%, rgba(225, 238, 255, 0.8) 60%, rgba(43, 130, 255, 0.4))',\r\n        \"&:before\":{\r\n            filter: 'blur(0)',\r\n            height: '80%',\r\n            width: '40%',\r\n            background: 'radial-gradient(circle at 130% 130%, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0) 46%, rgba(255, 255, 255, 0.8) 50%, rgba(255, 255, 255, 0.8) 58%, rgba(255, 255, 255, 0) 60%, rgba(255, 255, 255, 0) 100%)',\r\n            transform: 'translateX(131%) translateY(58%) rotateZ(168deg) rotateX(10deg)',\r\n        },\r\n        \"&:after\":{\r\n            display: 'block',\r\n            background: 'radial-gradient(circle at 50% 80%, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 74%, white 80%, white 84%, rgba(255, 255, 255, 0) 100%)',\r\n        },\r\n    },\r\n\r\n    snakeCorrectAnswer: {\r\n        animation: `$snakeCorrectAnimation 5s infinite, $shake 2.5s linear infinite`,\r\n    },\r\n    '@keyframes shake': {\r\n        '0%': { transform: 'translate(1px, 1px) rotate(0deg)', },\r\n        '10%': { transform: 'translate(-1px, -2px) rotate(-1deg)', },\r\n        '30%': { transform: 'translate(3px, 2px) rotate(0deg)', },\r\n        '50%': { transform: 'translate(-1px, 2px) rotate(-1deg)', },\r\n        '70%': { transform: 'translate(3px, 1px) rotate(-1deg)', },\r\n        '90%': { transform: 'translate(1px, 2px) rotate(0deg)', },\r\n    },\r\n    '@keyframes falling': {\r\n        '0%': {\r\n            top: '10%',\r\n            opacity: 0.9,\r\n        },\r\n        '100%': {\r\n            top: '60%',\r\n            opacity: 0.1,\r\n        },\r\n    },\r\n    '@keyframes snakeCorrectAnimation': {\r\n        \"20%\": {\r\n            filter: 'hue-rotate(70deg)',\r\n        }\r\n    },\r\n    '@keyframes bubble': {\r\n        '0%': {\r\n            transform: 'scale(1)',\r\n        },\r\n\r\n        '30%': {\r\n            transform: 'scale(0.7)',\r\n        },\r\n        '50%': {\r\n            transform: 'scale(0.6)',\r\n        },\r\n        '70%': {\r\n            transform: 'scale(0.7)',\r\n        },\r\n\r\n        '100%': {\r\n            transform: 'scale(1)',\r\n        }\r\n    }\r\n  }),\r\n);\r\n\r\nexport default Savannah;\r\n\r\n","import {RESET_GAME_STATISTICS} from \"./action-types\";\r\n\r\nexport const setGameStatistics = (type, gameStatistics) => ({\r\n  type,\r\n  gameStatistics,\r\n});\r\n\r\nexport const getGameStatistics = (type, gameStatistics) => ({\r\n  type,\r\n  gameStatistics,\r\n});\r\n\r\nexport const resetGameStatistics = () => ({\r\n  type: RESET_GAME_STATISTICS,\r\n});","import {getGameStatistics, setGameStatistics} from \"./actions\";\r\nimport {GET_GAME_STATISTICS, SET_GAME_STATISTICS} from \"./action-types\";\r\nimport {getUserData} from \"../../helpers/gameUtils\";\r\n\r\nconst server = \"https://rss-words-3.herokuapp.com\";\r\n\r\nexport const addStatisticsThunk = (id, gameStatistics) => (dispatch) => {\r\n  const token =  getUserData()?.token;\r\n  dispatch(setGameStatistics(SET_GAME_STATISTICS.START));\r\n  fetch(`${server}/users/${id}/statistics`, {\r\n    method: \"PUT\",\r\n    withCredentials: true,\r\n    headers: {\r\n      'Authorization': `Bearer ${token}`,\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(gameStatistics),\r\n  })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      // add success\r\n      dispatch(setGameStatistics(SET_GAME_STATISTICS.FINISHED, res));\r\n    })\r\n    .catch(res => {\r\n      //add failing\r\n      dispatch(setGameStatistics(SET_GAME_STATISTICS.FAILED));\r\n    });\r\n};\r\n\r\nexport const getStatisticsThunk = (id) => (dispatch) => {\r\n  const token =  getUserData()?.token;\r\n  dispatch(getGameStatistics(GET_GAME_STATISTICS.START));\r\n  fetch(`${server}/users/${id}/statistics`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      'Authorization': `Bearer ${token}`,\r\n      'Accept': 'application/json',\r\n    }\r\n  })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      // add success\r\n      dispatch(getGameStatistics(GET_GAME_STATISTICS.FINISHED, res));\r\n    })\r\n    .catch(res => {\r\n      //add failing\r\n      dispatch(getGameStatistics(GET_GAME_STATISTICS.FAILED));\r\n    });\r\n};","import { createSelector } from 'reselect';\r\n\r\nexport const gameSelector = (state) => {\r\n    return state.gameWords;\r\n};\r\n\r\nexport const statisticsSelector = createSelector(\r\n  gameSelector,\r\n  ({ gameStatistics }) => {\r\n      return gameStatistics;\r\n  },\r\n);\r\n","import React from 'react';\r\nimport {createStyles, makeStyles} from \"@material-ui/core\";\r\nimport classesCss from \"./StatisticPage.module.scss\"\r\n\r\nconst StatisticsGameCard = (props) => {\r\n  const { learnedWords, rightAnswersPercent, bestSeries, gameTitle } = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <table className={classesCss.StatisticTable}>\r\n      <thead>\r\n      <tr>\r\n        <th className={classes.title}>{gameTitle}</th>\r\n      </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n      <tr className={classes.line}>\r\n        <td>Количество изученных слов:</td>\r\n        <td>{learnedWords}</td>\r\n      </tr>\r\n\r\n      <tr className={classes.line}>\r\n        <td>Процент правильных ответов:</td>\r\n        <td>{rightAnswersPercent}%</td>\r\n      </tr>\r\n\r\n      <tr className={classes.line}>\r\n        <td>Лучшая серия:</td>\r\n        <td>{bestSeries}</td>\r\n      </tr>\r\n      </tbody>\r\n\r\n    </table>\r\n  );\r\n};\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    title: {\r\n      color: '#e45731',\r\n      fontSize: '18px',\r\n      lineHeight: '30px',\r\n    },\r\n    line: {\r\n      lineHeight: '25px',\r\n      \"& td:last-child\": {\r\n        fontSize: '20px',\r\n        color: '#567df4',\r\n      }\r\n    },\r\n  }),\r\n);\r\nexport default StatisticsGameCard;\r\n","import React, { useMemo } from 'react';\r\nimport {Line} from 'react-chartjs-2';\r\nimport classesCss from \"./StatisticPage.module.scss\"\r\n\r\nconst options = { responsive: true, maintainAspectRatio: false };\r\n\r\nconst BarChart = (props) => {\r\n  const { data, label } = props;\r\n\r\n  const dataBar = useMemo(() => ({\r\n    labels: data?.map(({ t }) => (\r\n      t.toLocaleDateString({}, {\r\n        day: '2-digit', month: '2-digit', year: '2-digit',\r\n      }))),\r\n    datasets: [\r\n      {\r\n        label,\r\n        backgroundColor: '#567DF4',\r\n        borderColor: '#6979F8',\r\n        borderWidth: 1,\r\n        data,\r\n      },\r\n    ],\r\n  }), [data]);\r\n\r\n  return (\r\n    <div className={classesCss.Chart}>\r\n      {data?.length && (\r\n        <Line\r\n          data={dataBar}\r\n          options={options}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BarChart;\r\n","import React, { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core\";\r\nimport { getStatisticsThunk } from \"../../redux/games/thunk.statistics\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { statisticsSelector } from \"../../redux/games/selectors\";\r\nimport StatisticsGameCard from \"./StatisticsGameCard\";\r\nimport BarChart from \"./BarChart\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport { getUserData } from \"../../helpers/gameUtils\";\r\nimport { resetGameStatistics } from \"../../redux/games/actions\";\r\nimport classesCss from \"./StatisticPage.module.scss\"\r\nimport cx from \"classnames\"\r\n\r\nconst StatisticsPage = () => {\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const allStatistics = useSelector(statisticsSelector);\r\n\r\n  const statistics = useMemo(() => {\r\n    if (allStatistics.optional) {\r\n      return parseStatistics(allStatistics);\r\n    }\r\n  }, [allStatistics]);\r\n\r\n  const TOTAL = useMemo(() => {\r\n    const todayStatistics = statistics ? getByGameStatistics(statistics, true) : null;\r\n    return {\r\n      totalLearnedWords: todayStatistics?.totalLearnedWords || 0,\r\n      rightAnswersPercentToday: todayStatistics?.rightAnswersPercent || 0,\r\n    }\r\n  }, [statistics]);\r\n\r\n  const GAMES = useMemo(() => {\r\n    const defaults = {\r\n      bestSeries: 0,\r\n      rightAnswers: 0,\r\n      rightAnswersPercent: 0,\r\n      wordCounter: 0,\r\n    };\r\n    const allStatistics = getByGameStatistics(statistics, false);\r\n    const todayStatistics = getByGameStatistics(statistics, true);\r\n    const defaultGamesData = {\r\n      savannah: {key: \"savannah\", translation: \"Саванна\"},\r\n      audiocall: {key: \"audiocall\", translation: \"Аудиовызов\"},\r\n      puzzle: {key: \"puzzle\", translation: \"Пазл\"},\r\n      sprint: {key: \"sprint\", translation: \"Спринт\"},\r\n    };\r\n    if (statistics) {\r\n      Object.keys(defaultGamesData).forEach((key) => {\r\n        defaultGamesData[key] = {\r\n          ...defaultGamesData[key],\r\n          todayStatistics: todayStatistics[key] || defaults,\r\n          allStatistics: allStatistics[key] || defaults,\r\n        };\r\n      });\r\n    }\r\n    return defaultGamesData;\r\n  }, [statistics]);\r\n\r\n  const [value, setValue] = useState(GAMES.savannah.key);\r\n\r\n  const userId = useMemo(() => getUserData()?.id, []);\r\n\r\n  useEffect(() => {\r\n    dispatch(getStatisticsThunk(userId));\r\n    return () => {\r\n      dispatch(resetGameStatistics());\r\n    }\r\n  }, [dispatch, userId]);\r\n\r\n  const barData = useMemo(() => {\r\n    if (statistics) {\r\n      return longTermStat(statistics);\r\n    }\r\n  }, [statistics]);\r\n\r\n  const barDataDelta = useMemo(() => {\r\n    if (statistics) {\r\n      return longTermDeltaStat(statistics);\r\n    }\r\n  }, [statistics]);\r\n\r\n  const handleChange = useCallback((event) => {\r\n    setValue(event.target.value);\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classesCss.StatisticPage}>\r\n      <h2 className={classesCss.Title}>Статистика</h2>\r\n\r\n      <div className={classesCss.DayStatistic}>\r\n        <div className={classesCss.GamesStatistic}>\r\n          <div className={classesCss.ToggleBlock}>\r\n            <RadioGroup value={value} onChange={handleChange}>\r\n              <FormControlLabel value=\"end\"\r\n                                control={<Radio value={GAMES.savannah.key}\r\n                                                classes={{root: classes.root, checked: classes.checked}}/>}\r\n                                label=\"Саванна\"/>\r\n              <FormControlLabel value=\"end\"\r\n                                control={<Radio value={GAMES.audiocall.key}\r\n                                                classes={{root: classes.root, checked: classes.checked}}/>}\r\n                                label=\"Аудиовызов\"/>\r\n              <FormControlLabel value=\"end\"\r\n                                control={<Radio value={GAMES.puzzle.key}\r\n                                                classes={{root: classes.root, checked: classes.checked}}/>}\r\n                                label=\"Пазл\"/>\r\n              <FormControlLabel value=\"end\"\r\n                                control={<Radio value={GAMES.sprint.key}\r\n                                                classes={{root: classes.root, checked: classes.checked}}/>}\r\n                                label=\"Спринт\"/>\r\n            </RadioGroup>\r\n          </div>\r\n          <div className={classesCss.Statistic}>\r\n            {Object.keys(GAMES || {}).map((key) => {\r\n              const gameStatistics = GAMES[key];\r\n              return key === value ? (\r\n                <StatisticsGameCard\r\n                  key={key}\r\n                  gameTitle={gameStatistics.name}\r\n                  learnedWords={gameStatistics.todayStatistics.wordCounter}\r\n                  rightAnswersPercent={gameStatistics.todayStatistics.rightAnswersPercent}\r\n                  bestSeries={gameStatistics.todayStatistics.bestSeries}\r\n                />\r\n              ) : null;\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        <div className={cx(classesCss.StatisticStrings)}>\r\n          <div>\r\n            <span>Общее количество изученных слов за день: </span>\r\n            <span className={classesCss.Value}>{TOTAL?.totalLearnedWords}</span>\r\n          </div>\r\n          <div>\r\n            <span>Процент правильных ответов за день: </span>\r\n            <span className={classesCss.Value}>{TOTAL?.rightAnswersPercentToday}%</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={classesCss.TotalStatistic}>\r\n\r\n        <div className={cx(classesCss.StatisticBlock, classesCss.Graphics)}>\r\n          <BarChart data={barData} label={'Количество изученных слов за каждый день'}/>\r\n          <BarChart data={barDataDelta} label={'Всего изучено слова'}/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst parseStatistics = (allStatistics) => {\r\n  return Object.keys(allStatistics.optional).reduce((res, key) => {\r\n    res.optional[key] = JSON.parse(allStatistics.optional[key]);\r\n    return res;\r\n  }, {...allStatistics});\r\n};\r\n\r\nconst isTodayDate = (date) => {\r\n  const today = new Date();\r\n  today.setHours(0, 0, 0, 0);\r\n  date.setHours(0, 0, 0, 0);\r\n  return today.toString() === date.toString();\r\n};\r\n\r\nconst getGameStatistics = (entries, singleDay = false) => {\r\n  const gameTotalStatistics = entries.reduce((gameResult, entry) => {\r\n    const createdOn = new Date(entry.createdOn);\r\n\r\n    if ((singleDay && isTodayDate(createdOn)) || !singleDay) {\r\n      gameResult.wordCounter = gameResult.wordCounter + entry.wordCounter;\r\n      gameResult.rightAnswers = gameResult.rightAnswers + entry.rightAnswers;\r\n      gameResult.wrongAnswers = gameResult.wrongAnswers + entry.wrongAnswers;\r\n      if (gameResult.bestSeries < entry.bestSeries) {\r\n        gameResult.bestSeries = entry.bestSeries;\r\n      }\r\n    }\r\n\r\n    return gameResult;\r\n  }, {wordCounter: 0, rightAnswers: 0, wrongAnswers: 0, bestSeries: 0});\r\n\r\n  gameTotalStatistics.rightAnswersPercent =\r\n    Math.round(gameTotalStatistics.rightAnswers ? (gameTotalStatistics.rightAnswers * 100 / (gameTotalStatistics.rightAnswers + gameTotalStatistics.wrongAnswers)) : 0);\r\n  return gameTotalStatistics;\r\n};\r\n\r\nconst getTotalStatistics = (byGameStatistics) => {\r\n  const totalStatistics = Object.keys(byGameStatistics).reduce((res, key) => {\r\n    const gameStatistics = byGameStatistics[key];\r\n    res.totalLearnedWords = res.totalLearnedWords + gameStatistics.wordCounter;\r\n    res.rightAnswers = res.rightAnswers + gameStatistics.rightAnswers;\r\n    res.wrongAnswers = res.wrongAnswers + gameStatistics.wrongAnswers;\r\n    return res;\r\n  }, {totalLearnedWords: 0, wrongAnswers: 0, rightAnswers: 0});\r\n\r\n  totalStatistics.rightAnswersPercent =\r\n    Math.round(totalStatistics.rightAnswers * 100 / (totalStatistics.wrongAnswers + totalStatistics.rightAnswers));\r\n\r\n  return totalStatistics;\r\n};\r\n\r\nconst getByGameStatistics = (statistics, singleDay = false) => {\r\n  const byGameStatistics = Object.keys(statistics.optional).reduce((res, key) => {\r\n    // array of finished games for certain game type eg savannah.\r\n    const gameStatisticsEntries = statistics.optional[key];\r\n    res[key] = getGameStatistics(gameStatisticsEntries, singleDay);\r\n    return res;\r\n  }, {});\r\n\r\n  const totalStatistics = getTotalStatistics(byGameStatistics);\r\n\r\n  return {...byGameStatistics, ...totalStatistics};\r\n};\r\n\r\nconst getLongTermStatObj = (statistics) => {\r\n  return Object.keys(statistics.optional).reduce((res, key) => {\r\n    // array of finished games for certain game type eg savannah.\r\n    const gameStatisticsEntries = statistics.optional[key];\r\n    gameStatisticsEntries.forEach((entry) => {\r\n      const createdOn = new Date(entry.createdOn);\r\n      createdOn.setHours(0, 0, 0, 0);\r\n      const key = createdOn.getTime();\r\n      //если такой ключ в об есть\r\n      if (res[key]) {\r\n        res[key] = res[key] + entry.wordCounter;\r\n      } else {\r\n        res[key] = entry.wordCounter;\r\n      }\r\n    });\r\n    return res;\r\n  }, {});\r\n};\r\n\r\nconst longTermStat = (statistics) => {\r\n  const longTermStatObj = getLongTermStatObj(statistics);\r\n  return Object.keys(longTermStatObj).map((key) => ({t: new Date(+key), y: longTermStatObj[key]}));\r\n};\r\n\r\nconst longTermDeltaStat = (statistics) => {\r\n  const longTermStatObj = getLongTermStatObj(statistics);\r\n  const keys = Object.keys(longTermStatObj);\r\n  const deltaValuesArr = Object.values(longTermStatObj).reduce((res, item, index) => {\r\n    if (index === 0) {\r\n      res.push(Object.values(longTermStatObj)[0]);\r\n    } else {\r\n      res.push(res[index - 1] + item);\r\n    }\r\n    return res;\r\n  }, []);\r\n  return deltaValuesArr.map((item, index) => ({t: new Date(+keys[index]), y: item}));\r\n};\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    dayStatistics: {\r\n      color: \"#ffffff\",\r\n      marginBottom: \"25px\",\r\n      \"& span\": {\r\n        fontSize: \"20px\",\r\n        color: \"#567df4\",\r\n      },\r\n    },\r\n    graphics: {\r\n      lineHeight: \"35px\",\r\n    },\r\n    root: {\r\n      color: \"#f38c71\",\r\n      \"&$checked\": {\r\n        color: \"#e45731\",\r\n      },\r\n    },\r\n  }),\r\n);\r\n\r\nexport default StatisticsPage;\r\n","import React from \"react\"\r\nimport classesCss from \"../PuzzleGame.module.scss\"\r\nimport cx from \"classnames\"\r\n\r\nexport default function PuzzleCell({word: {text, visible}, hovered}){\r\n\r\n  const style = {}\r\n  if (!visible) style.width = `${text.length * 20}px`\r\n\r\n  const classes = cx(\r\n    {\r\n      [classesCss.Hovered]: hovered,\r\n      [classesCss.Selected]: visible,\r\n    },\r\n    classesCss.PuzzlePiece,\r\n    classesCss.PuzzleCell)\r\n\r\n  return (\r\n      <div\r\n        style={style}\r\n        className={classes}\r\n      >\r\n        {visible ? text : null}\r\n      </div>\r\n  )\r\n}","import React from \"react\"\r\nimport classesCss from '../PuzzleGame.module.scss'\r\n\r\nexport default function Symbol({symbol}){\r\n\treturn(\r\n\t\t<div className={classesCss.Symbol}><span>{symbol} </span></div>\r\n\t)\r\n}","import React, {useState} from \"react\"\r\nimport classesCss from '../PuzzleGame.module.scss'\r\nimport {motion} from \"framer-motion\"\r\nimport cx from \"classnames\"\r\n\r\nexport default function PuzzleCard({word, index, onClickWordSelect, onDragWordSelect, onDrag}){\r\n\r\n\tconst [onDragFlag, setOnDragFlag] = useState(false)\r\n\r\n\treturn (\r\n\t\t<motion.div\r\n\t\t\tdrag\r\n\t\t\tdragConstraints={{\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tleft: 0,\r\n\t\t\t\tright: 0,\r\n\t\t\t\tbottom: 0,\r\n\t\t\t}}\r\n\t\t\tdragElastic={1}\r\n\t\t\tonClick={() => {\r\n\t\t\t\tif(!onDragFlag){\r\n\t\t\t\t\tonClickWordSelect(index)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetOnDragFlag(false)\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tonDrag={onDrag}\r\n\t\t\tonDragStart={() => setOnDragFlag(true)}\r\n\t\t\tonDragEnd={() => onDragWordSelect(index)}\r\n\t\t\tclassName={cx(classesCss.PuzzlePiece, classesCss.PuzzleCard)}\r\n\t\t>\r\n\t\t\t{word.text}\r\n\t\t</motion.div>\r\n\t)\r\n}","import { useEffect, useState } from \"react\"\r\n\r\n\r\nexport function useTimer(generateFn, checkInterval = 50, condition = true, dependencies = []){\r\n  useEffect(() => {\r\n    if (condition) {\r\n      const generatorTimer = setInterval(() => {\r\n        generateFn()\r\n      }, checkInterval)\r\n      return (() => clearInterval(generatorTimer))\r\n    }\r\n  }, [...dependencies, generateFn])\r\n}\r\n\r\n\r\nconst defaultFnList = {\r\n  onGenerate(){\r\n  },\r\n  onWillGenerate(){\r\n  },\r\n  onTic(){\r\n  },\r\n  onPause(){\r\n  },\r\n  onPlay(){\r\n  },\r\n  onReset(){\r\n  },\r\n  onToggle(){\r\n  },\r\n  onSoftReset(){\r\n  }\r\n}\r\n\r\nexport const useTimerGenerator = (fnList, generationTime, ticTime, condition = true) => {\r\n  const fnListCopy = {...fnList}\r\n  for(let fn in fnListCopy)\r\n    if(fnListCopy.hasOwnProperty(fn) && typeof fnListCopy[fn] !== \"function\") delete fnListCopy[fn]\r\n  fnList = {...defaultFnList, ...fnListCopy}\r\n\r\n  const [timeToNextGen, setTimeToNextGen] = useState(generationTime)\r\n  const [walkCondition, setWalkCondition] = useState(true)\r\n\r\n  useTimer(() => {\r\n    let willFurtherGenerate = true\r\n    if(timeToNextGen <= 0 && condition){\r\n      willFurtherGenerate = fnList.onWillGenerate()\r\n    }\r\n    if (timeToNextGen <= 0 && condition && (willFurtherGenerate ?? true)) {\r\n      setTimeToNextGen(generationTime)\r\n      fnList.onGenerate()\r\n    } else {\r\n      setTimeToNextGen(timeToNextGen - ticTime)\r\n      fnList.onTic()\r\n    }\r\n  }, ticTime, condition && walkCondition, [timeToNextGen, condition, fnList])\r\n\r\n  return {\r\n    reset: () => {\r\n      if(timeToNextGen > 0){\r\n        setTimeToNextGen(0)\r\n        if(!walkCondition) setWalkCondition(true)\r\n        fnList.onReset()\r\n      }\r\n    },\r\n    softReset:()=>{\r\n      setTimeToNextGen(generationTime)\r\n      if(!walkCondition) setWalkCondition(true)\r\n      fnList.onSoftReset()\r\n    },\r\n    pause: () => {\r\n      if (walkCondition) {\r\n        setWalkCondition(false)\r\n        fnList.onPause()\r\n      }\r\n    },\r\n    play: () => {\r\n      if (!walkCondition) {\r\n        setWalkCondition(true)\r\n        fnList.onPlay()\r\n      }\r\n    },\r\n    toggle: () => {\r\n      setWalkCondition(!walkCondition)\r\n      fnList.onToggle()\r\n    },\r\n    getTimeToNextGen: () => {\r\n      return timeToNextGen\r\n    },\r\n  }\r\n}\r\n\r\n","import React, { useEffect, useRef, useState } from \"react\"\r\nimport classesCss from \"./PuzzleGame.module.scss\"\r\nimport PuzzleCell from \"./components/PuzzleCell\"\r\nimport Symbol from \"./components/Symbol\"\r\nimport PuzzleCard from \"./components/PuzzleCard\"\r\nimport { checkCollision, shuffle } from \"../../../helpers/gameUtils\"\r\nimport { useTimer } from \"../../../hooks/hooks.game\";\r\nimport {SETTINGS} from \"./settings\";\r\n\r\n\r\nconst {AUTOCOMPLETE_WORD_SELECT_DURATION, AUTOCOMPLETE_SUCCESS_DURATION} = SETTINGS\r\n\r\nexport default function PuzzleField({text, onSuccess, onWrongSelect, autoComplete}){\r\n  const [currentIntersectWord, setCurrentIntersectWord] = useState(null)\r\n  const [currentWord, setCurrentWord] = useState(0)\r\n\tconst [words, setWords] = useState({\r\n\t\tcards: [],\r\n\t\tcells: [],\r\n\t})\r\n\tconst cellsRef = useRef(null)\r\n\r\n\tfunction onSuccessSelect(index, correctWordIndex = currentWord){\r\n\t\tconst cards = [...words.cards]\r\n\t\tconst cells = [...words.cells]\r\n\t\tcells[correctWordIndex] = {...cells[correctWordIndex], visible: true}\r\n\t\tcards.splice(index, 1)\r\n    if(correctWordIndex === currentWord){\r\n      let nextInc = 1\r\n      while (words.cells[currentWord + nextInc]\r\n      && (words.cells[currentWord + nextInc].type === \"symbol\"\r\n        || words.cells[currentWord + nextInc].visible)) {\r\n        nextInc++\r\n      }\r\n      setCurrentWord(currentWord + nextInc)\r\n    }\r\n\t\tsetWords({cards, cells})\r\n\t}\r\n\r\n  function onClickWordSelect(index){\r\n    if (words.cells[currentWord].text === words.cards[index].text) onSuccessSelect(index)\r\n    else onWrongSelect()\r\n  }\r\n\r\n  function onDragWordSelect(index){\r\n    if (currentIntersectWord === currentWord) {\r\n      onClickWordSelect(index)\r\n    } else if(currentIntersectWord !== null){\r\n      if(!words.cells[currentIntersectWord].visible){\r\n        if(words.cells[currentIntersectWord].text === words.cards[index].text){\r\n          onSuccessSelect(index, currentIntersectWord)\r\n        } else {\r\n          onWrongSelect()\r\n        }\r\n      }\r\n      setCurrentIntersectWord(null)\r\n    }\r\n  }\r\n\r\n\tfunction onDragCheckIntersection(event){\r\n\t\tconst cardRect = event.target.getBoundingClientRect()\r\n\t\tconst crossedWord = words.cells.findIndex((cell, index) => {\r\n\t\t\t//we cant define children position one time in start, because this position depends on viewport,\r\n\t\t\t//so we have to calculate on the fly\r\n\t\t\tif(cell.type === \"symbol\") return false\r\n\t\t\tconst cellRect = cellsRef.current.children[index].getBoundingClientRect()\r\n\t\t\treturn checkCollision(cellRect, cardRect)\r\n\t\t})\r\n\t\tif (crossedWord + 1) {\r\n\t\t\tif (crossedWord !== currentIntersectWord)\r\n\t\t\t\tsetCurrentIntersectWord(crossedWord)\r\n\t\t} else if (currentIntersectWord !== null) {\r\n\t\t\tsetCurrentIntersectWord(null)\r\n\t\t}\r\n\t}\r\n\r\n  useTimer(() => {\r\n    const correctWordInCards = words.cards.findIndex(el => {\r\n      return el.text === words.cells[currentWord].text\r\n    })\r\n    onSuccessSelect(correctWordInCards)\r\n  }, AUTOCOMPLETE_WORD_SELECT_DURATION, autoComplete)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (words.cards.length <= 0 && currentWord > 0) {\r\n\t\t  if(autoComplete){\r\n\t\t    const timeout = setTimeout(() => {\r\n          onSuccess()\r\n        }, AUTOCOMPLETE_SUCCESS_DURATION)\r\n        return(() => clearTimeout(timeout))\r\n      } else {\r\n        onSuccess()\r\n      }\r\n\t\t}\r\n\t\t//TODO: fix this\r\n    //if add onSuccess function to deps it will work incorrect because onSuccess sets autocomplete flag so\r\n    //it call changes in props, when words.cards.length is still 0, so it call\r\n    //onSuccess function one more time\r\n\t}, [words.cards.length])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (text) {\r\n\t\t\tsetCurrentWord(0)\r\n\t\t\tconst textWOTags = text.replace(/<\\/?\\w+>/g, \"\")\r\n      const regExp = new RegExp([\r\n        '(',\r\n        '(?:the |a |in |to |on )*',\r\n        '(?:\\\\w-\\\\w|\\\\w|’)+(?: \\\\w\\\\.)?',')+',\r\n        '((?:\\\\.|; |, |\\\\+ |\" | - |: )+',\r\n        ')*'].join(''),'gi')\r\n\t\t\tconst textParts = [...textWOTags.matchAll(regExp)]\r\n\t\t\tconst cells = textParts.reduce((result, elem, index) => {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\ttext: elem[1],\r\n\t\t\t\t\tindex,\r\n\t\t\t\t})\r\n\t\t\t\tif (elem[2]) result.push({\r\n\t\t\t\t\ttype: \"symbol\",\r\n\t\t\t\t\ttext: elem[2],\r\n\t\t\t\t})\r\n\t\t\t\treturn result\r\n\t\t\t}, [])\r\n\t\t\tconst cards = cells.filter(el => el.type === \"text\")\r\n\t\t\tsetWords({\r\n\t\t\t\tcards: shuffle(cards),\r\n\t\t\t\tcells,\r\n\t\t\t})\r\n\t\t}\r\n\t}, [text])\r\n\r\n\treturn (\r\n\t\t<div className={classesCss.PuzzleField}>\r\n\t\t\t<div className={classesCss.PuzzlePieceWrap} ref={cellsRef}>\r\n\t\t\t\t{words.cells.map((word, index) => {\r\n\t\t\t\t\tif (word.type === \"text\") {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<PuzzleCell\r\n\t\t\t\t\t\t\t\tword={word}\r\n\t\t\t\t\t\t\t\thovered={index === currentIntersectWord}\r\n\t\t\t\t\t\t\t\tkey={\"cell\" + index + word.index}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Symbol\r\n\t\t\t\t\t\t\t\tsymbol={word.text}\r\n\t\t\t\t\t\t\t\tkey={\"symbol\" + word.text + index}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<div className={classesCss.PuzzlePieceWrap}>\r\n\t\t\t\t{words.cards.map((word, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<PuzzleCard\r\n\t\t\t\t\t\t\tword={word}\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tonClickWordSelect={onClickWordSelect}\r\n\t\t\t\t\t\t\tonDragWordSelect={onDragWordSelect}\r\n\t\t\t\t\t\t\tonDrag={onDragCheckIntersection}\r\n\t\t\t\t\t\t\tkey={\"card\" + word.text + index}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}","export const SETTINGS = {\r\n  TOTAL_LIVES: 3,\r\n  SECONDS_FOR_COMPLETE: 30,\r\n  AUTOCOMPLETE_WORD_SELECT_DURATION: 400,\r\n  AUTOCOMPLETE_SUCCESS_DURATION: 2000,\r\n  TIC: 1000\r\n}","import React, { useEffect, useMemo } from \"react\"\r\nimport { useTimerGenerator } from \"../../../hooks/hooks.game\";\r\n\r\nexport default function Timer(props){\r\n  const {\r\n    onGenerate,\r\n    onWillGenerate,\r\n    onCountdownFinish,\r\n    onTic,\r\n    cycle,\r\n    tic,\r\n    reset,\r\n    pause,\r\n    softReset,\r\n    className\r\n  } = props\r\n  const timer = useTimerGenerator(\r\n    {\r\n      onGenerate,\r\n      onTic,\r\n      onWillGenerate,\r\n      onReset: reset,\r\n      onPause: pause,\r\n      onSoftReset: softReset\r\n    }, cycle, tic)\r\n\r\n  const timeToNextGen = useMemo(() => {\r\n    return timer.getTimeToNextGen() >= 0 ? timer.getTimeToNextGen() / 1000 : 0\r\n  }, [timer])\r\n\r\n  useEffect(() => {\r\n    if(reset) timer.reset()\r\n    if(pause) timer.pause()\r\n    if(softReset) timer.softReset()\r\n  }, [timer, reset, pause, softReset])\r\n\r\n  useEffect(() => {\r\n    if (timeToNextGen === 0 && onCountdownFinish) {\r\n      onCountdownFinish()\r\n    }\r\n  }, [timeToNextGen, onCountdownFinish])\r\n\r\n\r\n  return (\r\n    <div className={className}>\r\n      {timeToNextGen}\r\n    </div>\r\n  )\r\n}","import classesCss from '../PuzzleGame.module.scss'\r\nimport cx from 'classnames'\r\n\r\nexport default function Lives({totalLives = 1, livesCount = 1}){\r\n\r\n  return(\r\n    <div className={classesCss.LivesWrapper}>\r\n      {\r\n        new Array(totalLives).fill(null).map((el, index) => {\r\n          const classes = cx(\r\n            classesCss.Life,\r\n            {[classesCss.Burnt]:index+1 > livesCount})\r\n\r\n          return(\r\n            <div\r\n              key={`life${index}`}\r\n              className={classes}\r\n            >\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport cx from \"classnames\"\r\nimport classesCss from '../PuzzleGame.module.scss'\r\n\r\nexport default function WordList({words = [], currentWordIndex}){\r\n  return(\r\n    <ul className={classesCss.WordList}>\r\n      {\r\n        words.map((word,index) => {\r\n          const classes = cx({\r\n            [classesCss.Succeed]: word.status === \"succeed\",\r\n            [classesCss.Failed]: word.status === \"failed\",\r\n            [classesCss.Current]: index === currentWordIndex\r\n          })\r\n          return(\r\n            <li\r\n              className={classes}\r\n              key={`word-list-word${index}`}\r\n            >\r\n              {word.word}\r\n            </li>\r\n          )\r\n        })\r\n      }\r\n    </ul>\r\n  )\r\n}","import React, { useEffect, useMemo, useState } from \"react\"\r\nimport {setFirstLetterToCapital} from \"../../../helpers/gameUtils\";\r\nimport PuzzleField from \"./PuzzleField\"\r\nimport Timer from \"../common/Timer\";\r\nimport Lives from \"./components/Lives\";\r\nimport WordList from \"./components/WordsList\";\r\nimport {SETTINGS} from \"./settings\";\r\nimport classesCss from \"./PuzzleGame.module.scss\"\r\n\r\nconst {TOTAL_LIVES, SECONDS_FOR_COMPLETE, TIC} = SETTINGS\r\n\r\nexport default function PuzzleGame({words, onLoading, onWordSelect, onGameEnd}){\r\n\r\n  const [currentWord, setCurrentWord] = useState(0)\r\n  const [lives, setLives] = useState(TOTAL_LIVES)\r\n  const [timerState, setTimerState] = useState({\r\n    shouldReset : false,\r\n    shouldPause: false,\r\n  })\r\n  const [autoComplete, setAutoComplete] = useState(false)\r\n\r\n  const currentChunk = useMemo(() => {\r\n    if (words?.length > 0) {\r\n      return [...words]\r\n    }\r\n    return null\r\n  }, [words])\r\n\r\n  function resetTimer(){\r\n    setTimerState(state => ({...state, shouldReset: false}))\r\n  }\r\n\r\n  function completeAssemblyHandler(){\r\n    if(currentWord + 1 <= currentChunk.length){\r\n      setTimerState(state => ({...state, shouldReset: true, shouldPause: false}))\r\n      if(autoComplete) {\r\n        setAutoComplete(false)\r\n        currentChunk[currentWord] = {...currentChunk[currentWord], status:\"failed\"}\r\n        onWordSelect(currentChunk[currentWord], {succeed: true})\r\n      } else {\r\n        currentChunk[currentWord] = {...currentChunk[currentWord], status:\"succeed\"}\r\n        onWordSelect(currentChunk[currentWord], {succeed: true})\r\n      }\r\n      setCurrentWord(current => current + 1)\r\n      if(lives < TOTAL_LIVES) setLives(TOTAL_LIVES)\r\n    }\r\n    if(currentWord + 1 === currentChunk.length) {\r\n      onGameEnd()\r\n    }\r\n  }\r\n\r\n  function wrongSelectHandler(){\r\n    if(lives > 0)setLives(state => state - 1)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(lives <= 0) {\r\n      setAutoComplete(true)\r\n      setTimerState(state => ({...state, shouldPause: true}))\r\n    }\r\n  }, [lives])\r\n\r\n\r\n  return (\r\n    <div className={classesCss.PuzzleGame}>\r\n      {\r\n        (() => {\r\n          if(onLoading){\r\n            return (<div>ЗАГРУЗКА</div>)\r\n          } else if(currentChunk && currentWord + 1 <= currentChunk.length){\r\n            return(\r\n              <div\r\n                className={classesCss.GameLayout}\r\n                key={currentChunk[currentWord].word}\r\n              >\r\n                <div className={classesCss.WordBlock}>\r\n                  <div className={classesCss.CurrentWord}>{setFirstLetterToCapital(currentChunk[currentWord].word)}</div>\r\n                  <div className={classesCss.Translation}>\r\n                    <span>{currentChunk[currentWord].textExampleTranslate}</span>\r\n                  </div>\r\n                  <PuzzleField\r\n                    text={currentChunk[currentWord].textExample}\r\n                    onSuccess={completeAssemblyHandler}\r\n                    onWrongSelect={wrongSelectHandler}\r\n                    autoComplete={autoComplete}\r\n                  />\r\n                </div>\r\n                <div className={classesCss.HelperBlock}>\r\n                  <Timer\r\n                    className={classesCss.Countdown}\r\n                    softReset={timerState.shouldReset? resetTimer : null}\r\n                    pause={timerState.shouldPause}\r\n                    onWillGenerate={() => {\r\n                      setAutoComplete(true)\r\n                      return false\r\n                    }}\r\n                    cycle={SECONDS_FOR_COMPLETE * 1000}\r\n                    tic={TIC}\r\n                  />\r\n                  <WordList\r\n                    words={currentChunk}\r\n                    currentWordIndex={currentWord}\r\n                  />\r\n                  <Lives\r\n                    livesCount={lives}\r\n                    totalLives={TOTAL_LIVES}\r\n                  />\r\n                </div>\r\n              </div>\r\n            )\r\n          }\r\n          return null\r\n        })()\r\n      }\r\n    </div>\r\n  )\r\n}","import React, { useState } from \"react\"\r\nimport cx from \"classnames\"\r\nimport classesCss from \"../UserPage.module.scss\"\r\nimport Button from \"../../../components/Buttons/Button\";\r\n\r\n\r\nexport default function UserImageEditor({image, onUpdate, onRemove}){\r\n\r\n  const [onHoverState, setOnHover] = useState(null)\r\n\r\n  return(\r\n    <div\r\n      className={classesCss.ImageEditor}\r\n      style={{backgroundImage: `url(${image})`, color: \"white\"}}\r\n      onMouseEnter={() => setOnHover(true)}\r\n      onMouseLeave={() => setOnHover(false)}\r\n\r\n    >\r\n      <div\r\n        className={\r\n          cx({[classesCss.Visible]:onHoverState}, classesCss.Overlay)\r\n        }>\r\n        <Button\r\n          className={classesCss.Button}\r\n          label={\"Редактировать\"}\r\n          onClick={onUpdate}\r\n        />\r\n        <Button\r\n          className={cx(classesCss.Button, classesCss.RemoveButton)}\r\n          label={\"Удалить\"}\r\n          onClick={onRemove}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport ImageUploading from \"react-images-uploading\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport cx from \"classnames\";\r\nimport { setUserSettings } from \"../../../redux/actions.user\";\r\nimport { userSettingsRequestWithImage } from \"../../../helpers/requsts.server\";\r\nimport Button from \"../../../components/Buttons/Button\";\r\nimport UserImageEditor from \"./UserImageEditor\";\r\nimport LoadingOverlay from \"../../../components/Loading/LoadingOverlay\";\r\nimport { SETTINGS } from \"../../../settings/settings\";\r\nimport classesCss from \"../UserPage.module.scss\";\r\n\r\nexport default function UserSettingsForm(){\r\n  const {settings: userSettings, onLoading, token, id} = useSelector(state => state.user)\r\n  const [currentImage, setCurrentImage] = useState({\r\n    url: null,\r\n    files : null\r\n  })\r\n  const [form, setForm] = useState({name : \"\"})\r\n  const [onSendLoading, setOnSendLoading] = useState(false)\r\n  const dispatch = useDispatch()\r\n\r\n  async function sendHandler(){\r\n    const data = new FormData()\r\n    const settingsForServer = {optional: {...userSettings.optional, ...form}}\r\n    if(currentImage.files && currentImage.files[0]?.file){\r\n      data.append(\"image\", currentImage.files[0].file)\r\n    }else if(!currentImage.url){\r\n      data.append(\"removeImage\", \"true\")\r\n      settingsForServer.optional.image = \"\"\r\n    }\r\n    data.append(\"settings\", JSON.stringify(settingsForServer))\r\n    setOnSendLoading(true)\r\n    const rawRes = await userSettingsRequestWithImage({token, id, data})\r\n    const res = await rawRes.json()\r\n    setOnSendLoading(false)\r\n    dispatch(setUserSettings({\r\n      optional: res.optional,\r\n    }))\r\n  }\r\n\r\n  function updateForm(e){\r\n    setForm({...form, [e.target.name]:e.target.value})\r\n  }\r\n\r\n  function imageUpdateHandler(files){\r\n    setCurrentImage({\r\n      url: files[0]? files[0].dataUrl: null,\r\n      files\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!currentImage.url && userSettings.optional?.image) {\r\n      setCurrentImage(imageData => {\r\n        return {...imageData, url: `${SETTINGS.AWS_STORE_URL}/${userSettings.optional.image}`}\r\n      })\r\n    }\r\n  }, [userSettings.optional?.image])\r\n\r\n\r\n  useEffect(() => {\r\n    if(userSettings.optional?.name) {\r\n      setForm(currentFormData => ({...currentFormData, name: userSettings.optional.name}))\r\n    }\r\n  }, [userSettings.optional?.name])\r\n\r\n  return (\r\n    <div className={classesCss.UserSettingsBlock}>\r\n      {\r\n        onSendLoading?\r\n          <LoadingOverlay\r\n            className={classesCss.LoadingOverlay}\r\n          />\r\n          : null\r\n      }\r\n      <ImageUploading\r\n        value={currentImage.files}\r\n        onChange={imageUpdateHandler}\r\n        maxNumber={1}\r\n        dataURLKey=\"dataUrl\"\r\n      >\r\n        {({onImageUpload, onImageUpdate, onImageRemove, isDragging, dragProps,}) => {\r\n          return (\r\n            <div className={classesCss.UploadImageWrap}>\r\n              {\r\n                onLoading ?\r\n                  <div>Loading...</div>\r\n                  : currentImage?.url ?\r\n                  <UserImageEditor\r\n                    image={currentImage.url}\r\n                    onUpdate={onImageUpdate}\r\n                    onRemove={onImageRemove}\r\n                  />\r\n                  : <Button\r\n                    className={classesCss.ImageLoadButton}\r\n                    style={isDragging ? {color: \"red\"} : null}\r\n                    onClick={onImageUpload}\r\n                    label={\"Нажмите сюда или перетащите картинку\"}\r\n                    {...dragProps}\r\n                  />\r\n              }\r\n            </div>\r\n          )\r\n        }}\r\n      </ImageUploading>\r\n      <input\r\n        type={\"text\"}\r\n        name={\"name\"}\r\n        value={form.name}\r\n        className={cx(classesCss.Input, {[classesCss.Empty]:!form.name})}\r\n        onChange={updateForm}\r\n        autoComplete={\"off\"}\r\n        placeholder={\"Имя\"}\r\n      />\r\n      <Button\r\n        disabled={onSendLoading}\r\n        onClick={sendHandler}\r\n        label={\"Сохранить\"}\r\n        className={classesCss.SendButton}\r\n      />\r\n    </div>\r\n  )\r\n}","import React from \"react\"\r\nimport classesCss from \"./UserPage.module.scss\"\r\nimport UserSettingsForm from \"./components/UserSettingsForm\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {logOut} from \"../../redux/actions.auth\";\r\nimport CloseLink from \"../../components/Buttons/CloseLink\";\r\nimport StatisticsPage from \"../StatisticsPage/StatisticsPage\";\r\n\r\n\r\nexport default function UserPage(){\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  return (\r\n    <div className={classesCss.UserPage}>\r\n      <div className={classesCss.UserSettingsBlockContainer}>\r\n        <UserSettingsForm />\r\n        <NavLink\r\n          className={classesCss.ExitButton}\r\n          to={\"/\"}\r\n          onClick={() => dispatch(logOut())}\r\n        >Выйти из аккаунта\r\n        </NavLink>\r\n      </div>\r\n\r\n      <StatisticsPage />\r\n\r\n      <CloseLink/>\r\n    </div>\r\n  )\r\n}\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { statisticsSelector } from \"../redux/games/selectors\";\r\nimport { populateStatistics } from \"../helpers/gameUtils\";\r\nimport { addStatisticsThunk } from \"../redux/games/thunk.statistics\";\r\nimport { useCallback } from \"react\";\r\n\r\nexport function useStatistic(){\r\n  const currentUserStatistic = useSelector(statisticsSelector)\r\n  const {id} = useSelector(store => store.user)\r\n  const dispatch = useDispatch()\r\n  const update = useCallback((game, statistic) => {\r\n    const statisticForUpdate = populateStatistics(\r\n      game, //puzzle\r\n      currentUserStatistic,\r\n      {\r\n        ...statistic,\r\n        createdOn: Date.now()}\r\n    );\r\n    statisticForUpdate.learnedWords = statistic.wordCounter\r\n    dispatch(addStatisticsThunk(id, statisticForUpdate));\r\n  }, [currentUserStatistic, dispatch, id])\r\n  return {update}\r\n}","import React from 'react'\r\nimport Button from \"./Button\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faUndo } from '@fortawesome/free-solid-svg-icons'\r\nimport cx from \"classnames\"\r\nimport classesCss from \"./Button.module.scss\"\r\n\r\n\r\nexport default function ResetButton({className, ...props}){\r\n  return(\r\n    <Button\r\n      className={cx(classesCss.ResetButton, className)}\r\n      label = {<FontAwesomeIcon icon={faUndo}/>}\r\n      {...props}\r\n    />\r\n  )\r\n}","import React from \"react\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faArrowAltCircleLeft } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function BackToGameLink({state, classes, ...props}){\r\n  return(\r\n    <NavLink\r\n\r\n      to={{pathname:\"/games\", state}}\r\n      {...props}\r\n    >\r\n      <FontAwesomeIcon\r\n        className={classes.icon}\r\n        icon={faArrowAltCircleLeft} />\r\n      <span>Ко всем играм</span>\r\n    </NavLink>\r\n  )\r\n}","import React from 'react'\r\nimport classesCss from \"./GameModal.module.scss\"\r\n\r\nexport default function GameModal({children, gameData}){\r\n  return(\r\n    <div className={classesCss.GameModal}>\r\n      <div className={classesCss.ModalText}>\r\n        <h3>{gameData.name}</h3>\r\n\r\n        {gameData.greetText}\r\n      </div>\r\n      {children}\r\n    </div>\r\n  )\r\n}","import React from \"react\"\r\nimport cx from \"classnames\"\r\nimport { SETTINGS } from \"../../../../settings/settings\";\r\nimport classesCss from \"./StatisticModal.module.scss\"\r\nimport SoundButton from \"../../../../components/Buttons/SoundButton\";\r\n\r\n\r\n//TODO: Выключение звука\r\n//TODO: Раскрытие на всю страницу\r\n//TODO: fix statistic record\r\n\r\nexport default function StatisticModal({words, className}){\r\n  return (\r\n    <div className={cx(className, classesCss.StatisticModal)}>\r\n      <h3>Результаты</h3>\r\n      <div className={classesCss.TableWrap}>\r\n      <table className={classesCss.StatisticTable}>\r\n        <thead>\r\n        <tr>\r\n          <th/>\r\n          <th/>\r\n          <th/>\r\n          <th/>\r\n          <th/>\r\n          {words[0].userNewResults ?\r\n            <>\r\n            <th>✔️</th>\r\n            <th>Всего</th>\r\n            </> : null\r\n          }\r\n        </tr>\r\n        </thead>\r\n\r\n        <tbody className={classesCss.Body}>\r\n        {\r\n          words.map(word => {\r\n            return (\r\n              <tr key={word.id}\r\n                  className={classesCss.Word}>\r\n                <td>\r\n                  <SoundButton\r\n                    file={`${SETTINGS.SERVER}/${word.audio}`}\r\n                    className={classesCss.AudioButton}\r\n                  />\r\n                </td>\r\n                <td>{word.word}</td>\r\n                <td>{word.transcription}</td>\r\n                <td>{word.wordTranslate}</td>\r\n                <td>{word?.result?.succeed ? \"✔️\" : \"❌\"}</td>\r\n                {word.userNewResults ?\r\n                  <>\r\n                    <td>{word.userNewResults.optional?.successCounter}</td>\r\n                    <td>{word.userNewResults.optional?.failCounter + word.userNewResults.optional?.successCounter}</td>\r\n                  </>\r\n                  : null\r\n                }\r\n              </tr>\r\n            )\r\n          })\r\n        }\r\n        </tbody>\r\n\r\n      </table>\r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport cx from \"classnames\"\r\nimport classesCss from './LevelButtons.module.scss'\r\n\r\nexport default function LevelButtons({levelNumbers, levelStyles, onSelect, className}){\r\n\r\n\r\n  return (\r\n    <div className={cx(className, classesCss.LevelButtonsWrap)}>\r\n      {\r\n        new Array(levelNumbers).fill(null).map((el, index) => {\r\n          return (\r\n            <div\r\n              key = {`lb${index}`}\r\n              className={cx(levelStyles[`Level${index+1}`], classesCss.Button)}\r\n              onClick={() => onSelect(index)}\r\n            >\r\n              {index + 1}\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { useLocation } from \"react-router-dom\"\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport cx from \"classnames\"\r\nimport { useUserWordUpdate } from \"../../hooks/hooks.user\";\r\nimport { useWords, useWordsGroup } from \"../../hooks/hooks.words\";\r\nimport { createRandomChunkFromGroup } from \"../../helpers/utils.words\";\r\nimport { useStatistic } from \"../../hooks/hooks.statistic\";\r\nimport { resetGameStatistics } from \"../../redux/games/actions\";\r\nimport { getStatisticsThunk } from \"../../redux/games/thunk.statistics\";\r\nimport Button from \"../../components/Buttons/Button\";\r\nimport BookButton from \"../../components/Buttons/BookButton\";\r\nimport ResetButton from \"../../components/Buttons/ResetButton\";\r\nimport BackToGameLink from \"./common/BackToGameLink\";\r\nimport GameModal from \"./common/GameModal/GameModal\";\r\nimport StatisticModal from \"./common/StatisticModal/StatisticModal\";\r\nimport LevelButtons from \"./common/Levels/LevelButtons\";\r\nimport CloseLink from \"../../components/Buttons/CloseLink\";\r\nimport { SETTINGS } from \"../../settings/settings\";\r\nimport classesCss from \"./Games.module.scss\"\r\nimport levelClasses from \"../../styles/LevelStyles.module.scss\"\r\nimport buttonClasses from \"../../components/Buttons/Button.module.scss\"\r\n\r\nconst initialStatistic = {\r\n  rightAnswers: 0,\r\n  wrongAnswers: 0,\r\n  wordCounter: 0,\r\n  bestSeries: 0,\r\n}\r\n\r\nconst {DEFAULT_WORD_CHUNK_LENGTH} = SETTINGS\r\n\r\nexport default function GameShell(props){\r\n  const {\r\n    children,\r\n    gameData,\r\n    className,\r\n    style,\r\n  } = props\r\n\r\n  const wordsBundleLength =\r\n    gameData.wordsMinCount > DEFAULT_WORD_CHUNK_LENGTH ? gameData.wordsMinCount : DEFAULT_WORD_CHUNK_LENGTH\r\n\r\n  const dispatch = useDispatch();\r\n  const {currentWordsGroup, getWordsGroup, onGroupLoading} = useWordsGroup()\r\n  const {onLoading} = useWords()\r\n  const {update: updateUserWord} = useUserWordUpdate()\r\n  const {update: updateStatistic} = useStatistic()\r\n\r\n  const {isLogged, id: userId} = useSelector(state => state.user)\r\n\r\n  const [currentChunk, setCurrentChunk] = useState(null)\r\n  const [gameEndLastWord, setGameEndLastWord] = useState(-1)\r\n  const [isGameCanStart, setIsGameCanStart] = useState(false)\r\n  const [gameResetKey, setGameResetKey] = useState(Math.random())\r\n  const [statisticChunk, setStatisticChunk] = useState(null)\r\n  const [statistic, setStatistic] = useState(initialStatistic)\r\n  const [statisticWasUpdate, setStatisticWasUpdate] = useState(false)\r\n  const [currentSeries, setCurrentSeries] = useState(0)\r\n\r\n  const {state} = useLocation()\r\n  const {words: urlWords, group: urlGroup, fullWordsSet} = state ? state : {}\r\n\r\n  function levelSelectHandler(index){\r\n    getWordsGroup(index)\r\n    setIsGameCanStart(true)\r\n  }\r\n\r\n  function gameEndHandler(index){\r\n    setGameEndLastWord(Number.isInteger(index) ? index + 1 : currentChunk.length)\r\n  }\r\n\r\n  function setGameStartAgain(){\r\n    setGameResetKey(state => state + 1)\r\n    setCurrentSeries(0)\r\n    setStatisticChunk([...currentChunk])\r\n    setStatistic(initialStatistic)\r\n    setStatisticWasUpdate(false)\r\n    setGameEndLastWord(-1)\r\n  }\r\n\r\n  function updateStatisticChunk(wordForUpdate, dataForUpdate){\r\n    const statisticWordIndex = statisticChunk.findIndex(statWord => statWord.id === wordForUpdate.id)\r\n    if (statisticWordIndex + 1) {\r\n      setStatisticChunk(currentStatistic => {\r\n        const newStatisticChunk = [...currentStatistic]\r\n        newStatisticChunk[statisticWordIndex] = {...newStatisticChunk[statisticWordIndex], ...dataForUpdate}\r\n        return newStatisticChunk\r\n      })\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  function wordSelectHandler(word, params){\r\n    const paramsForUpdate = {succeed: !!params.succeed}\r\n\r\n    if (isLogged) {\r\n      updateUserWord(word, paramsForUpdate).then(updatedWord => {\r\n        if (updatedWord.optional.failCounter + updatedWord.optional.successCounter === 1) {\r\n          setStatistic(state => ({...state, wordCounter: state.wordCounter + 1}))\r\n        }\r\n        updateStatisticChunk(word, {userNewResults: updatedWord})\r\n      }).catch(() => {\r\n        updateStatisticChunk(word, {userNewResults: {}})\r\n      })\r\n      const statisticForUpdate = {}\r\n      if (paramsForUpdate.succeed) {\r\n        statisticForUpdate.rightAnswers = statistic.rightAnswers + 1\r\n        if (currentSeries + 1 > statistic.bestSeries) {\r\n          statisticForUpdate.bestSeries = currentSeries + 1\r\n        }\r\n        setCurrentSeries(currentSeries + 1)\r\n      } else {\r\n        if (currentSeries) {\r\n          setCurrentSeries(0)\r\n        }\r\n        statisticForUpdate.wrongAnswers = statistic.wrongAnswers + 1\r\n      }\r\n      setStatistic({...statistic, ...statisticForUpdate})\r\n    }\r\n    updateStatisticChunk(word, {result: paramsForUpdate})\r\n  }\r\n\r\n  function complementChunkToMinimum (initialChunk, sourceChunk, length){\r\n    const missingWordsCount = length - initialChunk.length\r\n    const missingWordsSet = sourceChunk.reduce((reducer, word) => {\r\n      if (reducer.length < missingWordsCount\r\n        && !(initialChunk.findIndex(urlWord => urlWord.id === word.id) + 1)) {\r\n        reducer.push(word)\r\n      }\r\n      return reducer\r\n    }, [])\r\n    return [...initialChunk, ...missingWordsSet]\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!urlWords?.length) return\r\n    if (urlWords.length >= wordsBundleLength) {\r\n      setCurrentChunk([...urlWords])\r\n      return\r\n    }\r\n    if (fullWordsSet) {\r\n      if (fullWordsSet.length === wordsBundleLength) {\r\n        setCurrentChunk([...fullWordsSet])\r\n        return\r\n      }\r\n      if (fullWordsSet.length > wordsBundleLength) {\r\n        const complementChunk = complementChunkToMinimum(urlWords, fullWordsSet, wordsBundleLength)\r\n        setCurrentChunk(complementChunk)\r\n        return\r\n      }\r\n    }\r\n    getWordsGroup(urlGroup)\r\n  }, [urlWords, wordsBundleLength, urlGroup, fullWordsSet, getWordsGroup])\r\n\r\n  useEffect(() => {\r\n    if(!urlWords || !currentWordsGroup) return\r\n\r\n    const randomChunk = createRandomChunkFromGroup(currentWordsGroup, wordsBundleLength)\r\n    if(fullWordsSet?.length){\r\n      const complementChunk = complementChunkToMinimum(fullWordsSet, randomChunk, wordsBundleLength)\r\n      setCurrentChunk(complementChunk)\r\n      return\r\n    }\r\n    const complementChunk = complementChunkToMinimum(urlWords, randomChunk, wordsBundleLength)\r\n    setCurrentChunk(complementChunk)\r\n  }, [currentWordsGroup,urlWords, fullWordsSet, wordsBundleLength])\r\n\r\n\r\n  useEffect(() => {\r\n    if(urlWords || !currentWordsGroup) return\r\n    const randomChunk = createRandomChunkFromGroup(currentWordsGroup, wordsBundleLength)\r\n    setCurrentChunk(randomChunk)\r\n  }, [currentWordsGroup, wordsBundleLength, urlWords])\r\n\r\n  useEffect(() => {\r\n    if (currentChunk?.length) {\r\n      setStatisticChunk([...currentChunk])\r\n    }\r\n  }, [currentChunk])\r\n\r\n  useEffect(() => {\r\n    if (isLogged && gameEndLastWord > 0 && !statisticWasUpdate && statisticChunk?.length) {\r\n      if (statisticChunk[gameEndLastWord - 1].userNewResults) {\r\n        updateStatistic(gameData.key, statistic)\r\n        setStatisticWasUpdate(true)\r\n      }\r\n    }\r\n  }, [gameEndLastWord, statisticChunk, isLogged, statisticWasUpdate, updateStatistic, gameData?.key, statistic])\r\n\r\n  useEffect(() => {\r\n    if (userId) {\r\n      dispatch(getStatisticsThunk(userId));\r\n      return () => {\r\n        dispatch(resetGameStatistics());\r\n      }\r\n    }\r\n  }, [dispatch, userId]);\r\n\r\n  function getGameWithData(){\r\n    const onAnyLoading = onGroupLoading || onLoading\r\n    if (gameEndLastWord === -1 && ((children && onAnyLoading)\r\n      || (children && !onAnyLoading && currentChunk?.length))) {\r\n      const gameProps = {\r\n        key: gameResetKey,\r\n        words: currentChunk,\r\n        onLoading: onAnyLoading,\r\n        onWordSelect: wordSelectHandler,\r\n        onGameEnd: gameEndHandler,\r\n      }\r\n      return React.Children.map(children,\r\n        child => {\r\n          return (\r\n            <child.type\r\n              {...child.props}\r\n              {...gameProps}\r\n            >\r\n              {children}\r\n            </child.type>)\r\n        })\r\n    }\r\n    return null\r\n  }\r\n\r\n  const gameContent = getGameWithData()\r\n\r\n  return (\r\n    <div className={[className, classesCss.GameShell].join(\" \")} style={style}>\r\n      {\r\n        (() => {\r\n          if (gameEndLastWord === -1) {\r\n            if (isGameCanStart && gameContent) return gameContent\r\n            return (\r\n              <GameModal\r\n                gameData={gameData}\r\n              >\r\n                {urlWords ?\r\n                  <Button\r\n                    className={cx(buttonClasses.TransparentButton, classesCss.StartButton)}\r\n                    onClick={() => setIsGameCanStart(true)}\r\n                    label={\"Начать\"}\r\n                  />\r\n                  : <LevelButtons\r\n                    levelNumbers={6}\r\n                    levelStyles={levelClasses}\r\n                    onSelect={levelSelectHandler}\r\n                  />\r\n                }\r\n              </GameModal>)\r\n          }\r\n          return (\r\n            <>\r\n              <StatisticModal\r\n                className={classesCss.StatisticModal}\r\n                words={statisticChunk.filter((word, index) => index < gameEndLastWord)}\r\n              />\r\n              <div className={classesCss.GameEndHelper}>\r\n                <ResetButton\r\n                  className={cx(classesCss.ResetButton, classesCss.Button)}\r\n                  onClick={setGameStartAgain}/>\r\n                <BookButton\r\n                  className={cx(classesCss.BookLink, classesCss.Button)}\r\n                />\r\n                <BackToGameLink\r\n                  className={cx(classesCss.BackLink, classesCss.Button)}\r\n                  classes={{icon: classesCss.Icon}}\r\n                  state={state}/>\r\n              </div>\r\n            </>\r\n          )\r\n        })()\r\n      }\r\n      <CloseLink/>\r\n    </div>\r\n  )\r\n};","import React from \"react\"\r\n\r\nexport default function SvgWave({children, colors, viewBox = \"0 0 1920 1500\"}){\r\n  return(\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <defs>\r\n        <linearGradient id={\"Grad1\"}>\r\n          <stop offset={\"5%\"} stopColor={colors[0]}/>\r\n          <stop offset={\"95%\"} stopColor={colors[1]} />\r\n        </linearGradient>\r\n      </defs>\r\n      {React.Children.map(children,\r\n        child => {\r\n          return (\r\n            <child.type\r\n              {...child.props}\r\n              fill={\"url(#Grad1)\"}\r\n            >\r\n              {children}\r\n            </child.type>)\r\n        })}\r\n    </svg>\r\n  )\r\n}","export const WAVES = [\r\n  \"M1920,1488c-56.4.89-114.58-3.88-165-13-44.14-7.99-85.74-8.78-127-19-56.4-13.97-111.72-26.06-161-47q-43.995-22.995-88-46-39.495-15.495-79-31-63.495-19.005-127-38c-194.911-60.77-405.385-109.59-450-321-14.753-69.906,16.3-122.665,45-159,49.328-62.447,134.116-106.052,211-140,36.96-16.32,75.57-32.679,106-56,84.36-64.66,106.31-233.165,170-323,94.04-132.65,295.02-194.767,477-241,58.78-14.934,123.27-30.572,188-37V1488Z\",\r\n  \"M-74,0S772.85,713.585,1197,473s895.81,26.539,938,486S1088.26,1496.02,881,1246s-1234.269-84.68-1116,103S-74,0-74,0Z\",\r\n  \"M-241,1383s275.664-215.33,782-263,662.36-288.495,344-604S-137.127,370.614-129,164-241,1383-241,1383ZM2020,72\",\r\n  \"M2079,22S689.555,39.062,1106,307s650.28,117.957,620,464-228.7,532.51,143,477,464-156,464-156Z\",\r\n  \"M-43-45S79.93,773.783,1008,754,2162.07,933.3,2193,1109s-19,318-19,318,28.57-543.914-788-494S926.943,1139.58,315,1282s-520,151-520,151Z\"\r\n]","import React from \"react\"\r\nimport cx from \"classnames\"\r\nimport Footer from \"../MainPage/Footer\";\r\nimport CloseLink from \"../../components/Buttons/CloseLink\";\r\nimport SvgWave from \"../../components/Effects/SvgWave\";\r\nimport AboutCard from \"../../components/AboutCard/AboutCard\";\r\nimport { GAMES_ARRAY, TEAM } from \"../../settings/data\";\r\nimport { WAVES } from \"../../settings/waves\";\r\nimport classesCss from \"./AboutPage.module.scss\"\r\n\r\nconst wavesColors = [\"#ff8758\", \"#d43d1e\"]\r\n\r\nexport default function AboutPage(){\r\n  return (\r\n    <div className={classesCss.AboutPage}>\r\n      <CloseLink className={classesCss.CloseLink}/>\r\n      <div className={cx(classesCss.Section, classesCss.Special)}>\r\n        <div className={classesCss.Content}>\r\n          <h2>Особенности</h2>\r\n          <div className={classesCss.RowContent}>\r\n            <div className={classesCss.CardsContainer}>\r\n              <AboutCard\r\n                image={\"books.png\"}\r\n                head={\"Узнавай новое\"}\r\n                text={\"В учебнике собраны 3600 самых используемых в повседневной жизни слов, есть его определение и пример как на русском так и на английском!.\"}\r\n              />\r\n              <AboutCard\r\n                image={\"repeat.png\"}\r\n                head={\"Повторяй\"}\r\n                text={\"Все слова которые ты изучил попадают в твой личный словарь. Ты можешь отметить сложные для тебя\" +\r\n                \" слова, чтобы знать, на что чаще обращать внимание!\"}\r\n              />\r\n              <AboutCard\r\n                image={\"statistic.png\"}\r\n                head={\"Следи за прогрессом\"}\r\n                text={\"В личном кабинете ты можешь следить за своим прогрессом: сколько слов ты уже выучил всего и за каждый день.\"}\r\n              />\r\n            </div>\r\n            <div className={classesCss.Asset}>\r\n              <div style={{backgroundImage: `url(${process.env.PUBLIC_URL}/static/glass1.png)`,}}/>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <SvgWave\r\n          colors={wavesColors}\r\n          viewBox={\"0 300 1920 1700\"}\r\n        >\r\n          <path d={WAVES[0]}/>\r\n        </SvgWave>\r\n\r\n      </div>\r\n      <div id={\"games\"} className={cx(classesCss.Section, classesCss.Games)}>\r\n        <div className={classesCss.Content}>\r\n          <h2>Игры</h2>\r\n          <div className={classesCss.CardsContainer}>\r\n            {\r\n              GAMES_ARRAY.map(({navigationImage, name, description}) => {\r\n                return(\r\n                  <AboutCard\r\n                    key={\"aboutgame\"+name}\r\n                    image={navigationImage}\r\n                    head={name}\r\n                    text={description}\r\n                  />\r\n                )\r\n              })\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <SvgWave colors={wavesColors}>\r\n          <path d={WAVES[1]}/>\r\n        </SvgWave>\r\n\r\n      </div>\r\n      <div id={\"team\"} className={cx(classesCss.Section, classesCss.Team)}>\r\n        <div className={classesCss.Content}>\r\n          <h2>Наша команда</h2>\r\n          <div className={classesCss.RowContent}>\r\n            <div className={classesCss.Asset}>\r\n              <div style={{backgroundImage: `url(${process.env.PUBLIC_URL}/static/team.png)`,}}/>\r\n            </div>\r\n            <div className={classesCss.CardsContainer}>\r\n              {\r\n                TEAM.map(({image, name, about}) => {\r\n                  return(\r\n                    <AboutCard\r\n                      cardImageRound\r\n                      image={image}\r\n                      head={name}\r\n                      text={about}\r\n                    />\r\n                  )\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <SvgWave colors={wavesColors}>\r\n          <path d={WAVES[2]}/>\r\n        </SvgWave>\r\n      </div>\r\n      <Footer />\r\n    </div>)\r\n}","import React, { useEffect } from \"react\";\r\nimport { Route, Switch, useLocation } from \"react-router-dom\";\r\nimport MainPage from \"./pages/MainPage/MainPage\";\r\nimport BookPage from \"./pages/BookPage/BookPage\";\r\nimport GamesPage from \"./pages/GamesPage/GamesPage\";\r\nimport Sprint from \"./pages/Games/Sprint/GamePage\";\r\nimport AudioCall from \"./pages/Games/AudioCall/GamePageAudioCall\";\r\nimport Savannah from \"./pages/Games/Savannah/GamePage\";\r\nimport StatisticsPage from \"./pages/StatisticsPage/StatisticsPage\";\r\nimport PuzzleGame from \"./pages/Games/PuzzleGame/PuzzleGame\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { syncUserWords } from \"./redux/actions.words\";\r\nimport { checkToken, logOut } from \"./redux/actions.auth\";\r\nimport UserPage from \"./pages/UserPage/UserPage\";\r\nimport GameShell from \"./pages/Games/GameShell\";\r\nimport { GAMES } from \"./settings/data\";\r\nimport \"./styles/effects.scss\";\r\nimport \"./styles/App.module.scss\";\r\nimport AboutPage from \"./pages/AboutPage/AboutPage\";\r\n\r\nexport default function App() {\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n  const { isLogged } = useSelector((store) => store.user);\r\n\r\n  function getGamePath(game) {\r\n    const basePath = `/games/${game}`;\r\n    return [`${basePath}/:group/:page`, `${basePath}/:group`, basePath];\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function syncUser() {\r\n      const token = await dispatch(checkToken());\r\n      if (token) {\r\n        await dispatch(syncUserWords());\r\n      } else {\r\n        await dispatch(logOut());\r\n      }\r\n    }\r\n\r\n    if (isLogged) {\r\n      syncUser();\r\n    }\r\n  }, [dispatch, isLogged]);\r\n\r\n  return (\r\n    <>\r\n      <Switch location={location}>\r\n        <Route path={[\"/book\", \"/vocabulary\"]}>\r\n          <BookPage />\r\n        </Route>\r\n        <Route path=\"/statistic\">\r\n          <StatisticsPage />\r\n        </Route>\r\n        <Route path={getGamePath(\"savannah\")}>\r\n          <GameShell gameData={GAMES.savannah}>\r\n            <Savannah />\r\n          </GameShell>\r\n        </Route>\r\n        <Route path={getGamePath(\"audiocall\")}>\r\n          <GameShell gameData={GAMES.audiocall}>\r\n            <AudioCall />\r\n          </GameShell>\r\n        </Route>\r\n        <Route path={getGamePath(\"sprint\")}>\r\n          <GameShell gameData={GAMES.sprint}>\r\n            <Sprint />\r\n          </GameShell>\r\n        </Route>\r\n        <Route path={getGamePath(\"puzzle\")}>\r\n          <GameShell gameData={GAMES.puzzle}>\r\n            <PuzzleGame />\r\n          </GameShell>\r\n        </Route>\r\n        <Route path=\"/games\" exact>\r\n          <GamesPage />\r\n        </Route>\r\n        <Route path=\"/about\" exact>\r\n          <AboutPage />\r\n        </Route>\r\n        <Route path=\"/user\" exact>\r\n          <UserPage />\r\n        </Route>\r\n        <Route path=\"/\" exact>\r\n          <MainPage />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport { store, persistor } from \"./redux/store\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n      <App />\r\n      </PersistGate>\r\n    </Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserPage\":\"UserPage_UserPage__1fnsZ\",\"UserSettingsBlockContainer\":\"UserPage_UserSettingsBlockContainer__NHQV1\",\"ExitButton\":\"UserPage_ExitButton__37xjh\",\"UserSettingsBlock\":\"UserPage_UserSettingsBlock__3MpLn\",\"LoadingOverlay\":\"UserPage_LoadingOverlay__2Jwjg\",\"Input\":\"UserPage_Input__UDMgD\",\"Empty\":\"UserPage_Empty__1U_47\",\"UploadImageWrap\":\"UserPage_UploadImageWrap__3IwEh\",\"ImageEditor\":\"UserPage_ImageEditor__HlQ8j\",\"Overlay\":\"UserPage_Overlay__2EMsj\",\"Button\":\"UserPage_Button__dMJwP\",\"RemoveButton\":\"UserPage_RemoveButton__2Avve\",\"Visible\":\"UserPage_Visible__3KJ8r\",\"ImageLoadButton\":\"UserPage_ImageLoadButton__2hT_e\",\"SendButton\":\"UserPage_SendButton__nPoBV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AboutPage\":\"AboutPage_AboutPage__H6i9-\",\"Section\":\"AboutPage_Section__1y_gE\",\"Content\":\"AboutPage_Content__NsX-V\",\"RowContent\":\"AboutPage_RowContent__3dQrc\",\"CardsContainer\":\"AboutPage_CardsContainer__1NE2O\",\"Special\":\"AboutPage_Special__3qnl_\",\"Asset\":\"AboutPage_Asset__1L8Vj\",\"Team\":\"AboutPage_Team__rjixK\",\"CloseLink\":\"AboutPage_CloseLink__2BVbu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"StatisticPage\":\"StatisticPage_StatisticPage__1ODBq\",\"Title\":\"StatisticPage_Title__2IHAy\",\"DayStatistic\":\"StatisticPage_DayStatistic__ESJR5\",\"GamesStatistic\":\"StatisticPage_GamesStatistic__1dfiS\",\"ToggleBlock\":\"StatisticPage_ToggleBlock__jhox7\",\"Statistic\":\"StatisticPage_Statistic__3QJ_J\",\"StatisticTable\":\"StatisticPage_StatisticTable__3uJfV\",\"StatisticStrings\":\"StatisticPage_StatisticStrings__3p2e9\",\"Value\":\"StatisticPage_Value__3Tbui\",\"TotalStatistic\":\"StatisticPage_TotalStatistic__cM-Lb\",\"Graphics\":\"StatisticPage_Graphics__11FDg\",\"Chart\":\"StatisticPage_Chart__34uyW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GameShell\":\"Games_GameShell__2laBa\",\"StatisticModal\":\"Games_StatisticModal__utwTh\",\"GameEndHelper\":\"Games_GameEndHelper__1QvBK\",\"Button\":\"Games_Button__2ATdt\",\"BookLink\":\"Games_BookLink__2ZPSE\",\"BackLink\":\"Games_BackLink__2nO6Y\",\"Icon\":\"Games_Icon__1qcTB\",\"ResetButton\":\"Games_ResetButton__kx3lb\",\"StartButton\":\"Games_StartButton__1FU-8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AudioCall\":\"AudioCallGame_AudioCall__2bS4R\",\"containerGame\":\"AudioCallGame_containerGame__1M3LH\",\"gameContainer\":\"AudioCallGame_gameContainer__1tXeN\",\"wrapperFalling\":\"AudioCallGame_wrapperFalling__wxGY7\",\"noAnimation\":\"AudioCallGame_noAnimation__2Cxx9\",\"wordAudio\":\"AudioCallGame_wordAudio__2P9oN\",\"listWords\":\"AudioCallGame_listWords__FmtxV\",\"wordButton\":\"AudioCallGame_wordButton__3SKbu\",\"wordButtonRight\":\"AudioCallGame_wordButtonRight__2FLq8\",\"bubble\":\"AudioCallGame_bubble__1AsVr\",\"shake\":\"AudioCallGame_shake__3rGy2\",\"snakeCorrectAnimation\":\"AudioCallGame_snakeCorrectAnimation__2XG_g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Level1\":\"LevelStyles_Level1__eSxSc\",\"Level2\":\"LevelStyles_Level2__7zU17\",\"Level3\":\"LevelStyles_Level3__UVo7w\",\"Level4\":\"LevelStyles_Level4__1_y6N\",\"Level5\":\"LevelStyles_Level5__Cx6Yn\",\"Level6\":\"LevelStyles_Level6__3UEyb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"StatisticModal\":\"StatisticModal_StatisticModal__1BWaD\",\"TableWrap\":\"StatisticModal_TableWrap__rMjtg\",\"StatisticTable\":\"StatisticModal_StatisticTable__2fkS3\",\"AudioButton\":\"StatisticModal_AudioButton__1Pw9i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Card\":\"AboutCard_Card__21NMv\",\"CardImageBottomRound\":\"AboutCard_CardImageBottomRound__1VB3N\",\"CardImage\":\"AboutCard_CardImage__2Wpd8\",\"CardImageRound\":\"AboutCard_CardImageRound__lbg60\",\"CardText\":\"AboutCard_CardText__3T6i5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BookPage\":\"BookPage_BookPage__31tAn\",\"BookContent\":\"BookPage_BookContent__14eBw\",\"SettingsBlock\":\"BookPage_SettingsBlock__2_it-\",\"SettingsContent\":\"BookPage_SettingsContent__3DNPU\",\"SettingsCloseButton\":\"BookPage_SettingsCloseButton__1_WQG\",\"SettingButtonBlock\":\"BookPage_SettingButtonBlock__1yx5E\",\"SettingButton\":\"BookPage_SettingButton__28X7k\",\"Selected\":\"BookPage_Selected__1Dv59\",\"Disabled\":\"BookPage_Disabled__2GjC1\",\"SettingButtonText\":\"BookPage_SettingButtonText__3ehxO\",\"BookMenu\":\"BookPage_BookMenu__WyC8y\",\"NavigationButton\":\"BookPage_NavigationButton__3XA1j\",\"NavigationLink\":\"BookPage_NavigationLink__aXrCs\",\"Pagination\":\"BookPage_Pagination__2zO4D\",\"PageCounter\":\"BookPage_PageCounter__1q_qt\",\"SelectedInput\":\"BookPage_SelectedInput__1KYph\",\"PaginationButton\":\"BookPage_PaginationButton__24kOE\",\"PopUpMenu\":\"BookPage_PopUpMenu__fQrBe\",\"Active\":\"BookPage_Active__22vpI\",\"GroupMenu\":\"BookPage_GroupMenu__1pa6W\",\"GroupMenuToggle\":\"BookPage_GroupMenuToggle__27Nlt\",\"BookLink\":\"BookPage_BookLink__219Dg\",\"GameMenu\":\"BookPage_GameMenu__Fmygw\",\"GameLinkWrap\":\"BookPage_GameLinkWrap__2VfZ1\",\"GameLink\":\"BookPage_GameLink__2SBSO\",\"GameLabel\":\"BookPage_GameLabel__1Bx6D\",\"Audiocall\":\"BookPage_Audiocall__56gNb\",\"VocabularyHeader\":\"BookPage_VocabularyHeader__2Gz_o\",\"VocabularySection\":\"BookPage_VocabularySection__1amD1\",\"DisclaimerBlock\":\"BookPage_DisclaimerBlock__1DVqL\",\"Image\":\"BookPage_Image__3ddEN\",\"Text\":\"BookPage_Text__-Yq0V\",\"ShowWithSmallWidth\":\"BookPage_ShowWithSmallWidth__1947b\",\"SmallWidthMenu\":\"BookPage_SmallWidthMenu__1JL_3\",\"HideWithSmallWidth\":\"BookPage_HideWithSmallWidth__106VG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoadingOverlay\":\"Loading_LoadingOverlay__3Ni1s\",\"LoadingSpinner\":\"Loading_LoadingSpinner__2Rf0T\",\"loading-spin\":\"Loading_loading-spin__1xUaS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GamesPage\":\"GamesPage_GamesPage__17mDD\",\"GameCard\":\"GamesPage_GameCard__3UmDf\",\"CloseLink\":\"GamesPage_CloseLink__2fT7A\"};"],"sourceRoot":""}